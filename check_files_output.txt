['mat_tests2.vert', 'log2_vec3_frag_xvary.frag', 'fract_vec3_vert_xvary_ref.vert', 'equal_bvec3_vert.vert', 'pow_float_frag_xconst2_yvary_ref.frag', 'int_empty_in_int_array_frag.frag', 'fract_float_vert_xvary_ref.vert', 'buffer_objects_multitexturing.vert', 'vec3_stp_1vec3_frag.frag', '3i_frag.frag', 'intArrayUniformShader.vert', 'radians_vec3_frag_xvary_ref.frag', 'ivec4_empty_empty_ivec4_empty_frag.frag', 'equality_frag.frag', 'mat3_9float_frag.frag', 'all_bvec2_frag_ref.frag', 'structnest_vec2_frag.frag', '2b_vert.vert', 'atan_vec3_vert_xvary.vert', 'structnest_vec4_frag.frag', 'emit1.glsl', 'log2_float_frag_xvary.frag', 'CorrectSwizzle2_frag.frag', 'pow_vec2_vert_xvary_yconsthalf.vert', 'exp_vec2_frag_xvaryneg_ref.frag', 'lessThan_ivec3_vert_ref.vert', 'exp_vec2_frag_xvaryneg.frag', 'gl_FragCoord_z_frag_ref.frag', 'clamp_float_frag_xvary_yconstquarter_ref.frag', 'radians_vec3_vert_xvary_ref.vert', 'float_empty_inout_float_empty_frag.frag', 'normalize_vec2_vert_xvary_ref.vert', 'preprocess10_frag.frag', 'log2_vec3_vert_xvary.vert', 'pow_vec2_frag_xconst2_yvary_ref.frag', 'sqrt_float_frag_xvary_ref.frag', 'CorrectSwizzle3_frag.frag', 'array_const_mat3_frag.frag', '1b_frag.frag', 'ivec4_empty_in_ivec4_array_vert.vert', 'all_bvec3_vert_ref.vert', 'structcopy_float_vert.vert', 'length_float_vert_xvary_ref.vert', 'buffer_objects_pointSize.vert', 'vec4_yxw_z_1vec3_1float_vert.vert', 'log2_float_frag_xvary_ref.frag', 'vec3_zyx_1vec3_frag.frag', 'sin_vec2_frag_xvary_ref.frag', 'mat4_empty_inout_mat4_array_frag.frag', 'const_mat4_copy_frag.frag', 'step_vec3_frag_xvary_edgeconsthalf.frag', 'structcopy_mat3_vert.vert', 'log2_float_frag_xvary01_ref.frag', 'mix_vec3_vert_xvary_yconsthalf_aconsthalf.vert', 'mat4_empty_empty_mat4_empty_frag.frag', 'atan_vec2_vert_xvary.vert', 'vec4_zwxy_1vec4_frag.frag', 'CorrectParse2_frag.frag', 'normalize_vec3_frag_xvary.frag', 'dot_float_vert_xvaryyone_ref.vert', 'non-ascii-comments.vert', 'floor_float_frag_xvary.frag', 'not_bvec2_frag.frag', 'vec4_yxw_z_1vec3_1float_frag.frag', '4i_frag.frag', 'tan_float_vert_xvary.vert', 'vec4_rg_ba_2vec2_frag.frag', 'dot_float_frag_xvaryyone_ref.frag', 'vec4_ar_bg_2vec2_frag.frag', 'vec2_2float_vert.vert', 'bvec4_empty_inout_bvec4_bigarray_vert.vert', 'faceforward_float_frag_nvaryiconst_ref.frag', 'mat4_empty_out_mat4_empty_vert.vert', 'pow_vec2_frag_xvary_yconsthalf.frag', 'asin_vec3_vert_xvary_ref.vert', 'pow_vec2_vert_xconsthalf_yvary.vert', '1b_vert.vert', 'notEqual_ivec3_vert_ref.vert', '24i_frag.frag', '_webgl_field.vert', 'greaterThanEqual_vec2_frag_ref.frag', 'notEqual_vec2_vert.vert', 'mat4_empty_empty_mat4_array_vert.vert', 'struct_mat2_vert.vert', 'vec4_arbg_1vec4_frag.frag', 'any_bvec2_frag_ref.frag', 'vec3_sp_t_1vec2_1float_vert.vert', 'vec4_arbg_1vec4_vert.vert', 'array_const_mat4_vert.vert', 'log_vec2_vert_xvary.vert', '4i_vert.frag', 'structcopy_bool_frag.frag', 'empty_empty_array_float_frag.frag', 'log_vec3_frag_xvary01.frag', 'float_empty_empty_float_array_frag.frag', 'min_vec3_frag_xvary_yconsthalf_ref.frag', 'array_float_vert.vert', 'lessThan_vec3_vert.vert', 'dFdx_frag_ref.vert', 'reflect_vec3_vert_ivarynconst.vert', 'dot_vec3_vert_xvaryythird.vert', '1i_vert.vert', 'not_bvec3_frag.frag', 'length_vec3_frag_xvary.frag', 'sin_float_vert_xvary.vert', 'pow_vec2_frag_xconsthalf_yvary.frag', 'vec4_xyz_w_1vec3_1float_frag.frag', 'int_empty_empty_int_empty_frag.frag', 'exp2_vec2_vert_xvary_ref.vert', 'CorrectParse1_frag.frag', 'bvec4_empty_out_bvec4_empty_vert.vert', 'lighting_diffuse_ref.vert', 'smoothstep_vec2_frag_xvary_edgeconstquarter_ref.frag', 'pow_float_vert_xconsthalf_yvary_ref.vert', 'vec3_xyz_1vec3_vert.vert', 'samplerUniformShader.frag', 'exp_vec3_vert_xvaryneg.vert', 'greaterThanEqual_ivec2_frag.frag', 'lessThanEqual_vec3_vert.vert', 'vec4_stpq_1vec4_vert.vert', 'lighting_diffuse.vert', 'vertexShader.vert', 'all_bvec3_vert.vert', '22i_frag.frag', 'log2_vec2_vert_xvary01.vert', 'atan_float_frag_xvaryyvary.frag', 'vec_tests.vert', 'vec4_gr_ab_2vec2_vert.vert', 'greaterThan_ivec2_vert_ref.vert', 'log2_vec3_frag_xvary01.frag', 'const_mat3_vert.vert', 'length_vec3_vert_xvary.vert', 'floor_vec3_frag_xvary.frag', 'vec4_empty_in_vec4_array_vert.vert', 'vec4_tsqp_1vec4_frag.frag', 'greaterThanEqual_ivec3_frag.frag', 'not_bvec3_vert_ref.vert', 'mat3_vert.vert', 'reflect_vec3_frag_ivarynconst_ref.frag', 'structnest_vec2_vert.vert', 'bool_empty_out_bool_empty_vert.vert', 'pow_vec2_frag_xconsthalf_yvary_ref.frag', 'atan_vec3_frag_xvaryyvary_ref.frag', 'vec3_vec2_float_vert.vert', 'log_vec3_vert_xvary_ref.vert', 'for_break_vert.vert', 'struct_bool_frag.frag', 'degrees_vec2_vert_xvary.vert', 'texture.frag', 'vec3_stp_1vec3_vert.vert', 'max_vec3_frag_xvary_yconsthalf_ref.frag', 'asin_vec2_frag_xvary_ref.frag', 'log_vec2_frag_xvary01_ref.frag', 'dot_vec2_vert_xvaryyhalf_ref.vert', 'atan_float_frag_xvaryyvary_ref.frag', 'smoothstep_vec2_vert_xvary_edgeconstquarter_ref.vert', 'vec4_rg_ba_2vec2_vert.vert', 'greaterThan_vec3_vert_ref.vert', 'discard_cond_frag_ref.frag', 'pow_float_frag_xconsthalf_yvary_ref.frag', 'vec3arrayindirect_frag.frag', 'lessThan_ivec3_frag_ref.frag', 'ivec4_empty_out_ivec4_empty_frag.frag', 'equal_vec2_frag.frag', 'CorrectFull_vert.vert', 'CorrectConstFolding1_vert.vert', 'log_vec3_vert_xvary01.vert', 'vec4_tsqp_1vec4_vert.vert', 'min_float_vert_xvary_yconsthalf.vert', 'default_textured.frag', 'extension3_V100_frag.frag', 'lessThanEqual_vec3_frag_ref.frag', 'float_empty_in_float_array_vert.vert', 'vec3_vec4_vert.vert', 'point_rasterization.vert', 'vec4_yx_wz_2vec2_frag.frag', 'all_bvec2_frag.frag', 'bvec4_empty_empty_bvec4_empty_frag.frag', 'bvec4_empty_inout_bvec4_empty_vert.vert', 'vec3_vec2_float_frag.frag', 'faceforward_vec3_vert_nvaryiconst_ref.vert', 'floor_vec3_frag_xvary_ref.frag', 'mat3arrayindirect1_frag.frag', 'struct_vec3_vert.vert', 'exp_vec3_frag_xvary_ref.frag', 'fract_float_vert_xvary.vert', 'const_mat2_vert.vert', 'qualifiers_float_vert.vert', 'atan_float_vert_xvaryyvary_ref.vert', 'vec4_qspt_1vec4_frag.frag', 'step_vec2_vert_xvary_edgeconsthalf_ref.vert', 'pow_float_frag_xvary_yconsthalf.frag', 'equal_ivec3_frag.frag', 'dot_vec3_vert_xvaryythird_ref.vert', 'cos_vec3_frag_xvary_ref.frag', 'bool_empty_in_bool_array_frag.frag', '3i_vert.frag', 'vec4_zx_wy_2vec2_vert.vert', 'equal_ivec2_vert.vert', 'log_vec3_vert_xvary01_ref.vert', 'DepthRange_vert.vert', 'gl_FragCoord_w_frag.frag', 'vec4_tsq_p_1vec3_1float_vert.vert', 'pow_float_vert_xvary_yconsthalf_ref.vert', 'brick_mat4.vert', '2i_vert.frag', 'length_vec2_frag_xvary.frag', 'struct_mat4_vert.vert', 'exp_vec2_frag_xvary_ref.frag', 'vec3_xz_y_1vec2_1float_frag.frag', 'greaterThan_vec3_frag_ref.frag', 'mix_float_frag_xvary_yconsthalf_aconsthalf.frag', 'sin_vec3_vert_xvary.vert', 'pow_vec3_frag_xconst2_yvary.frag', 'clamp_float_vert_xvary_yconstquarter_ref.vert', 'reflect_vec2_vert_ivarynconst.vert', 'exp_float_vert_xvaryneg_ref.vert', 'fboShader0.frag', 'mat3_float_vert.vert', 'cos_float_vert_xvary.vert', 'version3_V100_frag.frag', '_webgl_struct.vert', 'vec3_xyz_1vec3_frag.frag', 'exp_vec3_vert_xvary_ref.vert', 'step_vec2_frag_xvary_edgeconsthalf_ref.frag', 'const_mat4_vert.vert', 'mod_x_large_y_large_vert.vert', 'unary_frag.frag', 'prefixincrement_vert.vert', 'mat2_copy_frag.frag', 'sin_vec2_frag_xvary.frag', 'all_bvec3_frag_ref.frag', 'pow_vec3_vert_xconst2_yvary.vert', 'int_empty_empty_int_array_vert.vert', 'int_empty_out_int_array_vert.vert', 'equality_vert.vert', 'dot_float_vert_xvaryyone.vert', 'log_float_vert_xvary_ref.vert', 'greaterThan_ivec3_vert.vert', 'vec3_float_vec2_vert.vert', 'vec4_xyzw_1vec4_frag.frag', 'matrix_V100_frag.frag', 'fract_vec2_frag_xvary_ref.frag', 'lessThanEqual_ivec2_vert.vert', 'CorrectBuiltInOveride_frag.frag', 'vec4_empty_empty_vec4_array_vert.vert', 'vec4_qsp_t_1vec3_1float_frag.frag', 'vec4_stpq_1vec4_frag.frag', 'pow_vec3_vert_xconsthalf_yvary_ref.vert', 'cos_float_frag_xvary_ref.frag', 'log2_vec2_vert_xvary_ref.vert', 'notEqual_bvec3_vert.vert', 'int_empty_in_int_empty_frag.frag', 'equal_bvec2_frag.frag', 'pow_vec2_vert_xconsthalf_yvary_ref.vert', 'vec3_ps_t_1vec2_1float_vert.vert', 'atan_float_frag_xvary_ref.frag', 'int_empty_inout_int_array_vert.vert', 'clamp_vec2_vert_xvary_yconstquarter.vert', 'normalize_vec2_vert_xvary.vert', 'extension8_V100_frag.frag', 'faceforward_vec3_frag_nvaryiconst.frag', 'refract_vec2_vert_ivarynconst_ref.vert', 'vec3_rg_b_1vec2_1float_vert.vert', 'mat3_copy_frag.frag', 'vec4_xy_zw_2vec2_vert.vert', 'log_float_frag_xvary01_ref.frag', 'bvec4_empty_in_bvec4_array_frag.frag', 'min_vec2_frag_xvary_yconsthalf_ref.frag', 'matrixMultComp_mat3_vert_ref.vert', 'inversesqrt_vec2_vert_xvary_ref.vert', 'vec4_empty_out_vec4_array_frag.frag', 'asin_float_frag_xvary_ref.frag', 'inversesqrt_vec3_vert_xvary_ref.vert', 'struct_mat4_frag.frag', 'array_const_mat3_vert.vert', 'pow_vec2_frag_xvary_yconst2.frag', 'vec3_xz_y_1vec2_1float_vert.vert', 'noopUniformShader.frag', 'atan_vec2_vert_xvaryyvary.vert', 'equal_vec2_vert.vert', 'struct_bvec2bvec3bvec4_frag.frag', 'greaterThanEqual_vec2_vert.vert', 'dot_vec3_frag_xvaryythird_ref.frag', 'compressed_paletted_texture.frag', 'vec3_br_g_1vec2_1float_frag.frag', 'equal_ivec3_frag_ref.frag', 'vec4_vec3_float_vert.vert', 'vec3_st_p_1vec2_1float_frag.frag', 'degrees_vec2_frag_xvary_ref.frag', '2b_vert.frag', 'floor_vec2_vert_xvary.vert', 'notEqual_bvec2_frag.frag', 'float_empty_out_float_array_vert.vert', 'pow_vec2_vert_xvary_yconst2_ref.vert', 'vec4_pqs_t_1vec3_1float_vert.vert', 'faceforward_vec2_frag_nvaryiconst_ref.frag', 'log_vec2_frag_xvary.frag', 'reflect_float_vert_ivarynconst_ref.vert', 'fract_vec3_vert_xvary.vert', 'clamp_float_frag_xvary_yconstquarter.frag', '2f_frag.frag', 'vec4_empty_inout_vec4_empty_frag.frag', 'mat2_4float_vert.vert', 'greaterThan_ivec3_frag_ref.frag', 'pow_float_frag_xvary_yconsthalf_ref.frag', '4b_lastthree_vert.frag', 'vec3_grb_1vec3_vert.vert', 'for_break_frag.frag', 'not_bvec3_vert.vert', 'point_rasterization.frag', 'atan_float_frag_xvary.frag', 'cos_vec2_frag_xvary_ref.frag', 'atan_vec2_frag_xvary_ref.frag', 'log_float_vert_xvary01_ref.vert', '2i_frag.frag', '4b_firstthree_vert.frag', 'atan_vec2_frag_xvaryyvary.frag', 'refract_vec2_frag_ivarynconst.frag', 'exp2_vec3_frag_xvaryneg.frag', 'abs_vec2_vert_xvary.vert', 'vec4_x_y_z_w_4float_frag.frag', 'log_vec3_frag_xvary.frag', 'const_mat2_copy_vert.vert', 'ceil_vec3_frag_xvary.frag', 'simple.vert', 'notEqual_vec3_vert.vert', 'mat3arrayindirect0_vert.vert', 'float_empty_inout_float_array_frag.frag', 'vec4_arb_g_1vec3_1float_vert.vert', 'fwidth_frag.vert', 'equal_bvec2_vert_ref.vert', 'any_bvec3_vert_ref.vert', 'mat4_frag.frag', 'intUniformShader.vert', 'pow_float_frag_xconsthalf_yvary.frag', 'equal_vec3_frag_ref.frag', 'precision_specifiers.vert', 'abs_vec3_frag_xvary_ref.frag', 'acos_vec2_vert_xvary_ref.vert', 'float_empty_out_float_empty_vert.vert', 'greaterThan_vec2_frag.frag', 'degrees_float_vert_xvary_ref.vert', 'distance_float_frag_xvaryyhalf.frag', 'structcopy_vec2_frag.frag', 'equal_bvec2_frag_ref.frag', 'mat4_empty_empty_mat4_array_frag.frag', 'copy_texture.frag', 'matrixMultComp_mat3_frag.frag', 'for_nested_break_frag.frag', 'logical_frag.frag', 'length_vec2_vert_xvary.vert', 'CorrectExtension4_V100_frag.frag', 'clamp_vec3_vert_xvary_yconstquarter_ref.vert', 'lessThanEqual_vec2_vert.vert', 'sin_vec2_vert_xvary.vert', 'structnest_bvec2bvec3bvec4_frag.frag', 'bool_empty_inout_bool_empty_vert.vert', 'asin_vec2_vert_xvary.vert', 'gl_MaxVertexUniformVectors_vert.vert', 'sqrt_float_frag_xvary.frag', 'structcopy_float_frag.frag', 'vec3array_vert.vert', 'step_float_vert_xvary_edgeconsthalf_ref.vert', 'lessThan_vec3_frag_ref.frag', 'bvec4_2int_2float_vert.vert', 'lessThan_vec2_frag_ref.frag', 'refract_vec2_frag_ivarynconst_ref.frag', 'smoothstep_vec3_frag_xvary_edgeconstquarter.frag', 'all_bvec3_frag.frag', 'exp2_vec2_vert_xvaryneg_ref.vert', 'bvec_tests.vert', 'equal_bvec2_vert.vert', 'notEqual_vec3_frag.frag', '3f_frag.frag', 'float_empty_inout_float_empty_vert.vert', 'lessThanEqual_vec2_frag_ref.frag', 'vec4_empty_in_vec4_array_frag.frag', 'matrixMultComp_mat2_frag_ref.frag', 'pow_float_vert_xvary_yconsthalf.vert', '2i_vert.vert', 'acos_float_vert_xvary.vert', 'exp_float_vert_xvaryneg.vert', 'exp2_vec2_frag_xvaryneg.frag', 'prefixdecrement_vert.vert', 'vec4_empty_inout_vec4_array_vert.vert', 'lessThan_vec2_vert_ref.vert', 'int_empty_in_int_empty_vert.vert', 'sqrt_vec3_frag_xvary_ref.frag', 'mix_vec3_frag_xvary_yconsthalf_aconsthalf_ref.frag', 'abs_vec3_vert_xvary_ref.vert', 'acos_vec2_frag_xvary.frag', 'vec3_st_p_1vec2_1float_vert.vert', 'vec3_tsp_1vec3_frag.frag', 'structnest_mat2_frag.frag', 'sign_float_frag_xvary.frag', 'vec4_gra_b_1vec3_1float_vert.vert', 'vec4_r_g_b_a_4float_vert.vert', 'notEqual_bvec2_frag_ref.frag', 'struct_mat3_vert.vert', 'vec3_zx_y_1vec2_1float_frag.frag', 'void_empty_empty_void_empty_vert.vert', 'exp2_vec3_frag_xvary.frag', 'mat2_copy_vert.vert', 'log2_float_frag_xvary01.frag', 'vec4_zx_wy_2vec2_frag.frag', 'sin_float_frag_xvary.frag', 'float_empty_empty_float_empty_frag.frag', 'exp_vec2_vert_xvaryneg_ref.vert', 'fwidth_frag_dx.vert', 'any_bvec3_frag_ref.frag', 'vec4_pqst_1vec4_frag.frag', 'dataType9_frag.frag', 'tan_vec3_vert_xvary.vert', 'fwidth_frag_ref_dx.vert', 'webgl_struct.vert', '4m_frag.frag', 'notEqual_vec3_frag_ref.frag', 'clamp_float_vert_xvary_yconstquarter.vert', 'matrix2VSU.vert', 'degrees_vec3_vert_xvary_ref.vert', 'structcopy_vec3_frag.frag', 'min_vec2_frag_xvary_yconsthalf.frag', 'gl_MaxCombinedTextureImageUnits_vert.vert', 'dot_vec2_frag_xvaryyhalf.frag', 'atan_float_vert_xvaryyvary.vert', 'for_continue_vert.vert', 'asin_float_vert_xvary.vert', 'any_bvec3_frag.frag', '21f_frag.frag', 'sign_float_vert_xvary_ref.vert', 'structcopy_vec3_vert.vert', 'bvec4_empty_inout_bvec4_bigarray_frag.frag', 'matrixVSU.frag', 'pow_vec3_frag_xconst2_yvary_ref.frag', 'notEqual_bvec3_frag.frag', 'faceforward_vec2_vert_nvaryiconst.vert', 'buffer_objects_pointSize.frag', 'mat4_empty_in_mat4_empty_frag.frag', 'struct_float_vert.vert', 'vec3_tp_s_1vec2_1float_vert.vert', 'acos_vec2_frag_xvary_ref.frag', 'distance_vec2_vert_xvaryyhalf.vert', 'length_float_vert_xvary.vert', 'fract_vec3_frag_xvary_ref.frag', 'struct_float_frag.frag', 'noopUniformShaderES3.vert', 'vec4_rgba_1vec4_frag.frag', 'assignments_vert.vert', 'int_empty_inout_int_empty_frag.frag', 'CorrectFuncOverload_vert.vert', 'greaterThan_vec2_vert.vert', 'mix_float_frag_xvary_yconsthalf_aconsthalf_ref.frag', 'smoothstep_float_frag_xvary_edgeconstquarter_ref.frag', 'distance_vec2_frag_xvaryyhalf_ref.frag', 'lessThan_vec2_vert.vert', 'fragmentOnly4_vert.vert', 'CorrectExtension10_V100_frag.frag', 'exp2_float_frag_xvaryneg_ref.frag', 'mod_vec2_vert_xvary_yconst1.vert', 'void_empty_empty_void_empty_frag.frag', 'webgl_variable.vert', 'struct_vec4_frag.frag', 'asin_vec3_frag_xvary.frag', 'log_float_vert_xvary.vert', 'equal_vec3_frag.frag', 'const_mat3_frag.frag', 'struct_bvec2bvec3bvec4_vert.vert', 'exp_vec2_vert_xvary_ref.vert', 'sin_vec2_vert_xvary_ref.vert', 'int_empty_empty_int_array_frag.frag', 'step_vec3_frag_xvary_edgeconsthalf_ref.frag', 'smoothstep_vec2_vert_xvary_edgeconstquarter.vert', 'asin_vec2_frag_xvary.frag', 'tan_vec3_frag_xvary.frag', 'varying1_frag.frag', 'structnest_float_frag.frag', 'exp2_float_frag_xvary.frag', 'int_empty_out_int_array_frag.frag', 'bool_empty_in_bool_empty_frag.frag', 'pow_float_vert_xconst2_yvary.vert', 'mat4_empty_out_mat4_array_frag.frag', 'mod_float_frag_xvary_yconst1.frag', 'vec4_empty_empty_vec4_empty_frag.frag', 'webgl_field.vert', 'bvec4_2int_2float_frag.frag', 'exp2_vec2_vert_xvaryneg.vert', 'equal_vec3_vert_ref.vert', 'max_float_frag_xvary_yconsthalf.frag', 'fwidth_frag_ref_dy.vert', 'pow_float_vert_xvary_yconst2.vert', 'mod_vec3_vert_xvary_yconst1_ref.vert', 'empty_uniform_array_float_frag.frag', 'acos_float_vert_xvary_ref.vert', 'radians_vec3_vert_xvary.vert', 'exp2_vec3_frag_xvaryneg_ref.frag', 'greaterThanEqual_ivec2_vert.vert', 'mat4_empty_in_mat4_array_frag.frag', 'ceil_float_vert_xvary.vert', 'CorrectConstFolding2_vert.vert', 'vec4_qs_pt_2vec2_vert.vert', 'int_empty_inout_int_array_frag.frag', 'vec4_empty_empty_vec4_array_frag.frag', 'mix_float_vert_xvary_yconsthalf_aconsthalf_ref.vert', 'struct_vec2_frag.frag', 'mix_vec2_vert_xvary_yconsthalf_aconsthalf_ref.vert', 'lessThan_ivec2_vert_ref.vert', 'clamp_vec3_vert_xvary_yconstquarter.vert', 'pow_vec3_vert_xconst2_yvary_ref.vert', 'vec3_bgr_1vec3_frag.frag', 'greaterThanEqual_ivec3_vert.vert', 'asin_vec3_frag_xvary_ref.frag', 'mix_vec2_vert_xvary_yconsthalf_aconsthalf.vert', 'asin_float_vert_xvary_ref.vert', 'floor_vec2_frag_xvary_ref.frag', 'vec4_zwx_y_1vec3_1float_frag.frag', 'pow_float_vert_xconst2_yvary_ref.vert', 'distance_vec3_frag_xvaryyhalf_ref.frag', 'expected.frag', 'floor_vec3_vert_xvary_ref.vert', 'notEqual_ivec2_frag.frag', 'pow_vec3_vert_xvary_yconsthalf.vert', 'fract_float_frag_xvary.frag', 'vec4_yxwz_1vec4_frag.frag', 'sign_float_vert_xvary.vert', 'log2_float_vert_xvary.vert', '3b_vert.vert', 'faceforward_vec2_frag_nvaryiconst.frag', 'mat3_frag.frag', 'notEqual_bvec2_vert.vert', 'nestedstructcomb_various_frag.frag', 'floor_vec2_frag_xvary.frag', 'vec4_gr_ab_2vec2_frag.frag', 'greaterThanEqual_ivec2_vert_ref.vert', 'normalize_vec2_frag_xvary_ref.frag', '4b_firstthree_frag.frag', 'mat2_float_vert.vert', 'pow_vec2_frag_xvary_yconsthalf_ref.frag', 'abs_float_vert_xvary_ref.vert', 'bool_empty_empty_bool_empty_frag.frag', 'const_mat4_copy_vert.vert', 'vec3_xy_z_1vec2_1float_vert.vert', 'sqrt_vec3_frag_xvary.frag', 'radians_vec2_frag_xvary_ref.frag', 'bool_empty_inout_bool_array_vert.vert', 'min_vec3_vert_xvary_yconsthalf.vert', 'float_empty_out_float_empty_frag.frag', 'struct_mat2_frag.frag', 'pow_float_vert_xconsthalf_yvary.vert', 'abs_float_vert_xvary.vert', 'lessThanEqual_ivec3_frag_ref.frag', '3f_vert.frag', 'mix_vec3_vert_xvary_yconsthalf_aconsthalf_ref.vert', 'mat2_2vec2_vert.vert', 'bvec_tests.frag', 'equal_bvec3_vert_ref.vert', 'tan_vec3_frag_xvary_ref.frag', 'any_bvec2_vert.vert', 'normalize_vec3_vert_xvary_ref.vert', 'float_empty_out_float_array_frag.frag', 'CorrectSwizzle1_vert.vert', 'precision_specifiers.frag', 'greaterThanEqual_ivec3_vert_ref.vert', 'abs_float_frag_xvary_ref.frag', 'step_float_frag_xvary_edgeconsthalf.frag', 'lessThan_ivec3_frag.frag', 'vec3_yz_x_1vec2_1float_frag.frag', 'vec4_s_t_p_q_4float_vert.vert', 'fwidth_frag_dy.vert', 'float_empty_inout_float_array_vert.vert', 'faceforward_vec2_vert_nvaryiconst_ref.vert', '3b_frag.frag', 'vec4_pqst_1vec4_vert.vert', 'asin_vec3_vert_xvary.vert', 'exp2_vec2_frag_xvary.frag', 'min_float_frag_xvary_yconsthalf.frag', 'abs_vec2_frag_xvary.frag', 'exp2_float_vert_xvary.vert', 'CorrectFunction1_vert.vert', 'CorrectParse2_vert.vert', 'prefixincrement_frag.frag', 'fboShader0.vert', 'notEqual_bvec3_vert_ref.vert', 'CorrectFuncOverload_frag.frag', 'mat4_copy_vert.vert', 'structnest_bvec2bvec3bvec4_vert.vert', 'mix_vec2_frag_xvary_yconsthalf_aconsthalf.frag', 'faceforward_vec3_vert_nvaryiconst.vert', 'ivec4_empty_in_ivec4_array_frag.frag', 'gl_FragCoord_xy_frag_ref.frag', 'logical_vert.vert', 'const_mat2_copy_frag.frag', 'equal_ivec3_vert_ref.vert', 'pow_vec3_frag_xvary_yconst2_ref.frag', 'ivec4_empty_inout_ivec4_array_vert.vert', 'degrees_vec3_frag_xvary.frag', 'any_bvec2_vert_ref.vert', 'cos_vec2_vert_xvary.vert', 'sqrt_vec3_vert_xvary.vert', 'mod_vec2_frag_xvary_yconst1.frag', '22f_frag.frag', 'cross_vec3_frag_xvaryyconst_ref.frag', 'refract_float_frag_ivarynconst.frag', 'normalize_float_frag_xvary.frag', 'step_float_frag_xvary_edgeconsthalf_ref.frag', 'gl_MaxTextureImageUnits_frag.frag', 'exp2_vec3_vert_xvary.vert', 'mod_float_vert_xvary_yconst1.vert', 'vec3_rg_b_1vec2_1float_frag.frag', 'int_empty_empty_int_empty_vert.vert', 'tan_float_frag_xvary_ref.frag', 'all_bvec2_vert.vert', 'gl_FragCoord_xy_frag.frag', 'exp2_float_vert_xvaryneg_ref.vert', 'sign_float_frag_xvary_ref.frag', 'clamp_vec2_frag_xvary_yconstquarter.frag', 'mat4_16float_vert.vert', 'pow_float_frag_xconst2_yvary.frag', 'pow_float_vert_xvary_yconst2_ref.vert', 'step_vec3_vert_xvary_edgeconsthalf.vert', 'greaterThanEqual_ivec2_frag_ref.frag', 'exp_float_frag_xvary_ref.frag', 'matrixMultComp_mat3_frag_ref.frag', 'sign_vec2_vert_xvary_ref.vert', 'ivec4_empty_inout_ivec4_array_frag.frag', 'default.vert', '1f_vert.vert', 'distance_float_vert_xvaryyhalf.vert', 'vec4_empty_inout_vec4_array_frag.frag', 'matrix2arrayVSU.vert', 'ceil_vec2_vert_xvary_ref.vert', 'step_vec2_frag_xvary_edgeconsthalf.frag', 'brick_vec.vert', 'normalize_vec3_vert_xvary.vert', 'bool_empty_out_bool_empty_frag.frag', 'pow_vec2_frag_xvary_yconst2_ref.frag', 'structcopy_mat4_frag.frag', 'dot_vec2_frag_xvaryyhalf_ref.frag', 'sqrt_float_vert_xvary.vert', 'matrixMultComp_mat2_frag.frag', 'gl_MaxVertexTextureImageUnits_vert.vert', 'vec4_xyz_w_1vec3_1float_vert.vert', 'vec3_xy_z_1vec2_1float_frag.frag', 'distance_float_vert_xvaryyhalf_ref.vert', 'ivec4_empty_empty_ivec4_array_frag.frag', 'lessThanEqual_vec2_vert_ref.vert', 'sign_vec3_frag_xvary_ref.frag', '2f_vert.frag', 'int_empty_out_int_empty_frag.frag', 'vec3_zyx_1vec3_vert.vert', 'smoothstep_vec2_frag_xvary_edgeconstquarter.frag', 'exp2_vec3_vert_xvaryneg.vert', 'exp2_vec2_frag_xvaryneg_ref.frag', 'log_float_frag_xvary_ref.frag', 'mat2_4float_frag.frag', 'exp_vec3_frag_xvaryneg.frag', 'CorrectParseTest_frag.frag', 'pow_float_frag_xvary_yconst2_ref.frag', 'mat2_2vec2_frag.frag', 'vec4_empty_out_vec4_array_vert.vert', 'length_vec2_vert_xvary_ref.vert', 'mat3arraysimple_frag.frag', 'extension7_V100_frag.frag', 'bool_empty_out_bool_array_frag.frag', 'greaterThan_vec2_vert_ref.vert', '4b_lastthree_frag.frag', 'length_vec2_frag_xvary_ref.frag', 'cos_vec2_frag_xvary.frag', 'simple.frag', 'max_vec2_frag_xvary_yconsthalf.frag', 'int_empty_in_int_array_vert.vert', 'refract_vec3_vert_ivarynconst_ref.vert', 'mod_float_frag_xvary_yconst1_ref.frag', 'smoothstep_vec3_vert_xvary_edgeconstquarter.vert', 'vec4_rgba_1vec4_vert.vert', 'matrixMultComp_mat3_vert.vert', 'vec2_2float_frag.frag', 'vec3_ps_t_1vec2_1float_frag.frag', 'Permissive_Scalar_Vector_Expressions_frag.frag', 'float_empty_empty_float_empty_vert.vert', 'gl_MaxVertexAttribs_vert.vert', 'vec3_yz_x_1vec2_1float_vert.vert', 'degrees_float_frag_xvary_ref.frag', 'mod_vec3_vert_xvary_yconst1.vert', 'min_vec3_frag_xvary_yconsthalf.frag', 'atan_vec3_vert_xvaryyvary.vert', 'const_mat2_frag.frag', 'normalize_float_vert_xvary.vert', '3b_vert.frag', 'buffer_objects_multitexturing.frag', 'vec4_br_ag_2vec2_frag.frag', 'log2_float_vert_xvary01_ref.vert', 'vec3_gb_r_1vec2_1float_frag.frag', 'array_const_mat2_vert.vert', 'cross_vec3_vert_xvaryyconst_ref.vert', 'bool_empty_empty_bool_array_vert.vert', '4f_vert.frag', 'buffer_objects.vert', 'bvec4_empty_inout_bvec4_empty_frag.frag', 'atan_vec3_frag_xvary_ref.frag', 'vec3_vec4_frag.frag', '1i_vert.frag', 'distance_vec3_frag_xvaryyhalf.frag', 'inversesqrt_float_vert_xvary_ref.vert', 'notEqual_ivec2_vert_ref.vert', 'vec4_ar_bg_2vec2_vert.vert', 'exp2_float_vert_xvary_ref.vert', 'cos_vec3_frag_xvary.frag', 'lessThan_vec2_frag.frag', 'fragmentOnly3_vert.vert', 'point_sprites.frag', 'const_mat3_copy_frag.frag', 'max_float_vert_xvary_yconsthalf_ref.vert', 'for_nested_break_vert.vert', 'version2_V100_frag.frag', 'faceforward_float_frag_nvaryiconst.frag', 'struct_bool_vert.vert', 'struct_vec4_vert.vert', 'discard_cond_frag.frag', 'bool_empty_in_bool_array_vert.vert', 'log_vec3_frag_xvary_ref.frag', 'inversesqrt_vec3_frag_xvary.frag', 'exp_vec3_vert_xvaryneg_ref.vert', 'mat4_16float_frag.frag', 'tan_vec3_vert_xvary_ref.vert', 'bvec4_empty_out_bvec4_array_frag.frag', 'tan_vec2_frag_xvary_ref.frag', 'vec4_barg_1vec4_frag.frag', 'gl_MaxDrawBuffers_vert.vert', 'atan_vec2_vert_xvary_ref.vert', 'structnest_bool_vert.vert', '1f_frag.frag', 'gl_MaxVaryingVectors_vert.vert', 'CorrectModule_frag.frag', 'qualifiers_struct_frag.frag', 'structnest_vec3_vert.vert', 'CorrectExtension1_V100_frag.frag', 'vec4_qsp_t_1vec3_1float_vert.vert', 'length_vec3_frag_xvary_ref.frag', 'brick.vert', 'extension6_V100_frag.frag', 'pow_vec3_vert_xvary_yconst2.vert', 'floor_float_vert_xvary.vert', 'vec4_xy_zw_2vec2_frag.frag', 'notEqual_vec2_vert_ref.vert', '3i_vert.vert', 'greaterThanEqual_ivec3_frag_ref.frag', 'not_bvec3_frag_ref.frag', 'for_nested_continue_vert.vert', 'exp_vec3_frag_xvaryneg_ref.frag', 'gl_MaxVaryingVectors_frag.frag', 'CorrectVersion_V100_frag.frag', 'pow_float_frag_xvary_yconst2.frag', 'bool_empty_out_bool_array_vert.vert', 'smoothstep_float_frag_xvary_edgeconstquarter.frag', 'log2_vec3_vert_xvary01.vert', 'pow_vec2_vert_xconst2_yvary_ref.vert', 'postfixincrement_frag.frag', 'bvec4_empty_in_bvec4_empty_vert.vert', 'greaterThanEqual_vec3_frag_ref.frag', 'clamp_vec2_frag_xvary_yconstquarter_ref.frag', 'structnest_mat3_vert.vert', 'extension5_V100_frag.frag', 'vec4_ts_qp_2vec2_vert.vert', 'normalize_float_vert_xvary_ref.vert', 'sqrt_float_vert_xvary_ref.vert', '1i_frag.frag', 'emit2.glsl', '_webgl_variable.vert', 'sin_vec3_vert_xvary_ref.vert', 'cos_vec3_vert_xvary_ref.vert', 'lessThanEqual_ivec3_frag.frag', 'abs_vec3_frag_xvary.frag', 'user_clip_planes.vert', 'atan_float_vert_xvary_ref.vert', 'tan_float_frag_xvary.frag', 'dFdy_frag_ref.vert', '2m_frag.frag', 'mat4_empty_empty_mat4_empty_vert.vert', 'vec4_empty_inout_vec4_bigarray_vert.vert', 'bool_empty_inout_bool_array_frag.frag', 'vec4_wxzy_1vec4_frag.frag', 'dFdy_frag.vert', 'ceil_float_frag_xvary.frag', 'sign_vec3_vert_xvary.vert', 'vec3_pts_1vec3_frag.frag', 'max_vec3_frag_xvary_yconsthalf.frag', 'radians_vec2_vert_xvary.vert', 'vec4_arb_g_1vec3_1float_frag.frag', 'mat2_frag.frag', 'reflect_float_vert_ivarynconst.vert', 'bvec4_empty_in_bvec4_empty_frag.frag', 'distance_vec3_vert_xvaryyhalf_ref.vert', 'reflect_vec2_frag_ivarynconst.frag', 'log2_vec2_frag_xvary_ref.frag', 'ceil_float_frag_xvary_ref.frag', 'log_float_frag_xvary.frag', 'lessThanEqual_vec2_frag.frag', 'brick_mat2.vert', 'sin_float_vert_xvary_ref.vert', 'length_float_frag_xvary_ref.frag', 'vec4_empty_inout_vec4_bigarray_frag.frag', 'struct_vec3_frag.frag', 'vec4_wx_zy_2vec2_frag.frag', 'fract_vec2_vert_xvary.vert', 'bvec4_empty_out_bvec4_array_vert.vert', 'radians_vec3_frag_xvary.frag', 'lessThan_ivec3_vert.vert', 'equal_bvec3_frag_ref.frag', 'step_vec3_vert_xvary_edgeconsthalf_ref.vert', 'mat_tests.vert', 'vertexOnly2_frag.frag', 'dot_vec3_frag_xvaryythird.frag', 'brick.frag', 'nested_if_else_vert.vert', 'float_empty_in_float_empty_frag.frag', 'cross_vec3_frag_xvaryyconst.frag', 'tan_vec2_vert_xvary_ref.vert', 'fract_vec2_vert_xvary_ref.vert', 'pow_vec2_vert_xconst2_yvary.vert', 'mat3arrayindirect0_frag.frag', 'structcopy_vec2_vert.vert', 'abs_float_frag_xvary.frag', 'refract_float_vert_ivarynconst_ref.vert', 'log_float_vert_xvary01.vert', 'vec4_yxwz_1vec4_vert.vert', 'ivec3_3int_vert.vert', '3m_frag.frag', 'initfunc_empty_array_float_frag.frag', 'reflect_vec3_vert_ivarynconst_ref.vert', 'log_vec3_frag_xvary01_ref.frag', 'vec4_pqs_t_1vec3_1float_frag.frag', 'postfixincrement_vert.vert', 'vec3_yxz_1vec3_vert.vert', 'pow_vec3_vert_xvary_yconsthalf_ref.vert', 'degrees_vec3_vert_xvary.vert', 'mat3arraysimple_vert.vert', 'greaterThanEqual_vec3_vert_ref.vert', 'inversesqrt_vec3_frag_xvary_ref.frag', 'struct_vec2_vert.vert', 'vec4_st_pq_2vec2_vert.vert', 'mat4_vert.vert', 'structcopy_mat2_frag.frag', 'matrixMultComp_mat2_vert_ref.vert', 'distance_vec2_frag_xvaryyhalf.frag', 'structUniformShader.vert', 'compressed_paletted_texture.vert', 'ceil_vec3_vert_xvary_ref.vert', 'log2_vec3_vert_xvary_ref.vert', 'min_float_frag_xvary_yconsthalf_ref.frag', '23i_frag.frag', 'vec4_r_g_b_a_4float_frag.frag', 'max_float_vert_xvary_yconsthalf.vert', 'exp_float_vert_xvary.vert', 'notEqual_ivec3_frag_ref.frag', 'matrix2VSU.frag', 'bvec4_empty_empty_bvec4_array_frag.frag', 'bvec4_empty_in_bvec4_array_vert.vert', 'successfulcompile_frag.frag', 'ceil_vec2_vert_xvary.vert', 'Low_Level_Assembly_Reserved_Words_frag.frag', 'abs_vec3_vert_xvary.vert', 'exp_float_frag_xvary.frag', 'array_float_frag.frag', 'acos_vec3_frag_xvary.frag', 'division_vert.vert', 'floor_vec3_vert_xvary.vert', 'matrix2arrayVSU.frag', 'atan_vec2_vert_xvaryyvary_ref.vert', 'tan_vec2_frag_xvary.frag', 'mix_vec2_frag_xvary_yconsthalf_aconsthalf_ref.frag', 'assignments_frag.frag', 'addsubtract_frag.frag', 'vec4_wx_zy_2vec2_vert.vert', 'structnest_mat3_frag.frag', 'vec_tests.frag', 'inversesqrt_float_frag_xvary.frag', 'vec3_rb_g_1vec2_1float_frag.frag', 'refract_float_frag_ivarynconst_ref.frag', 'exp2_vec3_vert_xvary_ref.vert', 'radians_vec2_vert_xvary_ref.vert', 'mat4_empty_out_mat4_array_vert.vert', 'webgl_function.vert', 'lessThanEqual_ivec3_vert_ref.vert', '2b_frag.frag', 'log2_vec2_frag_xvary.frag', 'pow_vec3_frag_xvary_yconst2.frag', 'pow_vec3_vert_xvary_yconst2_ref.vert', 'equal_bvec3_frag.frag', 'gl_FrontFacing_frag.frag', 'bool_empty_in_bool_empty_vert.vert', 'lessThanEqual_vec3_frag.frag', 'not_bvec2_vert_ref.vert', 'vec3_gb_r_1vec2_1float_vert.vert', 'log_vec2_frag_xvary_ref.frag', '2f_vert.vert', 'ivec4_empty_inout_ivec4_empty_frag.frag', 'notEqual_vec2_frag_ref.frag', 'bvec4_empty_inout_bvec4_array_vert.vert', 'const_mat4_frag.frag', 'exp2_vec2_vert_xvary.vert', 'asin_float_frag_xvary.frag', 'atan_vec3_vert_xvaryyvary_ref.vert', 'atan_vec2_frag_xvaryyvary_ref.frag', 'any_bvec3_vert.vert', 'faceforward_vec3_frag_nvaryiconst_ref.frag', 'array_const_mat2_frag.frag', 'exp_float_frag_xvaryneg.frag', 'degrees_float_vert_xvary.vert', 'gl_MaxCombinedTextureImageUnits_frag.frag', 'postfixdecrement_frag.frag', 'pow_vec2_vert_xvary_yconst2.vert', 'pow_vec2_vert_xvary_yconsthalf_ref.vert', 'mat4_4vec4_vert.vert', 'vec4_bar_g_1vec3_1float_frag.frag', 'equal_ivec2_frag_ref.frag', 'vec4_rgb_a_1vec3_1float_frag.frag', 'brick_mat3.vert', 'qualifiers_float_frag.frag', 'vec4_ivec4_vert.vert', 'extension9_V100_frag.frag', 'cos_float_frag_xvary.frag', 'vec4_zwx_y_1vec3_1float_vert.vert', 'mod_vec2_vert_xvary_yconst1_ref.vert', 'vec4_ts_qp_2vec2_frag.frag', 'max_vec3_vert_xvary_yconsthalf_ref.vert', 'equal_vec2_frag_ref.frag', 'postfixdecrement_vert.vert', 'int_empty_inout_int_empty_vert.vert', 'vec3_yxz_1vec3_frag.frag', 'vec4_vec3_float_frag.frag', 'vec4_bar_g_1vec3_1float_vert.vert', 'greaterThanEqual_vec2_frag.frag', 'length_float_frag_xvary.frag', 'sqrt_vec3_vert_xvary_ref.vert', 'vec4_barg_1vec4_vert.vert', 'greaterThan_ivec3_vert_ref.vert', 'vec2_vec3_vert.vert', 'log2_vec2_vert_xvary.vert', 'ivec_tests.frag', 'fwidth_frag_ref.vert', 'buffer_objects.frag', 'selection_vert.vert', 'max_vec2_frag_xvary_yconsthalf_ref.frag', 'ivec4_empty_out_ivec4_array_vert.vert', 'vec4_qspt_1vec4_vert.vert', 'DuplicateVersion1_V100_frag.frag', 'unary_vert.vert', 'array_const_mat4_frag.frag', 'float_empty_in_float_empty_vert.vert', 'floor_float_vert_xvary_ref.vert', 'ivec4_empty_empty_ivec4_array_vert.vert', 'faceforward_float_vert_nvaryiconst_ref.vert', 'vec3arrayindirect_vert.vert', 'degrees_vec2_frag_xvary.frag', '4f_vert.vert', 'normalize_float_frag_xvary_ref.frag', 'mat4_empty_in_mat4_array_vert.vert', 'selection_frag.frag', 'cos_vec3_vert_xvary.vert', 'vec3_sp_t_1vec2_1float_frag.frag', 'division_frag.frag', 'dFdx_frag.vert', 'vec4_qs_pt_2vec2_frag.frag', 'vec3arraydirect_frag.frag', 'refract_float_vert_ivarynconst.vert', 'dataType8_frag.frag', 'ivec4_empty_empty_ivec4_empty_vert.vert', 'initfunc_empty_array_float_vert.vert', 'noopUniformShader.vert', 'vec4_tsq_p_1vec3_1float_frag.frag', 'structcopy_vec4_frag.frag', 'sin_vec3_frag_xvary_ref.frag', 'greaterThan_ivec3_frag.frag', 'vec3_rgb_1vec3_frag.frag', 'sqrt_vec2_frag_xvary.frag', 'notEqual_ivec2_frag_ref.frag', 'exp_float_frag_xvaryneg_ref.frag', 'mat4_empty_in_mat4_empty_vert.vert', 'point_size.vert', 'exp2_vec2_frag_xvary_ref.frag', 'exp2_vec3_frag_xvary_ref.frag', 'greaterThan_ivec2_frag_ref.frag', 'float_empty_in_float_array_frag.frag', 'structcopy_bvec2bvec3bvec4_vert.vert', '4f_frag.frag', 'equal_vec3_vert.vert', 'log_vec2_vert_xvary_ref.vert', 'clamp_vec3_frag_xvary_yconstquarter.frag', 'wood.vert', 'exp2_float_frag_xvary_ref.frag', 'vec3single_frag.frag', 'inversesqrt_float_vert_xvary.vert', 'matrixMultComp_mat2_vert.vert', 'cos_vec2_vert_xvary_ref.vert', 'normalize_vec2_frag_xvary.frag', 'notEqual_ivec2_vert.vert', 'step_float_vert_xvary_edgeconsthalf.vert', 'all_bvec2_vert_ref.vert', 'default.frag', 'mat2_vert.vert', 'lighting_diffuse.frag', 'pow_vec3_frag_xvary_yconsthalf_ref.frag', 'atan_float_vert_xvary.vert', 'pow_vec3_vert_xconsthalf_yvary.vert', 'bvec4_empty_empty_bvec4_empty_vert.vert', 'reflect_vec2_vert_ivarynconst_ref.vert', 'degrees_float_frag_xvary.frag', 'ivec4_empty_in_ivec4_empty_frag.frag', 'structcopy_mat3_frag.frag', 'exp2_float_vert_xvaryneg.vert', 'gl_MaxVertexAttribs_frag.frag', 'tan_float_vert_xvary_ref.vert', 'structcopy_bvec2bvec3bvec4_frag.frag', 'sign_vec3_vert_xvary_ref.vert', 'gl_MaxFragmentUniformVectors_vert.vert', 'lighting_diffuse_ref.frag', 'mod_x_large_y_large_frag.frag', 'ivec4_empty_inout_ivec4_bigarray_frag.frag', 'mod_vec2_frag_xvary_yconst1_ref.frag', 'sqrt_vec2_vert_xvary_ref.vert', 'bool_empty_empty_bool_array_frag.frag', 'sin_float_frag_xvary_ref.frag', 'distance_vec2_vert_xvaryyhalf_ref.vert', 'bvec4_empty_out_bvec4_empty_frag.frag', 'atan_vec3_vert_xvary_ref.vert', 'greaterThan_vec2_frag_ref.frag', 'sqrt_vec2_frag_xvary_ref.frag', 'discard_frag.frag', 'structcopy_mat2_vert.vert', 'mat_tests.frag', 'inversesqrt_vec2_frag_xvary.frag', 'vec4_zwxy_1vec4_vert.vert', 'sign_vec2_frag_xvary_ref.frag', 'vec2_vec3_frag.frag', 'clamp_vec3_frag_xvary_yconstquarter_ref.frag', 'log2_vec2_frag_xvary01.frag', 'CorrectSwizzle1_frag.frag', 'nestedstructcomb_various_vert.vert', 'sin_vec3_frag_xvary.frag', '21i_frag.frag', 'structnest_float_vert.vert', 'vec4_wxzy_1vec4_vert.vert', 'mat4_empty_inout_mat4_array_vert.vert', 'exp_vec3_vert_xvary.vert', 'cross_vec3_vert_xvaryyconst.vert', 'acos_float_frag_xvary.frag', 'min_vec2_vert_xvary_yconsthalf_ref.vert', 'vec3_pts_1vec3_vert.vert', 'reflect_float_frag_ivarynconst_ref.frag', 'exp_float_vert_xvary_ref.vert', 'vec4_s_t_p_q_4float_frag.frag', 'floor_float_frag_xvary_ref.frag', 'structcopy_bool_vert.vert', 'reflect_vec2_frag_ivarynconst_ref.frag', 'log2_vec3_frag_xvary01_ref.frag', 'float_empty_empty_float_array_vert.vert', 'pow_vec3_frag_xconsthalf_yvary_ref.frag', 'notEqual_vec2_frag.frag', 'point_sprites.vert', 'max_vec3_vert_xvary_yconsthalf.vert', 'lessThanEqual_ivec2_vert_ref.vert', 'notEqual_bvec3_frag_ref.frag', 'structcopy_mat4_vert.vert', 'pow_vec3_frag_xvary_yconsthalf.frag', 'mat3_3vec3_vert.vert', 'step_vec2_vert_xvary_edgeconsthalf.vert', 'ceil_vec3_vert_xvary.vert', 'reflect_float_frag_ivarynconst.frag', 'CorrectConstruct_vert.vert', 'min_vec2_vert_xvary_yconsthalf.vert', 'distance_float_frag_xvaryyhalf_ref.frag', 'relational_frag.frag', 'mat3_9float_vert.vert', 'greaterThanEqual_vec3_vert.vert', 'ivec3_3int_frag.frag', 'acos_float_frag_xvary_ref.frag', 'notEqual_vec3_vert_ref.vert', 'lessThan_ivec2_frag.frag', 'exp_vec2_frag_xvary.frag', 'vec3_grb_1vec3_frag.frag', 'log_float_frag_xvary01.frag', 'equal_ivec2_vert_ref.vert', 'vec3single_vert.vert', 'mix_vec3_frag_xvary_yconsthalf_aconsthalf.frag', 'structnest_mat2_vert.vert', 'min_float_vert_xvary_yconsthalf_ref.vert', 'mat4_copy_frag.frag', 'mat4_empty_inout_mat4_empty_vert.vert', 'default_textured.vert', 'vec4_st_pq_2vec2_frag.frag', 'sign_vec3_frag_xvary.frag', 'mod_vec3_frag_xvary_yconst1.frag', 'greaterThan_vec3_vert.vert', 'mat3_float_frag.frag', 'vec3arraydirect_vert.vert', 'int_empty_out_int_empty_vert.vert', 'vec3_rb_g_1vec2_1float_vert.vert', '_webgl_function.vert', 'acos_vec2_vert_xvary.vert', 'exp_vec2_vert_xvary.vert', 'relational_vert.vert', 'vec4_wxz_y_1vec3_1float_frag.frag', 'inversesqrt_vec2_frag_xvary_ref.frag', 'greaterThan_vec3_frag.frag', 'ceil_vec3_frag_xvary_ref.frag', 'successfulcompile_vert.vert', 'multiplicative_frag.frag', 'CorrectParseTest1_frag.frag', 'tan_vec2_vert_xvary.vert', 'max_float_frag_xvary_yconsthalf_ref.frag', 'exp_vec3_frag_xvary.frag', 'extension2_V100_frag.frag', 'pow_vec3_frag_xconsthalf_yvary.frag', 'addsubtract_vert.vert', 'greaterThanEqual_vec2_vert_ref.vert', 'log2_vec2_frag_xvary01_ref.frag', 'sign_vec2_vert_xvary.vert', 'lessThanEqual_ivec2_frag.frag', 'floatUniformShader.vert', 'clamp_vec2_vert_xvary_yconstquarter_ref.vert', 'vec3_rgb_1vec3_vert.vert', 'structnest_mat4_frag.frag', 'boolUniformShader.vert', 'acos_vec3_vert_xvary.vert', 'inversesqrt_float_frag_xvary_ref.frag', 'vec4_empty_inout_vec4_empty_vert.vert', 'sign_vec2_frag_xvary.frag', 'exp_vec2_vert_xvaryneg.vert', 'vec3array_frag.frag', 'fract_float_frag_xvary_ref.frag', 'bvec4_empty_empty_bvec4_array_vert.vert', 'normalize_vec3_frag_xvary_ref.frag', 'vec3_zx_y_1vec2_1float_vert.vert', 'const_mat3_copy_vert.vert', 'refract_vec3_vert_ivarynconst.vert', 'radians_float_frag_xvary.frag', 'structnest_vec4_vert.vert', 'sqrt_vec2_vert_xvary.vert', 'refract_vec3_frag_ivarynconst_ref.frag', '23f_frag.frag', 'radians_float_vert_xvary.vert', 'smoothstep_float_vert_xvary_edgeconstquarter.vert', 'pow_vec2_frag_xconst2_yvary.frag', 'gl_MaxFragmentUniformVectors_frag.frag', '3f_vert.vert', 'vec3_br_g_1vec2_1float_vert.vert', 'distance_vec3_vert_xvaryyhalf.vert', 'log2_vec3_vert_xvary01_ref.vert', 'structnest_mat4_vert.vert', 'vec4_gra_b_1vec3_1float_frag.frag', '1f_vert.frag', 'radians_float_frag_xvary_ref.frag', 'lessThan_vec3_vert_ref.vert', 'vec4_stp_q_1vec3_1float_frag.frag', 'not_bvec2_frag_ref.frag', '1b_vert.frag', 'vec4_ps_qt_2vec2_vert.vert', 'atan_vec3_frag_xvaryyvary.frag', 'gl_MaxVertexUniformVectors_frag.frag', 'fract_vec2_frag_xvary.frag', 'not_bvec2_vert.vert', 'matrixVSU.vert', 'CorrectSwizzle2_vert.vert', 'mat4_empty_out_mat4_empty_frag.frag', 'empty_uniform_array_float_vert.vert', 'smoothstep_float_vert_xvary_edgeconstquarter_ref.vert', 'mat3_copy_vert.vert', '24f_frag.frag', 'vec4_br_ag_2vec2_vert.vert', 'vec4_empty_empty_vec4_empty_vert.vert', 'ivec4_empty_inout_ivec4_bigarray_vert.vert', 'mix_float_vert_xvary_yconsthalf_aconsthalf.vert', 'for_continue_frag.frag', 'max_vec2_vert_xvary_yconsthalf_ref.vert', 'log_vec2_frag_xvary01.frag', 'min_vec3_vert_xvary_yconsthalf_ref.vert', 'structnest_bool_frag.frag', 'smoothstep_vec3_frag_xvary_edgeconstquarter_ref.frag', 'atan_vec3_frag_xvary.frag', 'qualifiers_struct_vert.vert', 'refract_vec3_frag_ivarynconst.frag', 'radians_vec2_frag_xvary.frag', 'log2_vec3_frag_xvary_ref.frag', 'lessThanEqual_ivec3_vert.vert', 'ivec_tests.vert', 'gl_MaxTextureImageUnits_vert.vert', 'gl_MaxVertexTextureImageUnits_frag.frag', 'greaterThan_ivec2_vert.vert', 'dot_vec2_vert_xvaryyhalf.vert', 'log_vec3_vert_xvary.vert', 'user_clip_planes.frag', 'fract_vec3_frag_xvary.frag', 'bool_empty_inout_bool_empty_frag.frag', 'vec4_ps_qt_2vec2_frag.frag', 'log_vec2_vert_xvary01_ref.vert', 'DepthRange_frag.frag', 'length_vec3_vert_xvary_ref.vert', 'faceforward_float_vert_nvaryiconst.vert', 'vec4_empty_in_vec4_empty_frag.frag', 'equal_ivec2_frag.frag', 'matUniformShader.vert', 'bool_empty_empty_bool_empty_vert.vert', 'mat3arrayindirect1_vert.vert', 'acos_vec3_vert_xvary_ref.vert', 'structcopy_vec4_vert.vert', 'any_bvec2_frag.frag', 'preprocess2_frag.frag', 'log2_float_vert_xvary_ref.vert', 'notEqual_bvec2_vert_ref.vert', 'vec3_bgr_1vec3_vert.vert', 'multiplicative_vert.vert', 'acos_vec3_frag_xvary_ref.frag', 'gl_FragCoord_z_frag_ref.vert', 'lessThan_ivec2_frag_ref.frag', 'exp2_float_frag_xvaryneg.frag', 'vec4_x_y_z_w_4float_vert.vert', 'atan_vec2_frag_xvary.frag', 'smoothstep_vec3_vert_xvary_edgeconstquarter_ref.vert', 'dot_float_frag_xvaryyone.frag', 'prefixdecrement_frag.frag', 'structnest_vec3_frag.frag', 'equal_vec2_vert_ref.vert', 'vec4_empty_in_vec4_empty_vert.vert', 'ivec4_empty_in_ivec4_empty_vert.vert', '4b_vert.vert', 'degrees_vec2_vert_xvary_ref.vert', 'mat4_4vec4_frag.frag', 'mat3_3vec3_frag.frag', 'vec4_grab_1vec4_frag.frag', 'degrees_vec3_frag_xvary_ref.frag', 'max_vec2_vert_xvary_yconsthalf.vert', 'vec4_empty_out_vec4_empty_vert.vert', 'cos_float_vert_xvary_ref.vert', 'ivec4_empty_inout_ivec4_empty_vert.vert', 'abs_vec2_frag_xvary_ref.frag', 'vec4_grab_1vec4_vert.vert', 'ivec4_empty_out_ivec4_array_frag.frag', 'mod_vec3_frag_xvary_yconst1_ref.frag', 'floor_vec2_vert_xvary_ref.vert', 'lessThanEqual_vec3_vert_ref.vert', 'exp2_vec3_vert_xvaryneg_ref.vert', 'vec4_wxz_y_1vec3_1float_vert.vert', 'log2_float_vert_xvary01.vert', 'ceil_vec2_frag_xvary_ref.frag', 'lessThan_ivec2_vert.vert', 'vec4_xyzw_1vec4_vert.vert', 'vec3_tp_s_1vec2_1float_frag.frag', 'inversesqrt_vec3_vert_xvary.vert', 'notEqual_ivec3_frag.frag', 'vec4_rgb_a_1vec3_1float_vert.vert', 'log2_vec2_vert_xvary01_ref.vert', 'for_nested_continue_frag.frag', 'greaterThanEqual_vec3_frag.frag', 'vec4_stp_q_1vec3_1float_vert.vert', 'mat2_float_frag.frag', 'ivec4_empty_out_ivec4_empty_vert.vert', 'asin_vec2_vert_xvary_ref.vert', 'greaterThan_ivec2_frag.frag', 'vec3_float_vec2_frag.frag', 'log_vec2_vert_xvary01.vert', 'bvec4_empty_inout_bvec4_array_frag.frag', 'struct_mat3_frag.frag', 'ceil_float_vert_xvary_ref.vert', 'nested_if_else_frag.frag', 'abs_vec2_vert_xvary_ref.vert', 'vec3_tsp_1vec3_vert.vert', 'vec4_yx_wz_2vec2_vert.vert', 'equal_ivec3_vert.vert', 'mod_float_vert_xvary_yconst1_ref.vert', 'radians_float_vert_xvary_ref.vert', '4i_vert.vert', 'mat4_empty_inout_mat4_empty_frag.frag', 'lessThan_vec3_frag.frag', 'gl_MaxDrawBuffers_frag.frag', 'empty_empty_array_float_vert.vert', 'lessThanEqual_ivec2_frag_ref.frag', 'gl_FragCoord_z_frag.frag', 'vec4_ivec4_frag.frag', 'ceil_vec2_frag_xvary.frag', 'fragmentShader.frag', 'inversesqrt_vec2_vert_xvary.vert', 'refract_vec2_vert_ivarynconst.vert', 'reflect_vec3_frag_ivarynconst.frag', 'vec4_empty_out_vec4_empty_frag.frag', 'notEqual_ivec3_vert.vert']
Running /home/oof/webgl_cleaned/mat_tests2.vert
filename /home/oof/webgl_cleaned/mat_tests2.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:7: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att2'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='att3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
attribute mat2 att2;
attribute mat3 att3;
varying vec4 color;
void main ()
{
	color = vec4( att2[0][0] + att2[0][1] + att2[1][0] + att2[1][1],
		      att3[0][0] + att3[0][1] + att3[0][2] + att3[1][0] + att3[1][1] + att3[1][2] + att3[2][0] + att3[2][1] + att3[2][2],
                     1.0, 1.0 );
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

mat2 att2;

mat3 att3;

varying vec4 color;

void main()
{
  color = vec4((((att2[0][0] + att2[0][1]) + att2[1][0]) + att2[1][1]), ((((((((att3[0][0] + att3[0][1]) + att3[0][2]) + att3[1][0]) + att3[1][1]) + att3[1][2]) + att3[2][0]) + att3[2][1]) + att3[2][2]), 1.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mat_tests2.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log2_vec3_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')]), right=FloatLiteral(value=5.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=5.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 31.0 * color.rgb + 1.0;
	gl_FragColor = vec4(log2(c) / 5.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((31.0 * color.rgb) + 1.0);
  gl_FragColor = vec4((log2(c) / 5.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/log2_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/fract_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/fract_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = 10.0 * 2.0 * (gtf_Color.rgb - 0.5);
	c = abs((c - floor(c)) - 0.5) * 2.0;
	color = vec4(c, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = ((10.0 * 2.0) * (gtf_Color.rgb - 0.5));
  c = (abs(((c - floor(c)) - 0.5)) * 2.0);
  color = vec4(c, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fract_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_bvec3_vert.vert
filename /home/oof/webgl_cleaned/equal_bvec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(1.5 * gtf_Color.rgb);
	vec3 result = vec3(equal(bvec3(c), bvec3(true)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor((1.5 * gtf_Color.rgb));
  vec3 result = vec3(equal(bvec3(c), bvec3(true)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equal_bvec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_float_frag_xconst2_yvary_ref.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 2.0 * (color.r - 0.5);
	gl_FragColor = vec4(exp2(2.0 * c) / 4.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (2.0 * (color.r - 0.5));
  gl_FragColor = vec4((exp2((2.0 * c)) / 4.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_float_frag_xconst2_yvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/int_empty_in_int_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=1))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
int function(in int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main ()
{
	int par[3];
	int ret = 0;
	float gray = 0.0;
	set_all(par, 1);
	ret = function(par);
	if(is_all(par, 1) && (ret == 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
int function(in int par[3])
{
	if(is_all(par, 1))
	{
		set_all(par, 0);
		return 1;
	}
	else
		return 0;
}
bool is_all(const in int array[3], const in int value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out int array[3], const in int value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

int function(in int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main()
{
  int par[3];
  int ret = 0;
  float gray = 0.0;
  set_all(par, 1);
  ret = function(par);
  if ((is_all(par, 1) && (ret == 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

int function(in int par[3])
{
  if (is_all(par, 1))
  {
    set_all(par, 0);
    return 1;
  }
  else
    return 0;
}

bool is_all(const in int array[3], const in int value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out int array[3], const in int value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/int_empty_in_int_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/fract_float_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/fract_float_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 10.0 * 2.0 * (gtf_Color.r - 0.5);
	c = abs((c - floor(c)) - 0.5) * 2.0;
	color = vec4(c, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = ((10.0 * 2.0) * (gtf_Color.r - 0.5));
  c = (abs(((c - floor(c)) - 0.5)) * 2.0);
  color = vec4(c, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fract_float_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/buffer_objects_multitexturing.vert
filename /home/oof/webgl_cleaned/buffer_objects_multitexturing.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:7: 'attribute' :  supported in vertex shaders only
ERROR: 0:8: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "gtf_TexCoord")
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "gtf_TexCoord")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0))
e.right: Identifier(name='gtf_MultiTexCoord0')
e.left: IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=1))
e.right: Identifier(name='gtf_MultiTexCoord1')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

uniform mat4 gtf_ModelViewProjectionMatrix;
attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
attribute vec4 gtf_MultiTexCoord0;
attribute vec4 gtf_MultiTexCoord1;
varying vec4 color;
varying vec4 gtf_TexCoord[2];
void main ()
{
	color = gtf_Color;
	gtf_TexCoord[0] = gtf_MultiTexCoord0;
	gtf_TexCoord[1] = gtf_MultiTexCoord1;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

uniform mat4 gtf_ModelViewProjectionMatrix;

vec4 gtf_Color;

vec4 gtf_Vertex;

vec4 gtf_MultiTexCoord0;

vec4 gtf_MultiTexCoord1;

varying vec4 color;

varying vec4 gtf_TexCoord[2];

void main()
{
  color = gtf_Color;
  gtf_TexCoord[0] = gtf_MultiTexCoord0;
  gtf_TexCoord[1] = gtf_MultiTexCoord1;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/buffer_objects_multitexturing.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_stp_1vec3_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.stp;
	vec4 a = vec4(m.stp,al.q);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.stp;
  vec4 a = vec4(m.stp, al.q);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_stp_1vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/3i_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2))), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform ivec3 color;
void main ()
{
	gl_FragColor = vec4 (color[0], color[1], color[2], 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform ivec3 color;

void main()
{
  gl_FragColor = vec4(color[0], color[1], color[2], 1.0);
}


Filename: /home/oof/webgl_cleaned/3i_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/intArrayUniformShader.vert
filename /home/oof/webgl_cleaned/intArrayUniformShader.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:9: 'gl_Position' : undeclared identifier
ERROR: 0:9: 'assign' : l-value required (can't modify a const)
ERROR: 0:9: '=' : dimension mismatch
ERROR: 0:9: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))
e.left: Identifier(name='ival')
e.right: IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))
e.left: Identifier(name='gl_Position')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='sum'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

uniform int ival;
uniform int ival2[2];
void main()
{
    int sum = ival + ival2[0] + ival2[1];
    gl_Position = vec4(sum, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform int ival;

uniform int ival2[2];

void main()
{
  int sum = ((ival + ival2[0]) + ival2[1]);
  gl_Position = vec4(sum, 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/intArrayUniformShader.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/radians_vec3_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=360.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=360.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=180.0)), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=180.0)), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=180.0))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI'))
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=180.0)
e.left: Identifier(name='c')
e.right: Identifier(name='M_PI')
e.left: FloatLiteral(value=4.0)
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 360.0 * 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4((c * M_PI / 180.0) / (4.0 * M_PI) + 0.5, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = ((360.0 * 2.0) * (color.rgb - 0.5));
  gl_FragColor = vec4(((((c * M_PI) / 180.0) / (4.0 * M_PI)) + 0.5), 1.0);
}


Filename: /home/oof/webgl_cleaned/radians_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/ivec4_empty_empty_ivec4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=1))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=IntLiteral(value=1))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
ivec4 function(ivec4 par);
bool is_all(const in ivec4 par, const in int value);
void set_all(out ivec4 par, const in int value);
void main ()
{
	ivec4 par = ivec4(1, 1, 1, 1);
	ivec4 ret = ivec4(0, 0, 0, 0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 1) && is_all(ret, 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
ivec4 function(ivec4 par)
{
	if(is_all(par, 1))
	{
		set_all(par, 0);
		return ivec4(1, 1, 1, 1);
	}
	else
		return ivec4(0, 0, 0, 0);
}
bool is_all(const in ivec4 par, const in int value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out ivec4 par, const in int value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

ivec4 function(ivec4 par);
bool is_all(const in ivec4 par, const in int value);
void set_all(out ivec4 par, const in int value);
void main()
{
  ivec4 par = ivec4(1, 1, 1, 1);
  ivec4 ret = ivec4(0, 0, 0, 0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 1) && is_all(ret, 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

ivec4 function(ivec4 par)
{
  if (is_all(par, 1))
  {
    set_all(par, 0);
    return ivec4(1, 1, 1, 1);
  }
  else
    return ivec4(0, 0, 0, 0);
}

bool is_all(const in ivec4 par, const in int value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out ivec4 par, const in int value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/ivec4_empty_empty_ivec4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equality_frag.frag
e.left: Identifier(name='m')
e.right: IntLiteral(value=102)
e.left: Identifier(name='k')
e.right: IntLiteral(value=102)
e.left: Identifier(name='equalto')
e.right: Identifier(name='notequalto')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	int m = 102;
	int k = 12;
	bool equalto = (m == 102);
	bool notequalto = (k != 102);
	float gray;
	if( equalto && notequalto )
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  int m = 102;
  int k = 12;
  bool equalto = (m == 102);
  bool notequalto = (k != 102);
  float gray;
  if ((equalto && notequalto))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/equality_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat3_9float_frag.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: MemberExpr(base=Identifier(name='color'), member='g')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: MemberExpr(base=Identifier(name='color'), member='b')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: MemberExpr(base=Identifier(name='color'), member='g')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: MemberExpr(base=Identifier(name='color'), member='b')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: MemberExpr(base=Identifier(name='color'), member='g')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: MemberExpr(base=Identifier(name='color'), member='b')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='result')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	mat3 m = mat3(color.r, color.g, color.b, color.r, color.g, color.b, color.r, color.g, color.b);
	vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
	vec4 result = vec4(1.0, 1.0, 1.0, 1.0);
	if(m[0][0] != color.r) result = black;
	if(m[0][1] != color.g) result = black;
	if(m[0][2] != color.b) result = black;
	if(m[1][0] != color.r) result = black;
	if(m[1][1] != color.g) result = black;
	if(m[1][2] != color.b) result = black;
	if(m[2][0] != color.r) result = black;
	if(m[2][1] != color.g) result = black;
	if(m[2][2] != color.b) result = black;
	gl_FragColor = result;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  mat3 m = mat3(color.r, color.g, color.b, color.r, color.g, color.b, color.r, color.g, color.b);
  vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
  vec4 result = vec4(1.0, 1.0, 1.0, 1.0);
  if ((m[0][0] != color.r))
    result = black;
  if ((m[0][1] != color.g))
    result = black;
  if ((m[0][2] != color.b))
    result = black;
  if ((m[1][0] != color.r))
    result = black;
  if ((m[1][1] != color.g))
    result = black;
  if ((m[1][2] != color.b))
    result = black;
  if ((m[2][0] != color.r))
    result = black;
  if ((m[2][1] != color.g))
    result = black;
  if ((m[2][2] != color.b))
    result = black;
  gl_FragColor = result;
}


Filename: /home/oof/webgl_cleaned/mat3_9float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/all_bvec2_frag_ref.frag
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_all'), args=[CallExpr(callee=Identifier(name='bvec2'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bool _all(in bvec2 a)
{
	bool temp = true;
	if(!a[0]) temp = false;
	if(!a[1]) temp = false;
	return temp;
}
void main ()
{
	vec2 c = floor(4.0 * color.rg);
	gl_FragColor = vec4(vec3(_all(bvec2(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bool _all(in bvec2 a)
{
  bool temp = true;
  if (!a[0])
    temp = false;
  if (!a[1])
    temp = false;
  return temp;
}

void main()
{
  vec2 c = floor((4.0 * color.rg));
  gl_FragColor = vec4(vec3(_all(bvec2(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/all_bvec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structnest_vec2_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))), right=FloatLiteral(value=55.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)))
e.right: FloatLiteral(value=55.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct nestb
{
	vec2 b;
};
struct nesta
{
	vec2 a;
	nestb nest_b;
};
struct nest
{
	nesta nest_a;
};
void main ()
{
	nest s = nest(nesta(vec2(11, 13), nestb(vec2(12, 19) ) ) );
	gl_FragColor = vec4( vec3(  (s.nest_a.a[0] + s.nest_a.a[1] + s.nest_a.nest_b.b[0] + s.nest_a.nest_b.b[1] ) / 55.0 ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct nestb {
  vec2 b;
};

struct nesta {
  vec2 a;
  nestb nest_b;
};

struct nest {
  nesta nest_a;
};

void main()
{
  nest s = nest(nesta(vec2(11, 13), nestb(vec2(12, 19))));
  gl_FragColor = vec4(vec3(((((s.nest_a.a[0] + s.nest_a.a[1]) + s.nest_a.nest_b.b[0]) + s.nest_a.nest_b.b[1]) / 55.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/structnest_vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/2b_vert.vert
filename /home/oof/webgl_cleaned/2b_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "col")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='col')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='color')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
attribute vec4 gtf_Color;
uniform bvec2 color;
varying vec2 col;
void main ()
{
	col = vec2(color);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

vec4 gtf_Color;

uniform bvec2 color;

varying vec2 col;

void main()
{
  col = vec2(color);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/2b_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/atan_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/atan_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 4.0 * 2.0 * (gtf_Color.rgb - 0.5);
	color = vec4(atan(c) / M_PI + 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = ((4.0 * 2.0) * (gtf_Color.rgb - 0.5));
  color = vec4(((atan(c) / M_PI) + 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/atan_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/structnest_vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=3))), right=FloatLiteral(value=201.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=3)))
e.right: FloatLiteral(value=201.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=2))
e.left: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct nestb
{
	vec4 b;
};
struct nesta
{
	vec4 a;
	nestb nest_b;
};
struct nest
{
	nesta nest_a;
};
void main ()
{
	nest s = nest(nesta(vec4(11, 13, 17, 31), nestb(vec4(12, 19, 29, 69) ) ) );
	gl_FragColor = vec4( vec3(  (s.nest_a.a[0] + s.nest_a.a[1] + s.nest_a.a[2] + s.nest_a.a[3] + s.nest_a.nest_b.b[0] + s.nest_a.nest_b.b[1] + s.nest_a.nest_b.b[2] + s.nest_a.nest_b.b[3]) / 201.0 ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct nestb {
  vec4 b;
};

struct nesta {
  vec4 a;
  nestb nest_b;
};

struct nest {
  nesta nest_a;
};

void main()
{
  nest s = nest(nesta(vec4(11, 13, 17, 31), nestb(vec4(12, 19, 29, 69))));
  gl_FragColor = vec4(vec3(((((((((s.nest_a.a[0] + s.nest_a.a[1]) + s.nest_a.a[2]) + s.nest_a.a[3]) + s.nest_a.nest_b.b[0]) + s.nest_a.nest_b.b[1]) + s.nest_a.nest_b.b[2]) + s.nest_a.nest_b.b[3]) / 201.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/structnest_vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/emit1.glsl
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.05))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.05)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='blurSize'))
e.left: FloatLiteral(value=4.0)
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.09))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.09)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='blurSize'))
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.12))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.12)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='blurSize'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=Identifier(name='blurSize')), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.15))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=Identifier(name='blurSize')), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.15)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.16))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.16)
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=Identifier(name='blurSize')), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.15))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=Identifier(name='blurSize')), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.15)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.12))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.12)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='blurSize'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.09))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.09)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='blurSize'))
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='blurSize')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))]), right=FloatLiteral(value=0.05))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='GLGE_EMIT'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='texCoord'), member='x'), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='blurSize'))), right=MemberExpr(base=Identifier(name='texCoord'), member='y'))]))])
e.right: FloatLiteral(value=0.05)
e.left: MemberExpr(base=Identifier(name='texCoord'), member='x')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='blurSize'))
e.left: FloatLiteral(value=4.0)
e.right: Identifier(name='blurSize')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform sampler2D GLGE_EMIT;
varying vec2 texCoord;
float blurSize=0.007;
void main(){
	vec4 color=vec4(0.0,0.0,0.0,0.0);
	color += texture2D(GLGE_EMIT, vec2(texCoord.x - 4.0*blurSize, texCoord.y)) * 0.05;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x - 3.0*blurSize, texCoord.y)) * 0.09;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x - 2.0*blurSize, texCoord.y)) * 0.12;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x - blurSize, texCoord.y)) * 0.15;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x, texCoord.y)) * 0.16;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x + blurSize, texCoord.y)) * 0.15;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x + 2.0*blurSize, texCoord.y)) * 0.12;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x + 3.0*blurSize, texCoord.y)) * 0.09;
	color += texture2D(GLGE_EMIT, vec2(texCoord.x + 4.0*blurSize, texCoord.y)) * 0.05;
    gl_FragColor = vec4(color.rgb,1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform sampler2D GLGE_EMIT;

varying vec2 texCoord;

float blurSize = 0.007;

void main()
{
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x - (4.0 * blurSize)), texCoord.y)) * 0.05));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x - (3.0 * blurSize)), texCoord.y)) * 0.09));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x - (2.0 * blurSize)), texCoord.y)) * 0.12));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x - blurSize), texCoord.y)) * 0.15));
  (color += (texture2D(GLGE_EMIT, vec2(texCoord.x, texCoord.y)) * 0.16));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x + blurSize), texCoord.y)) * 0.15));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x + (2.0 * blurSize)), texCoord.y)) * 0.12));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x + (3.0 * blurSize)), texCoord.y)) * 0.09));
  (color += (texture2D(GLGE_EMIT, vec2((texCoord.x + (4.0 * blurSize)), texCoord.y)) * 0.05));
  gl_FragColor = vec4(color.rgb, 1.0);
}


Filename: /home/oof/webgl_cleaned/emit1.glsl passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log2_float_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='color'), member='r'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')]), right=FloatLiteral(value=5.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=5.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 31.0 * color.r + 1.0;
	gl_FragColor = vec4(log2(c) / 5.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = ((31.0 * color.r) + 1.0);
  gl_FragColor = vec4((log2(c) / 5.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log2_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/CorrectSwizzle2_frag.frag
e.left: Identifier(name='f')
e.right: BinaryExpr(op='=', left=Identifier(name='f1'), right=Identifier(name='f2'))
e.left: Identifier(name='f1')
e.right: Identifier(name='f2')
e.left: Identifier(name='f')
e.right: BinaryExpr(op='+=', left=Identifier(name='f1'), right=Identifier(name='f2'))
e.left: Identifier(name='f1')
e.right: Identifier(name='f2')
e.left: Identifier(name='v')
e.right: BinaryExpr(op='=', left=Identifier(name='v1'), right=Identifier(name='v2'))
e.left: Identifier(name='v1')
e.right: Identifier(name='v2')
e.left: Identifier(name='v')
e.right: BinaryExpr(op='+=', left=Identifier(name='v1'), right=Identifier(name='v2'))
e.left: Identifier(name='v1')
e.right: Identifier(name='v2')
e.left: MemberExpr(base=Identifier(name='v'), member='wx')
e.right: BinaryExpr(op='=', left=MemberExpr(base=Identifier(name='v1'), member='zx'), right=MemberExpr(base=Identifier(name='v2'), member='yx'))
e.left: MemberExpr(base=Identifier(name='v1'), member='zx')
e.right: MemberExpr(base=Identifier(name='v2'), member='yx')
e.left: MemberExpr(base=Identifier(name='v'), member='wx')
e.right: BinaryExpr(op='+=', left=MemberExpr(base=Identifier(name='v1'), member='zx'), right=MemberExpr(base=Identifier(name='v2'), member='yx'))
e.left: MemberExpr(base=Identifier(name='v1'), member='zx')
e.right: MemberExpr(base=Identifier(name='v2'), member='yx')
e.left: Identifier(name='m')
e.right: BinaryExpr(op='=', left=Identifier(name='m1'), right=Identifier(name='m2'))
e.left: Identifier(name='m1')
e.right: Identifier(name='m2')
e.left: Identifier(name='m')
e.right: BinaryExpr(op='+=', left=Identifier(name='m1'), right=Identifier(name='m2'))
e.left: Identifier(name='m1')
e.right: Identifier(name='m2')
e.left: MemberExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=3)), member='wx')
e.right: BinaryExpr(op='=', left=MemberExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), member='zx'), right=MemberExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), member='yx'))
e.left: MemberExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), member='zx')
e.right: MemberExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), member='yx')
e.left: MemberExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=3)), member='wx')
e.right: BinaryExpr(op='+=', left=MemberExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), member='zx'), right=MemberExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), member='yx'))
e.left: MemberExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), member='zx')
e.right: MemberExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), member='yx')
e.left: IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3))
e.right: BinaryExpr(op='=', left=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)))
e.left: IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3))
e.right: BinaryExpr(op='+=', left=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)))
e.left: IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1))
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3)), index=IntLiteral(value=3)), member='wx')
e.right: BinaryExpr(op='=', left=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx'), right=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx'))
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx')
e.right: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx')
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3)), index=IntLiteral(value=3)), member='wx')
e.right: BinaryExpr(op='+=', left=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx'), right=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx'))
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx')
e.right: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx')
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3)), index=IntLiteral(value=3)), member='wx')
e.right: BinaryExpr(op='+=', left=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx'), right=UnaryExpr(op='++', operand=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx'), postfix=False))
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx')
e.right: UnaryExpr(op='++', operand=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx'), postfix=False)
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3)), index=IntLiteral(value=3)), member='wx')
e.right: BinaryExpr(op='+=', left=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx'), right=UnaryExpr(op='++', operand=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx'), postfix=True))
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), member='zx')
e.right: UnaryExpr(op='++', operand=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), member='yx'), postfix=True)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='am'), index=IntLiteral(value=3)), index=IntLiteral(value=3)), member='z'), right=MemberExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=3)), member='w')), right=MemberExpr(base=Identifier(name='v'), member='w')), right=Identifier(name='f'))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
    float f, f1, f2;
    f = f1 = f2;
    f += f1 += f2;
    vec4 v, v1, v2;
    v = v1 = v2;
    v += v1 += v2;
    v.wx = v1.zx = v2.yx;
    v.wx += v1.zx += v2.yx;
    mat4  m, m1, m2;
    m = m1 = m2;
    m += m1 += m2;
    m[3].wx = m1[2].zx = m2[1].yx;
    m[3].wx += m1[2].zx += m2[1].yx;
    mat4  am[4], am1[4], am2[4];
    am[3] = am1[2] = am2[1];
    am[3] += am1[2] += am2[1];
    am[3][3].wx = am1[2][2].zx = am2[1][1].yx;
    am[3][3].wx += am1[2][2].zx += am2[1][1].yx;
    am[3][3].wx += am1[2][2].zx += ++(am2[1][1].yx);
    am[3][3].wx += am1[2][2].zx += (am2[1][1].yx)++;
    gl_FragColor = vec4(am[3][3].z, m[3].w, v.w, f);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  float f, f1, f2;
  f = f1 = f2;
  (f += (f1 += f2));
  vec4 v, v1, v2;
  v = v1 = v2;
  (v += (v1 += v2));
  v.wx = v1.zx = v2.yx;
  (v.wx += (v1.zx += v2.yx));
  mat4 m, m1, m2;
  m = m1 = m2;
  (m += (m1 += m2));
  m[3].wx = m1[2].zx = m2[1].yx;
  (m[3].wx += (m1[2].zx += m2[1].yx));
  mat4 am[4], am1[4], am2[4];
  am[3] = am1[2] = am2[1];
  (am[3] += (am1[2] += am2[1]));
  am[3][3].wx = am1[2][2].zx = am2[1][1].yx;
  (am[3][3].wx += (am1[2][2].zx += am2[1][1].yx));
  (am[3][3].wx += (am1[2][2].zx += ++am2[1][1].yx));
  (am[3][3].wx += (am1[2][2].zx += am2[1][1].yx++));
  gl_FragColor = vec4(am[3][3].z, m[3].w, v.w, f);
}


Filename: /home/oof/webgl_cleaned/CorrectSwizzle2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_vec2_vert_xvary_yconsthalf.vert
filename /home/oof/webgl_cleaned/pow_vec2_vert_xvary_yconsthalf.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=16.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]))])
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 16.0 * gtf_Color.rg;
	color = vec4(pow(c, vec2(0.5)) / 4.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = (16.0 * gtf_Color.rg);
  color = vec4((pow(c, vec2(0.5)) / 4.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_vert_xvary_yconsthalf.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_vec2_frag_xvaryneg_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	vec2 c = color.rg;
	gl_FragColor = vec4(1.0 / pow(vec2(exp1), 3.0 * c), 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  vec2 c = color.rg;
  gl_FragColor = vec4((1.0 / pow(vec2(exp1), (3.0 * c))), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/exp_vec2_frag_xvaryneg_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/lessThan_ivec3_vert_ref.vert
filename /home/oof/webgl_cleaned/lessThan_ivec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec3 lt(in ivec3 a, in ivec3 b)
{
	bvec3 result;
	if(a[0] < b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] < b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] < b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(lt(ivec3(c), ivec3(0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec3 lt(in ivec3 a, in ivec3 b)
{
  bvec3 result;
  if ((a[0] < b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] < b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] < b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(lt(ivec3(c), ivec3(0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThan_ivec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_vec2_frag_xvaryneg.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='exp'), args=[BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = -color.rg;
	gl_FragColor = vec4(exp(3.0 * c), 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = -color.rg;
  gl_FragColor = vec4(exp((3.0 * c)), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/exp_vec2_frag_xvaryneg.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/gl_FragCoord_z_frag_ref.frag
e.left: MemberExpr(base=Identifier(name='position'), member='z')
e.right: MemberExpr(base=Identifier(name='position'), member='w')
e.left: Identifier(name='z')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='f'), right=Identifier(name='n')), right=FloatLiteral(value=2.0)), right=Identifier(name='z')), right=BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='f'), right=Identifier(name='n')), right=FloatLiteral(value=2.0)))
e.left: BinaryExpr(op='*', left=BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='f'), right=Identifier(name='n')), right=FloatLiteral(value=2.0)), right=Identifier(name='z'))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='f'), right=Identifier(name='n')), right=FloatLiteral(value=2.0))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='f'), right=Identifier(name='n')), right=FloatLiteral(value=2.0))
e.right: Identifier(name='z')
e.left: BinaryExpr(op='-', left=Identifier(name='f'), right=Identifier(name='n'))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='f')
e.right: Identifier(name='n')
e.left: BinaryExpr(op='+', left=Identifier(name='f'), right=Identifier(name='n'))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='f')
e.right: Identifier(name='n')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='z')]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 position;
void main()
{
	float z = position.z / position.w;
	float f = gl_DepthRange.far;
	float n = gl_DepthRange.near;
	z = ((f - n) / 2.0) * z + (f + n) / 2.0;
	gl_FragColor = vec4(vec3(z), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 position;

void main()
{
  float z = (position.z / position.w);
  float f = gl_DepthRange.far;
  float n = gl_DepthRange.near;
  z = ((((f - n) / 2.0) * z) + ((f + n) / 2.0));
  gl_FragColor = vec4(vec3(z), 1.0);
}


Filename: /home/oof/webgl_cleaned/gl_FragCoord_z_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/clamp_float_frag_xvary_yconstquarter_ref.frag
e.left: Identifier(name='c')
e.right: Identifier(name='max_c')
e.left: Identifier(name='c')
e.right: Identifier(name='max_c')
e.left: Identifier(name='c')
e.right: Identifier(name='min_c')
e.left: Identifier(name='c')
e.right: Identifier(name='min_c')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float min_c = 0.25;
	const float max_c = 0.75;
	float c = color.r;
	if(c > max_c) c = max_c;
	if(c < min_c) c = min_c;
	gl_FragColor = vec4(c, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float min_c = 0.25;
  const float max_c = 0.75;
  float c = color.r;
  if ((c > max_c))
    c = max_c;
  if ((c < min_c))
    c = min_c;
  gl_FragColor = vec4(c, 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/clamp_float_frag_xvary_yconstquarter_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/radians_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/radians_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=360.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=360.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=180.0)), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=180.0)), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=180.0))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI'))
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=180.0)
e.left: Identifier(name='c')
e.right: Identifier(name='M_PI')
e.left: FloatLiteral(value=4.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 360.0 * 2.0 * (gtf_Color.rgb - 0.5);
	color = vec4((c * M_PI / 180.0) / (4.0 * M_PI) + 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = ((360.0 * 2.0) * (gtf_Color.rgb - 0.5));
  color = vec4(((((c * M_PI) / 180.0) / (4.0 * M_PI)) + 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/radians_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/float_empty_inout_float_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='par')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float function(inout float par);
void main ()
{
	float par = 1.0;
	float ret = 0.0;
	float gray = 0.0;
	ret = function(par);
	if((par == 0.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
float function(inout float par)
{
	if(par == 1.0)
	{
		par = 0.0;
		return 1.0;
	}
	else
		return 0.0;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float function(inout float par);
void main()
{
  float par = 1.0;
  float ret = 0.0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 0.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

float function(inout float par)
{
  if ((par == 1.0))
  {
    par = 0.0;
    return 1.0;
  }
  else
    return 0.0;
}


Filename: /home/oof/webgl_cleaned/float_empty_inout_float_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/normalize_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/normalize_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='gtf_Color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.25)])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=MemberExpr(base=Identifier(name='tmp_Color'), member='rg'), right=CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='tmp_Color'), member='rg')])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: MemberExpr(base=Identifier(name='tmp_Color'), member='rg')
e.right: CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='tmp_Color'), member='rg')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 tmp_Color = gtf_Color + vec4(0.25);
	color = vec4(tmp_Color.rg / length(tmp_Color.rg), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 tmp_Color = (gtf_Color + vec4(0.25));
  color = vec4((tmp_Color.rg / length(tmp_Color.rg)), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/normalize_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/preprocess10_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[IntLiteral(value=1)])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
   gl_FragColor = vec4(1);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  gl_FragColor = vec4(1);
}


Filename: /home/oof/webgl_cleaned/preprocess10_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log2_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/log2_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')]), right=FloatLiteral(value=5.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = 31.0 * gtf_Color.rgb + 1.0;
	color = vec4(log2(c) / 5.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = ((31.0 * gtf_Color.rgb) + 1.0);
  color = vec4((log2(c) / 5.0), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log2_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_frag_xconst2_yvary_ref.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = 2.0 * (color.rg - 0.5);
	gl_FragColor = vec4(exp2(2.0 * c) / 4.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = (2.0 * (color.rg - 0.5));
  gl_FragColor = vec4((exp2((2.0 * c)) / 4.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_frag_xconst2_yvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sqrt_float_frag_xvary_ref.frag
e.left: FloatLiteral(value=100.0)
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='c'), right=FloatLiteral(value=100.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='c')
e.right: FloatLiteral(value=100.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 100.0 * color.r;
	gl_FragColor = vec4(c / 100.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (100.0 * color.r);
  gl_FragColor = vec4((c / 100.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/sqrt_float_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/CorrectSwizzle3_frag.frag
e.left: MemberExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='v'), member='wzyx'), member='zywx'), member='wzy'), member='zy')
e.right: UnaryExpr(op='++', operand=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='v'), member='wzyx'), member='zywx'), member='wx'), postfix=True)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[Identifier(name='v')])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
    vec4 v = vec4(5,6,7,8);
    v.wzyx.zywx.wzy.zy = (v.wzyx.zywx.wx)++;
    gl_FragColor = vec4(v);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  vec4 v = vec4(5, 6, 7, 8);
  v.wzyx.zywx.wzy.zy = v.wzyx.zywx.wx++;
  gl_FragColor = vec4(v);
}


Filename: /home/oof/webgl_cleaned/CorrectSwizzle3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/array_const_mat3_frag.frag
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='b')
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0)), right=Identifier(name='a'))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1)), right=Identifier(name='b'))
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='b')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const int array_size = 2;
void main ()
{
	const mat3 a = mat3(1.0, 2.0, 3.0,
		            4.0, 5.0, 6.0,
			    7.0, 8.0, 9.0);
	const mat3 b = mat3(10.0, 11.0, 12.0,
		            13.0, 14.0, 15.0,
			    16.0, 17.0, 18.0);
	mat3 array[array_size];
	float gray;
	array[0] = a;
	array[1] = b;
	if((array[0] == a) && (array[1] == b))
		gray = 1.0;
	else
		gray = 0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const int array_size = 2;

void main()
{
  const mat3 a = mat3(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0);
  const mat3 b = mat3(10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0);
  mat3 array[array_size];
  float gray;
  array[0] = a;
  array[1] = b;
  if (((array[0] == a) && (array[1] == b)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/array_const_mat3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/1b_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='color')]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform bool color;
void main ()
{
	gl_FragColor = vec4 (float(color), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform bool color;

void main()
{
  gl_FragColor = vec4(float(color), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/1b_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/ivec4_empty_in_ivec4_array_vert.vert
filename /home/oof/webgl_cleaned/ivec4_empty_in_ivec4_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='ivec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IntLiteral(value=1), right=IntLiteral(value=1)), right=IntLiteral(value=1)), right=IntLiteral(value=1))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=IntLiteral(value=1))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
ivec4 function(in ivec4 par[3]);
bool is_all(const in ivec4 par, const in int value);
bool is_all(const in ivec4 array[3], const in ivec4 value);
void set_all(out ivec4 array[3], const in ivec4 value);
void main ()
{
	ivec4 par[3];
	ivec4 ret = ivec4(0, 0, 0, 0);
	float gray = 0.0;
	set_all(par, ivec4(1, 1, 1, 1));
	ret = function(par);
	if(is_all(par, ivec4(1, 1, 1, 1)) && is_all(ret, 1))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
ivec4 function(in ivec4 par[3])
{
	if(is_all(par, ivec4(1, 1, 1, 1)))
	{
		set_all(par, ivec4(0, 0, 0, 0));
		return ivec4(1, 1, 1, 1);
	}
	else
		return ivec4(0, 0, 0, 0);
}
bool is_all(const in ivec4 par, const in int value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in ivec4 array[3], const in ivec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out ivec4 array[3], const in ivec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

ivec4 function(in ivec4 par[3]);
bool is_all(const in ivec4 par, const in int value);
bool is_all(const in ivec4 array[3], const in ivec4 value);
void set_all(out ivec4 array[3], const in ivec4 value);
void main()
{
  ivec4 par[3];
  ivec4 ret = ivec4(0, 0, 0, 0);
  float gray = 0.0;
  set_all(par, ivec4(1, 1, 1, 1));
  ret = function(par);
  if ((is_all(par, ivec4(1, 1, 1, 1)) && is_all(ret, 1)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

ivec4 function(in ivec4 par[3])
{
  if (is_all(par, ivec4(1, 1, 1, 1)))
  {
    set_all(par, ivec4(0, 0, 0, 0));
    return ivec4(1, 1, 1, 1);
  }
  else
    return ivec4(0, 0, 0, 0);
}

bool is_all(const in ivec4 par, const in int value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in ivec4 array[3], const in ivec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out ivec4 array[3], const in ivec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/ivec4_empty_in_ivec4_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/all_bvec3_vert_ref.vert
filename /home/oof/webgl_cleaned/all_bvec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:19: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:20: 'gl_Position' : undeclared identifier
ERROR: 0:20: 'assign' : l-value required (can't modify a const)
ERROR: 0:20: '=' : dimension mismatch
ERROR: 0:20: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_all'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bool _all(in bvec3 a)
{
	bool temp = true;
	if(!a[0]) temp = false;
	if(!a[1]) temp = false;
	if(!a[2]) temp = false;
	return temp;
}
void main ()
{
	vec3 c = floor(4.0 * gtf_Color.rgb);
	color = vec4(vec3(_all(bvec3(c))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bool _all(in bvec3 a)
{
  bool temp = true;
  if (!a[0])
    temp = false;
  if (!a[1])
    temp = false;
  if (!a[2])
    temp = false;
  return temp;
}

void main()
{
  vec3 c = floor((4.0 * gtf_Color.rgb));
  color = vec4(vec3(_all(bvec3(c))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/all_bvec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/structcopy_float_vert.vert
filename /home/oof/webgl_cleaned/structcopy_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:19: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:20: 'gl_Position' : undeclared identifier
ERROR: 0:20: 'assign' : l-value required (can't modify a const)
ERROR: 0:20: '=' : dimension mismatch
ERROR: 0:20: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='s2')
e.right: Identifier(name='s')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d')), right=FloatLiteral(value=15.0)), right=BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b')), right=MemberExpr(base=Identifier(name='s2'), member='c')), right=MemberExpr(base=Identifier(name='s2'), member='d')), right=FloatLiteral(value=15.0))), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d'))
e.right: FloatLiteral(value=15.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c'))
e.right: MemberExpr(base=Identifier(name='s'), member='d')
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b'))
e.right: MemberExpr(base=Identifier(name='s'), member='c')
e.left: MemberExpr(base=Identifier(name='s'), member='a')
e.right: MemberExpr(base=Identifier(name='s'), member='b')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b')), right=MemberExpr(base=Identifier(name='s2'), member='c')), right=MemberExpr(base=Identifier(name='s2'), member='d'))
e.right: FloatLiteral(value=15.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b')), right=MemberExpr(base=Identifier(name='s2'), member='c'))
e.right: MemberExpr(base=Identifier(name='s2'), member='d')
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b'))
e.right: MemberExpr(base=Identifier(name='s2'), member='c')
e.left: MemberExpr(base=Identifier(name='s2'), member='a')
e.right: MemberExpr(base=Identifier(name='s2'), member='b')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
	float a;
	float b;
	float c;
	float d;
};
void main ()
{
	sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
	sabcd s2 = sabcd(0.0, 0.0, 0.0, 0.0);
	s2 = s;
	color = vec4((s.a + s.b + s.c + s.d) / 15.0, (s2.a + s2.b + s2.c + s2.d) / 15.0, 1.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  float a;
  float b;
  float c;
  float d;
};

void main()
{
  sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
  sabcd s2 = sabcd(0.0, 0.0, 0.0, 0.0);
  s2 = s;
  color = vec4(((((s.a + s.b) + s.c) + s.d) / 15.0), ((((s2.a + s2.b) + s2.c) + s2.d) / 15.0), 1.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/structcopy_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/length_float_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/length_float_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='r')]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(gtf_Color.r), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3(gtf_Color.r), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/length_float_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/buffer_objects_pointSize.vert
filename /home/oof/webgl_cleaned/buffer_objects_pointSize.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'
ERROR: 0:13: 'gl_PointSize' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='gl_PointSize')
e.right: Identifier(name='gtf_PointSize')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
attribute float gtf_PointSize;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
	gl_PointSize = gtf_PointSize;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

float gtf_PointSize;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
  gl_PointSize = gtf_PointSize;
}


Filename: /home/oof/webgl_cleaned/buffer_objects_pointSize.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_yxw_z_1vec3_1float_vert.vert
filename /home/oof/webgl_cleaned/vec4_yxw_z_1vec3_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.yxw;
	float z = lightloc.z;
	vec4 a = vec4(m.y, m.x, z, m.z);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.yxw;
  float z = lightloc.z;
  vec4 a = vec4(m.y, m.x, z, m.z);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_yxw_z_1vec3_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log2_float_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='color'), member='r'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='z')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=FloatLiteral(value=2.0), right=Identifier(name='ln2'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='ln2')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=FloatLiteral(value=5.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: FloatLiteral(value=5.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const float ln2 = 0.69314718055994530941723212145818;
void main ()
{
	float x = 31.0 * color.r + 1.0;
	float y = 0.0;
	float z;
	int n = 50;
	z = (x - 1.0) / (x + 1.0);
	float p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= 2.0 / ln2;
	gl_FragColor = vec4(y / 5.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const float ln2 = 0.6931471805599453;

void main()
{
  float x = ((31.0 * color.r) + 1.0);
  float y = 0.0;
  float z;
  int n = 50;
  z = ((x - 1.0) / (x + 1.0));
  float p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= (2.0 / ln2));
  gl_FragColor = vec4((y / 5.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log2_float_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_zyx_1vec3_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.xyz;
	vec3 t = m.zyx;
	vec4 a = vec4(t.z, t.y, t.x ,al.w);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.xyz;
  vec3 t = m.zyx;
  vec4 a = vec4(t.z, t.y, t.x, al.w);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_zyx_1vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sin_vec2_frag_xvary_ref.frag
e.left: Identifier(name='a')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a')), right=Identifier(name='s'))
e.left: BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a'))
e.right: Identifier(name='s')
e.left: Identifier(name='b')
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.382683)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.707107)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=0.92388)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=4))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=5))
e.right: FloatLiteral(value=0.92388)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=6))
e.right: FloatLiteral(value=0.707107)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=7))
e.right: FloatLiteral(value=0.382683)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=8))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=9))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.382683), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=10))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.707107), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=11))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.92388), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=12))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=13))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.923879), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=14))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.707107), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=15))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.382683), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=16))
e.right: FloatLiteral(value=0.0)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='c')
e.right: FloatLiteral(value=2.546478971)
e.left: Identifier(name='arrVal')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='arrVal')])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=0)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=1))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=2))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=3))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=3)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=4))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=4)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=5))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=6))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=6)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=7))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=7)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=8))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=8)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=9))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=9)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=10))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=10)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=11))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=11)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=12))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=12)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=13))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=13)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=14))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=14)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=15))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=15)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=16))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=16)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='x')
e.right: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=0)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=1))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=2))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=3))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=3)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=4))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=4)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=5))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=6))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=6)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=7))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=7)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=8))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=8)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=9))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=9)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=10))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=10)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=11))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=11)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=12))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=12)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=13))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=13)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=14))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=14)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=15))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=15)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=16))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=16)
e.left: MemberExpr(base=Identifier(name='sin_c'), member='y')
e.right: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='sin_c')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='sin_c'))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='sin_c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float lerp(float a, float b, float s)
{
	return a + (b - a) * s;
}
void main ()
{
	float sinValues[17];
	sinValues[0] = 0.0;
	sinValues[1] = 0.382683;
	sinValues[2] = 0.707107;
	sinValues[3] = 0.92388;
	sinValues[4] = 1.0;
	sinValues[5] = 0.92388;
	sinValues[6] = 0.707107;
	sinValues[7] = 0.382683;
	sinValues[8] = 0.0;
	sinValues[9] = -0.382683;
	sinValues[10] = -0.707107;
	sinValues[11] = -0.92388;
	sinValues[12] = -1.0;
	sinValues[13] = -0.923879;
	sinValues[14] = -0.707107;
	sinValues[15] = -0.382683;
	sinValues[16] = 0.0;
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * M_PI * color.rg;
	vec2 arrVal = c * 2.546478971;
	int arr0x = int(floor(arrVal.x));
	int arr0y = int(floor(arrVal.y));
	vec2 weight = arrVal - floor(arrVal);
	vec2 sin_c = vec2(0.0, 0.0);
	if (arr0x == 0)
		sin_c.x = lerp(sinValues[0], sinValues[1], weight.x);
	else if (arr0x == 1)
		sin_c.x = lerp(sinValues[1], sinValues[2], weight.x);
	else if (arr0x == 2)
		sin_c.x = lerp(sinValues[2], sinValues[3], weight.x);
	else if (arr0x == 3)
		sin_c.x = lerp(sinValues[3], sinValues[4], weight.x);
	else if (arr0x == 4)
		sin_c.x = lerp(sinValues[4], sinValues[5], weight.x);
	else if (arr0x == 5)
		sin_c.x = lerp(sinValues[5], sinValues[6], weight.x);
	else if (arr0x == 6)
		sin_c.x = lerp(sinValues[6], sinValues[7], weight.x);
	else if (arr0x == 7)
		sin_c.x = lerp(sinValues[7], sinValues[8], weight.x);
	else if (arr0x == 8)
		sin_c.x = lerp(sinValues[8], sinValues[9], weight.x);
	else if (arr0x == 9)
		sin_c.x = lerp(sinValues[9], sinValues[10], weight.x);
	else if (arr0x == 10)
		sin_c.x = lerp(sinValues[10], sinValues[11], weight.x);
	else if (arr0x == 11)
		sin_c.x = lerp(sinValues[11], sinValues[12], weight.x);
	else if (arr0x == 12)
		sin_c.x = lerp(sinValues[12], sinValues[13], weight.x);
	else if (arr0x == 13)
		sin_c.x = lerp(sinValues[13], sinValues[14], weight.x);
	else if (arr0x == 14)
		sin_c.x = lerp(sinValues[14], sinValues[15], weight.x);
	else if (arr0x == 15)
		sin_c.x = lerp(sinValues[15], sinValues[16], weight.x);
        else if (arr0x == 16)
                sin_c.x = sinValues[16];
	if (arr0y == 0)
		sin_c.y = lerp(sinValues[0], sinValues[1], weight.y);
	else if (arr0y == 1)
		sin_c.y = lerp(sinValues[1], sinValues[2], weight.y);
	else if (arr0y == 2)
		sin_c.y = lerp(sinValues[2], sinValues[3], weight.y);
	else if (arr0y == 3)
		sin_c.y = lerp(sinValues[3], sinValues[4], weight.y);
	else if (arr0y == 4)
		sin_c.y = lerp(sinValues[4], sinValues[5], weight.y);
	else if (arr0y == 5)
		sin_c.y = lerp(sinValues[5], sinValues[6], weight.y);
	else if (arr0y == 6)
		sin_c.y = lerp(sinValues[6], sinValues[7], weight.y);
	else if (arr0y == 7)
		sin_c.y = lerp(sinValues[7], sinValues[8], weight.y);
	else if (arr0y == 8)
		sin_c.y = lerp(sinValues[8], sinValues[9], weight.y);
	else if (arr0y == 9)
		sin_c.y = lerp(sinValues[9], sinValues[10], weight.y);
	else if (arr0y == 10)
		sin_c.y = lerp(sinValues[10], sinValues[11], weight.y);
	else if (arr0y == 11)
		sin_c.y = lerp(sinValues[11], sinValues[12], weight.y);
	else if (arr0y == 12)
		sin_c.y = lerp(sinValues[12], sinValues[13], weight.y);
	else if (arr0y == 13)
		sin_c.y = lerp(sinValues[13], sinValues[14], weight.y);
	else if (arr0y == 14)
		sin_c.y = lerp(sinValues[14], sinValues[15], weight.y);
	else if (arr0y == 15)
		sin_c.y = lerp(sinValues[15], sinValues[16], weight.y);
        else if (arr0y == 16)
                sin_c.y = sinValues[16];
	gl_FragColor = vec4(0.5 * sin_c + 0.5, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float lerp(float a, float b, float s)
{
  return (a + ((b - a) * s));
}

void main()
{
  float sinValues[17];
  sinValues[0] = 0.0;
  sinValues[1] = 0.382683;
  sinValues[2] = 0.707107;
  sinValues[3] = 0.92388;
  sinValues[4] = 1.0;
  sinValues[5] = 0.92388;
  sinValues[6] = 0.707107;
  sinValues[7] = 0.382683;
  sinValues[8] = 0.0;
  sinValues[9] = -0.382683;
  sinValues[10] = -0.707107;
  sinValues[11] = -0.92388;
  sinValues[12] = -1.0;
  sinValues[13] = -0.923879;
  sinValues[14] = -0.707107;
  sinValues[15] = -0.382683;
  sinValues[16] = 0.0;
  const float M_PI = 3.141592653589793;
  vec2 c = ((2.0 * M_PI) * color.rg);
  vec2 arrVal = (c * 2.546478971);
  int arr0x = int(floor(arrVal.x));
  int arr0y = int(floor(arrVal.y));
  vec2 weight = (arrVal - floor(arrVal));
  vec2 sin_c = vec2(0.0, 0.0);
  if ((arr0x == 0))
    sin_c.x = lerp(sinValues[0], sinValues[1], weight.x);
  else
    if ((arr0x == 1))
      sin_c.x = lerp(sinValues[1], sinValues[2], weight.x);
    else
      if ((arr0x == 2))
        sin_c.x = lerp(sinValues[2], sinValues[3], weight.x);
      else
        if ((arr0x == 3))
          sin_c.x = lerp(sinValues[3], sinValues[4], weight.x);
        else
          if ((arr0x == 4))
            sin_c.x = lerp(sinValues[4], sinValues[5], weight.x);
          else
            if ((arr0x == 5))
              sin_c.x = lerp(sinValues[5], sinValues[6], weight.x);
            else
              if ((arr0x == 6))
                sin_c.x = lerp(sinValues[6], sinValues[7], weight.x);
              else
                if ((arr0x == 7))
                  sin_c.x = lerp(sinValues[7], sinValues[8], weight.x);
                else
                  if ((arr0x == 8))
                    sin_c.x = lerp(sinValues[8], sinValues[9], weight.x);
                  else
                    if ((arr0x == 9))
                      sin_c.x = lerp(sinValues[9], sinValues[10], weight.x);
                    else
                      if ((arr0x == 10))
                        sin_c.x = lerp(sinValues[10], sinValues[11], weight.x);
                      else
                        if ((arr0x == 11))
                          sin_c.x = lerp(sinValues[11], sinValues[12], weight.x);
                        else
                          if ((arr0x == 12))
                            sin_c.x = lerp(sinValues[12], sinValues[13], weight.x);
                          else
                            if ((arr0x == 13))
                              sin_c.x = lerp(sinValues[13], sinValues[14], weight.x);
                            else
                              if ((arr0x == 14))
                                sin_c.x = lerp(sinValues[14], sinValues[15], weight.x);
                              else
                                if ((arr0x == 15))
                                  sin_c.x = lerp(sinValues[15], sinValues[16], weight.x);
                                else
                                  if ((arr0x == 16))
                                    sin_c.x = sinValues[16];
  if ((arr0y == 0))
    sin_c.y = lerp(sinValues[0], sinValues[1], weight.y);
  else
    if ((arr0y == 1))
      sin_c.y = lerp(sinValues[1], sinValues[2], weight.y);
    else
      if ((arr0y == 2))
        sin_c.y = lerp(sinValues[2], sinValues[3], weight.y);
      else
        if ((arr0y == 3))
          sin_c.y = lerp(sinValues[3], sinValues[4], weight.y);
        else
          if ((arr0y == 4))
            sin_c.y = lerp(sinValues[4], sinValues[5], weight.y);
          else
            if ((arr0y == 5))
              sin_c.y = lerp(sinValues[5], sinValues[6], weight.y);
            else
              if ((arr0y == 6))
                sin_c.y = lerp(sinValues[6], sinValues[7], weight.y);
              else
                if ((arr0y == 7))
                  sin_c.y = lerp(sinValues[7], sinValues[8], weight.y);
                else
                  if ((arr0y == 8))
                    sin_c.y = lerp(sinValues[8], sinValues[9], weight.y);
                  else
                    if ((arr0y == 9))
                      sin_c.y = lerp(sinValues[9], sinValues[10], weight.y);
                    else
                      if ((arr0y == 10))
                        sin_c.y = lerp(sinValues[10], sinValues[11], weight.y);
                      else
                        if ((arr0y == 11))
                          sin_c.y = lerp(sinValues[11], sinValues[12], weight.y);
                        else
                          if ((arr0y == 12))
                            sin_c.y = lerp(sinValues[12], sinValues[13], weight.y);
                          else
                            if ((arr0y == 13))
                              sin_c.y = lerp(sinValues[13], sinValues[14], weight.y);
                            else
                              if ((arr0y == 14))
                                sin_c.y = lerp(sinValues[14], sinValues[15], weight.y);
                              else
                                if ((arr0y == 15))
                                  sin_c.y = lerp(sinValues[15], sinValues[16], weight.y);
                                else
                                  if ((arr0y == 16))
                                    sin_c.y = sinValues[16];
  gl_FragColor = vec4(((0.5 * sin_c) + 0.5), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/sin_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat4_empty_inout_mat4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=Identifier(name='mat_zeros'))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0);
const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
mat4 function(inout mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main ()
{
	mat4 par[2];
	mat4 ret = mat_zeros;
	float gray = 0.0;
	set_all(par, mat_ones);
	ret = function(par);
	if(is_all(par, mat_zeros) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
mat4 function(inout mat4 par[2])
{
	if(is_all(par, mat_ones))
	{
		set_all(par, mat_zeros);
		return mat_ones;
	}
	else
		return mat_zeros;
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
bool is_all(const in mat4 array[2], const in mat4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 array[2], const in mat4 value)
{
	array[0] = value;
	array[1] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);

const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);

mat4 function(inout mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main()
{
  mat4 par[2];
  mat4 ret = mat_zeros;
  float gray = 0.0;
  set_all(par, mat_ones);
  ret = function(par);
  if ((is_all(par, mat_zeros) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

mat4 function(inout mat4 par[2])
{
  if (is_all(par, mat_ones))
  {
    set_all(par, mat_zeros);
    return mat_ones;
  }
  else
    return mat_zeros;
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

bool is_all(const in mat4 array[2], const in mat4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 array[2], const in mat4 value)
{
  array[0] = value;
  array[1] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_inout_mat4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/const_mat4_copy_frag.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=6.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=9.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=10.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=11.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=12.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=14.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=15.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=16.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=28.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=28.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=32.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=32.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=36.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=36.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=40.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=40.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=26.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=26.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=42.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=42.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=58.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=58.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main ()
{
	float x;
	const mat4 a = mat4( 1.0,  2.0,  3.0,  4.0,
	                     5.0,  6.0,  7.0,  8.0,
	                     9.0, 10.0, 11.0, 12.0,
	                    13.0, 14.0, 15.0, 16.0);
	mat4 b = a;
	bool elms = true;
	if(b[0][0] !=  1.0) elms = false;
	if(b[0][1] !=  2.0) elms = false;
	if(b[0][2] !=  3.0) elms = false;
	if(b[0][3] !=  4.0) elms = false;
	if(b[1][0] !=  5.0) elms = false;
	if(b[1][1] !=  6.0) elms = false;
	if(b[1][2] !=  7.0) elms = false;
	if(b[1][3] !=  8.0) elms = false;
	if(b[2][0] !=  9.0) elms = false;
	if(b[2][1] != 10.0) elms = false;
	if(b[2][2] != 11.0) elms = false;
	if(b[2][3] != 12.0) elms = false;
	if(b[3][0] != 13.0) elms = false;
	if(b[3][1] != 14.0) elms = false;
	if(b[3][2] != 15.0) elms = false;
	if(b[3][3] != 16.0) elms = false;
	bool rows = true;
	x = b[0][0] + b[1][0] + b[2][0] + b[3][0];
	if(x < 28.0-0.1 || x > 28.0+0.1) rows = false;
	x = b[0][1] + b[1][1] + b[2][1] + b[3][1];
	if(x < 32.0-0.1 || x > 32.0+0.1) rows = false;
	x = b[0][2] + b[1][2] + b[2][2] + b[3][2];
	if(x < 36.0-0.1 || x > 36.0+0.1) rows = false;
	x = b[0][3] + b[1][3] + b[2][3] + b[3][3];
	if(x < 40.0-0.1 || x > 40.0+0.1) rows = false;
	bool cols = true;
	x = b[0][0] + b[0][1] + b[0][2] + b[0][3];
	if(x < 10.0-0.1 || x > 10.0+0.1) cols = false;
	x = b[1][0] + b[1][1] + b[1][2] + b[1][3];
	if(x < 26.0-0.1 || x > 26.0+0.1) cols = false;
	x = b[2][0] + b[2][1] + b[2][2] + b[2][3];
	if(x < 42.0-0.1 || x > 42.0+0.1) cols = false;
	x = b[3][0] + b[3][1] + b[3][2] + b[3][3];
	if(x < 58.0-0.1 || x > 58.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  float x;
  const mat4 a = mat4(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0);
  mat4 b = a;
  bool elms = true;
  if ((b[0][0] != 1.0))
    elms = false;
  if ((b[0][1] != 2.0))
    elms = false;
  if ((b[0][2] != 3.0))
    elms = false;
  if ((b[0][3] != 4.0))
    elms = false;
  if ((b[1][0] != 5.0))
    elms = false;
  if ((b[1][1] != 6.0))
    elms = false;
  if ((b[1][2] != 7.0))
    elms = false;
  if ((b[1][3] != 8.0))
    elms = false;
  if ((b[2][0] != 9.0))
    elms = false;
  if ((b[2][1] != 10.0))
    elms = false;
  if ((b[2][2] != 11.0))
    elms = false;
  if ((b[2][3] != 12.0))
    elms = false;
  if ((b[3][0] != 13.0))
    elms = false;
  if ((b[3][1] != 14.0))
    elms = false;
  if ((b[3][2] != 15.0))
    elms = false;
  if ((b[3][3] != 16.0))
    elms = false;
  bool rows = true;
  x = (((b[0][0] + b[1][0]) + b[2][0]) + b[3][0]);
  if (((x < (28.0 - 0.1)) || (x > (28.0 + 0.1))))
    rows = false;
  x = (((b[0][1] + b[1][1]) + b[2][1]) + b[3][1]);
  if (((x < (32.0 - 0.1)) || (x > (32.0 + 0.1))))
    rows = false;
  x = (((b[0][2] + b[1][2]) + b[2][2]) + b[3][2]);
  if (((x < (36.0 - 0.1)) || (x > (36.0 + 0.1))))
    rows = false;
  x = (((b[0][3] + b[1][3]) + b[2][3]) + b[3][3]);
  if (((x < (40.0 - 0.1)) || (x > (40.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (((b[0][0] + b[0][1]) + b[0][2]) + b[0][3]);
  if (((x < (10.0 - 0.1)) || (x > (10.0 + 0.1))))
    cols = false;
  x = (((b[1][0] + b[1][1]) + b[1][2]) + b[1][3]);
  if (((x < (26.0 - 0.1)) || (x > (26.0 + 0.1))))
    cols = false;
  x = (((b[2][0] + b[2][1]) + b[2][2]) + b[2][3]);
  if (((x < (42.0 - 0.1)) || (x > (42.0 + 0.1))))
    cols = false;
  x = (((b[3][0] + b[3][1]) + b[3][2]) + b[3][3]);
  if (((x < (58.0 - 0.1)) || (x > (58.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/const_mat4_copy_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/step_vec3_frag_xvary_edgeconsthalf.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='step'), args=[BinaryExpr(op=',', left=Identifier(name='edge'), right=MemberExpr(base=Identifier(name='color'), member='rgb'))]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec3 edge = vec3(0.5, 0.5, 0.5);
	gl_FragColor = vec4(step(edge, color.rgb), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec3 edge = vec3(0.5, 0.5, 0.5);
  gl_FragColor = vec4(step(edge, color.rgb), 1.0);
}


Filename: /home/oof/webgl_cleaned/step_vec3_frag_xvary_edgeconsthalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structcopy_mat3_vert.vert
filename /home/oof/webgl_cleaned/structcopy_mat3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:26: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:27: 'gl_Position' : undeclared identifier
ERROR: 0:27: 'assign' : l-value required (can't modify a const)
ERROR: 0:27: '=' : dimension mismatch
ERROR: 0:27: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='s2')
e.right: Identifier(name='s')
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=Identifier(name='sum'), right=FloatLiteral(value=550.0))]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='sum')
e.right: FloatLiteral(value=550.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
 mat3 a;
};
void main ()
{
	sabcd s = sabcd(mat3(12.0, 29.0, 13.0, 26.0, 71.0, 63.0, 90.0, 118.0, 128.0) );
	sabcd s2 = sabcd(mat3(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) );
	s2 = s;
	float sum=0.0;
	sum = sum + s2.a[0][0];
	sum = sum + s2.a[0][1];
	sum = sum + s2.a[0][2];
	sum = sum + s2.a[1][0];
	sum = sum + s2.a[1][1];
	sum = sum + s2.a[1][2];
	sum = sum + s2.a[2][0];
	sum = sum + s2.a[2][1];
	sum = sum + s2.a[2][2];
	color = vec4( vec3(  sum / 550.0  ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  mat3 a;
};

void main()
{
  sabcd s = sabcd(mat3(12.0, 29.0, 13.0, 26.0, 71.0, 63.0, 90.0, 118.0, 128.0));
  sabcd s2 = sabcd(mat3(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
  s2 = s;
  float sum = 0.0;
  sum = (sum + s2.a[0][0]);
  sum = (sum + s2.a[0][1]);
  sum = (sum + s2.a[0][2]);
  sum = (sum + s2.a[1][0]);
  sum = (sum + s2.a[1][1]);
  sum = (sum + s2.a[1][2]);
  sum = (sum + s2.a[2][0]);
  sum = (sum + s2.a[2][1]);
  sum = (sum + s2.a[2][2]);
  color = vec4(vec3((sum / 550.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/structcopy_mat3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log2_float_frag_xvary01_ref.frag
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='z')
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))])
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False), right=Identifier(name='ln2'))
e.left: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.right: Identifier(name='ln2')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const float ln2 = 0.69314718055994530941723212145818;
void main ()
{
	float x = (color.r + 0.01) / 1.01;
	float y = 0.0;
	float z;
	int n = 50;
	z = abs((x - 1.0) / (x + 1.0));
	float p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= -2.0 / ln2;
	gl_FragColor = vec4(y / -8.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const float ln2 = 0.6931471805599453;

void main()
{
  float x = ((color.r + 0.01) / 1.01);
  float y = 0.0;
  float z;
  int n = 50;
  z = abs(((x - 1.0) / (x + 1.0)));
  float p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= (-2.0 / ln2));
  gl_FragColor = vec4((y / -8.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log2_float_frag_xvary01_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mix_vec3_vert_xvary_yconsthalf_aconsthalf.vert
filename /home/oof/webgl_cleaned/mix_vec3_vert_xvary_yconsthalf_aconsthalf.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='mix'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=Identifier(name='y')), right=Identifier(name='a'))]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const vec3 y = vec3(0.5, 0.5, 0.5);
	const vec3 a = vec3(0.5, 0.5, 0.5);
	color = vec4(mix(gtf_Color.rgb, y, a), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const vec3 y = vec3(0.5, 0.5, 0.5);
  const vec3 a = vec3(0.5, 0.5, 0.5);
  color = vec4(mix(gtf_Color.rgb, y, a), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mix_vec3_vert_xvary_yconsthalf_aconsthalf.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat4_empty_empty_mat4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=1.0))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
mat4 function(mat4 par);
bool is_all(const in mat4 par, const in float value);
void set_all(out mat4 par, const in float value);
void main ()
{
	mat4 par = mat4(1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0);
	mat4 ret = mat4(0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 1.0) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
mat4 function(mat4 par)
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return mat4(1.0, 1.0, 1.0, 1.0,
			    1.0, 1.0, 1.0, 1.0,
			    1.0, 1.0, 1.0, 1.0,
			    1.0, 1.0, 1.0, 1.0);
	}
	else
		return mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 par, const in float value)
{
	par[0][0] = value;
	par[0][1] = value;
	par[0][2] = value;
	par[0][3] = value;
	par[1][0] = value;
	par[1][1] = value;
	par[1][2] = value;
	par[1][3] = value;
	par[2][0] = value;
	par[2][1] = value;
	par[2][2] = value;
	par[2][3] = value;
	par[3][0] = value;
	par[3][1] = value;
	par[3][2] = value;
	par[3][3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

mat4 function(mat4 par);
bool is_all(const in mat4 par, const in float value);
void set_all(out mat4 par, const in float value);
void main()
{
  mat4 par = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);
  mat4 ret = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 1.0) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

mat4 function(mat4 par)
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);
  }
  else
    return mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 par, const in float value)
{
  par[0][0] = value;
  par[0][1] = value;
  par[0][2] = value;
  par[0][3] = value;
  par[1][0] = value;
  par[1][1] = value;
  par[1][2] = value;
  par[1][3] = value;
  par[2][0] = value;
  par[2][1] = value;
  par[2][2] = value;
  par[2][3] = value;
  par[3][0] = value;
  par[3][1] = value;
  par[3][2] = value;
  par[3][3] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_empty_mat4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/atan_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 4.0 * 2.0 * (gtf_Color.rg - 0.5);
	color = vec4(atan(c) / M_PI + 0.5, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = ((4.0 * 2.0) * (gtf_Color.rg - 0.5));
  color = vec4(((atan(c) / M_PI) + 0.5), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/atan_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_zwxy_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.zwxy;
	vec4 a = vec4(m.z, m.w, m.x, m.y);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.zwxy;
  vec4 a = vec4(m.z, m.w, m.x, m.y);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_zwxy_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/CorrectParse2_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=FloatLiteral(value=8.0))
e.right: BinaryExpr(op='=', left=Identifier(name='floatConst2'), right=FloatLiteral(value=4.0))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='floatConst2')
e.right: FloatLiteral(value=4.0)
e.left: BinaryExpr(op='&&', left=BoolLiteral(value=True), right=BoolLiteral(value=True))
e.right: BoolLiteral(value=False)
e.left: BoolLiteral(value=True)
e.right: BoolLiteral(value=True)
e.left: BoolLiteral(value=False)
e.right: BinaryExpr(op='&&', left=UnaryExpr(op='!', operand=BoolLiteral(value=False), postfix=False), right=BoolLiteral(value=False))
e.left: UnaryExpr(op='!', operand=BoolLiteral(value=False), postfix=False)
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=4.0)
e.right: BinaryExpr(op='=', left=Identifier(name='float2'), right=Identifier(name='floatConst2'))
e.left: Identifier(name='float2')
e.right: Identifier(name='floatConst2')
e.left: Identifier(name='bool4')
e.right: Identifier(name='bool5')
e.left: Identifier(name='bool4')
e.right: BinaryExpr(op='>', left=FloatLiteral(value=4.0), right=FloatLiteral(value=5.0))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='bool4')
e.right: UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=FloatLiteral(value=3.2), right=FloatLiteral(value=0.0)), postfix=False)
e.left: FloatLiteral(value=3.2)
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='bool4')
e.right: CallExpr(callee=Identifier(name='bool'), args=[Identifier(name='float1')])
e.left: Identifier(name='bool4')
e.right: CallExpr(callee=Identifier(name='bool'), args=[Identifier(name='int_1')])
e.left: Identifier(name='float1')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='bool4')])
e.left: Identifier(name='float1')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='int_1')])
e.left: Identifier(name='int_1')
e.right: CallExpr(callee=Identifier(name='int'), args=[Identifier(name='float1')])
e.left: Identifier(name='int_1')
e.right: CallExpr(callee=Identifier(name='int'), args=[Identifier(name='bool4')])
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='b')
e.right: Identifier(name='c')
e.left: Identifier(name='b')
e.right: Identifier(name='c')
e.left: Identifier(name='c')
e.right: Identifier(name='d')
e.left: Identifier(name='a')
e.right: Identifier(name='d')
e.left: Identifier(name='d')
e.right: Identifier(name='e')
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='b')
e.right: Identifier(name='c')
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='b')
e.right: Identifier(name='c')
e.left: Identifier(name='BoolConst1')
e.right: Identifier(name='BoolConst2')
e.left: Identifier(name='BoolConst2')
e.right: Identifier(name='BoolConst1')
e.left: Identifier(name='FloatConst1')
e.right: FloatLiteral(value=0.0)
e.left: IntLiteral(value=0)
e.right: IntLiteral(value=0)
e.left: Identifier(name='bool4')
e.right: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='int_1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False)), right=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0))), right=BinaryExpr(op='!=', left=Identifier(name='float1'), right=FloatLiteral(value=0.0)))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='int_1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False)), right=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)))
e.right: BinaryExpr(op='!=', left=Identifier(name='float1'), right=FloatLiteral(value=0.0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='int_1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False))
e.right: BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='int_1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False))
e.right: UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='int_1'), right=IntLiteral(value=0)), postfix=False))
e.right: UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)
e.left: Identifier(name='BoolConst1')
e.right: UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='int_1'), right=IntLiteral(value=0)), postfix=False)
e.left: Identifier(name='int_1')
e.right: IntLiteral(value=0)
e.left: Identifier(name='FloatConst1')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='FloatConst1')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='float1')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='float1')
e.right: BinaryExpr(op='!=', left=IntLiteral(value=5), right=IntLiteral(value=0))
e.left: IntLiteral(value=5)
e.right: IntLiteral(value=0)
e.left: Identifier(name='float1')
e.right: BinaryExpr(op='!=', left=IntLiteral(value=0), right=IntLiteral(value=0))
e.left: IntLiteral(value=0)
e.right: IntLiteral(value=0)
e.left: Identifier(name='float1')
e.right: Identifier(name='float1')
e.left: Identifier(name='float1')
e.right: BinaryExpr(op='!=', left=Identifier(name='float1'), right=Identifier(name='float1'))
e.left: Identifier(name='float1')
e.right: Identifier(name='float1')
e.left: Identifier(name='int_1')
e.right: IntLiteral(value=4)
e.left: Identifier(name='float1')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=4.0), right=FloatLiteral(value=6.0))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=6.0)
e.left: BinaryExpr(op=',', left=BinaryExpr(op='=', left=Identifier(name='ii'), right=Identifier(name='jj')), right=Identifier(name='kk'))
e.right: Identifier(name='ff')
e.left: BinaryExpr(op='=', left=Identifier(name='ii'), right=Identifier(name='jj'))
e.right: Identifier(name='kk')
e.left: Identifier(name='ii')
e.right: Identifier(name='jj')
e.left: Identifier(name='vec4_1')
e.right: BinaryExpr(op='+', left=Identifier(name='vec4_1'), right=FloatLiteral(value=2.0))
e.left: Identifier(name='vec4_1')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='iv')
e.right: BinaryExpr(op='+', left=Identifier(name='iv'), right=IntLiteral(value=2))
e.left: Identifier(name='iv')
e.right: IntLiteral(value=2)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=Identifier(name='float1'), right=Identifier(name='float1')), right=Identifier(name='float1')), right=Identifier(name='float1')), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='int_1')]))])
e.left: Identifier(name='float1')
e.right: Identifier(name='float1')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
const float FloatConst1 = 3.0 * 8.0, floatConst2 = 4.0;
const bool BoolConst1 = true && true || false;
const bool BoolConst2 = false || !false && false;
void main ()
{
    float float1 = 4.0, float2 = floatConst2;
    int int_1 = int(FloatConst1);
    vec4 vec4_1;
    vec3 vec3_1;
    bool bool4, bool5;
    bool4 = bool5;
    bool4 = 4.0 > 5.0;
    bool4 = !(3.2 != 0.0);
    bool4 = bool(float1);
    bool4 = bool(int_1);
    float1 = float(bool4);
    float1 = float(int_1);
    int_1 = int(float1);
    int_1 = int(bool4);
    {
        int a, b, c;
        a = b;
        b = c;
        {
            int b, c, d;
            b = c;
            c = d;
            {
                int a, d, e;
                a = d;
                d = e;
            }
            {
                int a, b, c;
                a = b;
                b = c;
            }
        }
        a = b;
        b = c;
    }
    {
        float f1, f2;
        vec3 v31, v32;
        max(f1, f2);
        max(v31, v32);
        vec4 v4 = vec4(3.0);
        vec3 v3 = -vec3(2.0, 1.0, 3.0);
        mat2 m2 = mat2(3.0, 4.0, 6.0, 3.0);
    }
    if (BoolConst1)
        ++vec3_1;
    else
        --vec3_1;
    if (BoolConst2)
        ++vec3_1;
    else
        --vec3_1;
    if (BoolConst1 || BoolConst2)
        ++vec3_1;
    else
        --vec3_1;
    if (BoolConst2 && BoolConst1)
        ++vec3_1;
    else
        --vec3_1;
    if (FloatConst1 != 0.0)
        --int_1;
    else
        ++int_1;
    if (0 != 0)
        ++int_1;
    else
        --int_1;
    bool4 = BoolConst1 && ! (int_1 != 0) && ! BoolConst1  && ! (FloatConst1 != 0.0) && (FloatConst1 != 0.0) && (float1 != 0.0);
    float1 = 5 != 0 ? float1 : float(int_1);
    float1 = 0 != 0 ? float1 : float(int_1);
    if (float1 != float1)
        ++int_1;
    else
        --int_1;
    float1 = float1 != float1 ? float1 : float(int_1);
    --int_1;
    ++float1;
    (vec4_1.x)--;
    vec3_1++;
	if (int_1 != 4)
		discard;
    float1 = 4.0 + 6.0;
    int ii,jj,kk;
    float ff;
    ii = jj, kk, ff;
    vec4_1 = vec4_1 + 2.0;
    ivec4 iv;
    iv = iv + 2;
    gl_FragColor = vec4(float1+float1, float1, float1, float(int_1));
}





New source code: precision mediump float;
precision mediump int;

const float FloatConst1 = (3.0 * 8.0) , floatConst2 = 4.0;

const bool BoolConst1 = ((true && true) || false);

const bool BoolConst2 = (false || (!false && false));

void main()
{
  float float1 = 4.0 , float2 = floatConst2;
  int int_1 = int(FloatConst1);
  vec4 vec4_1;
  vec3 vec3_1;
  bool bool4, bool5;
  bool4 = bool5;
  bool4 = (4.0 > 5.0);
  bool4 = !(3.2 != 0.0);
  bool4 = bool(float1);
  bool4 = bool(int_1);
  float1 = float(bool4);
  float1 = float(int_1);
  int_1 = int(float1);
  int_1 = int(bool4);
  {
    int a, b, c;
    a = b;
    b = c;
    {
      int b, c, d;
      b = c;
      c = d;
      {
        int a, d, e;
        a = d;
        d = e;
      }
      {
        int a, b, c;
        a = b;
        b = c;
      }
    }
    a = b;
    b = c;
  }
  {
    float f1, f2;
    vec3 v31, v32;
    max(f1, f2);
    max(v31, v32);
    vec4 v4 = vec4(3.0);
    vec3 v3 = -vec3(2.0, 1.0, 3.0);
    mat2 m2 = mat2(3.0, 4.0, 6.0, 3.0);
  }
  if (BoolConst1)
    ++vec3_1;
  else
    --vec3_1;
  if (BoolConst2)
    ++vec3_1;
  else
    --vec3_1;
  if ((BoolConst1 || BoolConst2))
    ++vec3_1;
  else
    --vec3_1;
  if ((BoolConst2 && BoolConst1))
    ++vec3_1;
  else
    --vec3_1;
  if ((FloatConst1 != 0.0))
    --int_1;
  else
    ++int_1;
  if ((0 != 0))
    ++int_1;
  else
    --int_1;
  bool4 = (((((BoolConst1 && !(int_1 != 0)) && !BoolConst1) && !(FloatConst1 != 0.0)) && (FloatConst1 != 0.0)) && (float1 != 0.0));
  (float1 = (5 != 0) ? float1 : float(int_1));
  (float1 = (0 != 0) ? float1 : float(int_1));
  if ((float1 != float1))
    ++int_1;
  else
    --int_1;
  (float1 = (float1 != float1) ? float1 : float(int_1));
  --int_1;
  ++float1;
  vec4_1.x--;
  vec3_1++;
  if ((int_1 != 4))
    discard;
  float1 = (4.0 + 6.0);
  int ii, jj, kk;
  float ff;
  ii = jj , kk , ff;
  vec4_1 = (vec4_1 + 2.0);
  ivec4 iv;
  iv = (iv + 2);
  gl_FragColor = vec4((float1 + float1), float1, float1, float(int_1));
}


Filename: /home/oof/webgl_cleaned/CorrectParse2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/normalize_vec3_frag_xvary.frag
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.25)])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='normalize'), args=[MemberExpr(base=Identifier(name='tmp_Color'), member='rgb')]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 tmp_Color = color + vec4(0.25);
	gl_FragColor = vec4(normalize(tmp_Color.rgb), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 tmp_Color = (color + vec4(0.25));
  gl_FragColor = vec4(normalize(tmp_Color.rgb), 1.0);
}


Filename: /home/oof/webgl_cleaned/normalize_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/dot_float_vert_xvaryyone_ref.vert
filename /home/oof/webgl_cleaned/dot_float_vert_xvaryyone_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='r')]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(gtf_Color.r), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3(gtf_Color.r), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/dot_float_vert_xvaryyone_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/non-ascii-comments.vert
filename /home/oof/webgl_cleaned/non-ascii-comments.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:5: 'gl_Position' : undeclared identifier
ERROR: 0:5: 'assign' : l-value required (can't modify a const)
ERROR: 0:5: '=' : dimension mismatch
ERROR: 0:5: 'assign' : cannot convert from 'const 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='gl_Position')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IntLiteral(value=1), right=IntLiteral(value=1)), right=IntLiteral(value=1)), right=IntLiteral(value=1))])
Original source code: precision mediump float;
precision mediump int;

void main() {
  gl_Position = vec4(1,1,1,1);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  gl_Position = vec4(1, 1, 1, 1);
}


Filename: /home/oof/webgl_cleaned/non-ascii-comments.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/floor_float_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0)), right=FloatLiteral(value=20.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0))
e.right: FloatLiteral(value=20.0)
e.left: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=10.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 10.0 * 2.0 * (color.r - 0.5);
	gl_FragColor = vec4((floor(c) + 10.0) / 20.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = ((10.0 * 2.0) * (color.r - 0.5));
  gl_FragColor = vec4(((floor(c) + 10.0) / 20.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/floor_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/not_bvec2_frag.frag
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[CallExpr(callee=Identifier(name='not'), args=[CallExpr(callee=Identifier(name='bvec2'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(1.5 * color.rg);
	gl_FragColor = vec4(vec2(not(bvec2(c))), 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor((1.5 * color.rg));
  gl_FragColor = vec4(vec2(not(bvec2(c))), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/not_bvec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_yxw_z_1vec3_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.yxw;
	float z = al.z;
	vec4 a = vec4(m.y, m.x, z, m.z);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.yxw;
  float z = al.z;
  vec4 a = vec4(m.y, m.x, z, m.z);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_yxw_z_1vec3_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/4i_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform ivec4 color;
void main ()
{
	gl_FragColor = vec4 (color[0], color[1], color[2], color[3]);
}





New source code: precision mediump float;
precision mediump int;

uniform ivec4 color;

void main()
{
  gl_FragColor = vec4(color[0], color[1], color[2], color[3]);
}


Filename: /home/oof/webgl_cleaned/4i_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/tan_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/tan_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='o')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[Identifier(name='c')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[Identifier(name='c')])
e.left: Identifier(name='o')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[Identifier(name='c')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[Identifier(name='c')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='o'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 0.5 * M_PI * 2.0 * (gtf_Color.r - 0.5);
	float o;
	if(abs(c) < 0.5)
		o = 0.5 * tan(c) + 0.5;
	else
		o = 0.5 / tan(c) + 0.5;
	color = vec4(o, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = (((0.5 * M_PI) * 2.0) * (gtf_Color.r - 0.5));
  float o;
  if ((abs(c) < 0.5))
    o = ((0.5 * tan(c)) + 0.5);
  else
    o = ((0.5 / tan(c)) + 0.5);
  color = vec4(o, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/tan_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_rg_ba_2vec2_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec2 m = al.rg;
	vec2 n = al.ba;
	vec4 a = vec4(m,n);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec2 m = al.rg;
  vec2 n = al.ba;
  vec4 a = vec4(m, n);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_rg_ba_2vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/dot_float_frag_xvaryyone_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[MemberExpr(base=Identifier(name='color'), member='r')]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(color.r), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4(vec3(color.r), 1.0);
}


Filename: /home/oof/webgl_cleaned/dot_float_frag_xvaryyone_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_ar_bg_2vec2_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec2 m = al.ar;
	vec2 n = al.bg;
	vec4 a = vec4(m.g, n.g, n.r, m.r);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec2 m = al.ar;
  vec2 n = al.bg;
  vec4 a = vec4(m.g, n.g, n.r, m.r);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_ar_bg_2vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec2_2float_vert.vert
filename /home/oof/webgl_cleaned/vec2_2float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=53.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 a = vec2(13.0,53.0);
	float gray;
	if( (a[0] == 13.0) && (a[1] == 53.0) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 a = vec2(13.0, 53.0);
  float gray;
  if (((a[0] == 13.0) && (a[1] == 53.0)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec2_2float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_bigarray_vert.vert
filename /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_bigarray_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='bvec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BoolLiteral(value=False), right=BoolLiteral(value=False)), right=BoolLiteral(value=False)), right=BoolLiteral(value=False))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=BoolLiteral(value=True))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=4))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=5))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=6))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=7))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=8))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=9))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=4))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=5))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=6))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=7))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=8))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=9))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec4 function(inout bvec4 par[10]);
bool is_all(const in bvec4 par, const in bool value);
bool is_all(const in bvec4 array[10], const in bvec4 value);
void set_all(out bvec4 array[10], const in bvec4 value);
void main ()
{
	bvec4 par[10];
	bvec4 ret = bvec4(false, false, false, false);
	float gray = 0.0;
	set_all(par, bvec4(true, true, true, true));
	ret = function(par);
	if(is_all(par, bvec4(false, false, false, false)) && is_all(ret, true))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
bvec4 function(inout bvec4 par[10])
{
	if(is_all(par, bvec4(true, true, true, true)))
	{
		set_all(par, bvec4(false, false, false, false));
		return bvec4(true, true, true, true);
	}
	else
		return bvec4(false, false, false, false);
}
bool is_all(const in bvec4 par, const in bool value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in bvec4 array[10], const in bvec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	if(array[3] != value)
		ret = false;
	if(array[4] != value)
		ret = false;
	if(array[5] != value)
		ret = false;
	if(array[6] != value)
		ret = false;
	if(array[7] != value)
		ret = false;
	if(array[8] != value)
		ret = false;
	if(array[9] != value)
		ret = false;
	return ret;
}
void set_all(out bvec4 array[10], const in bvec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
	array[3] = value;
	array[4] = value;
	array[5] = value;
	array[6] = value;
	array[7] = value;
	array[8] = value;
	array[9] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec4 function(inout bvec4 par[10]);
bool is_all(const in bvec4 par, const in bool value);
bool is_all(const in bvec4 array[10], const in bvec4 value);
void set_all(out bvec4 array[10], const in bvec4 value);
void main()
{
  bvec4 par[10];
  bvec4 ret = bvec4(false, false, false, false);
  float gray = 0.0;
  set_all(par, bvec4(true, true, true, true));
  ret = function(par);
  if ((is_all(par, bvec4(false, false, false, false)) && is_all(ret, true)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

bvec4 function(inout bvec4 par[10])
{
  if (is_all(par, bvec4(true, true, true, true)))
  {
    set_all(par, bvec4(false, false, false, false));
    return bvec4(true, true, true, true);
  }
  else
    return bvec4(false, false, false, false);
}

bool is_all(const in bvec4 par, const in bool value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in bvec4 array[10], const in bvec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  if ((array[3] != value))
    ret = false;
  if ((array[4] != value))
    ret = false;
  if ((array[5] != value))
    ret = false;
  if ((array[6] != value))
    ret = false;
  if ((array[7] != value))
    ret = false;
  if ((array[8] != value))
    ret = false;
  if ((array[9] != value))
    ret = false;
  return ret;
}

void set_all(out bvec4 array[10], const in bvec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
  array[3] = value;
  array[4] = value;
  array[5] = value;
  array[6] = value;
  array[7] = value;
  array[8] = value;
  array[9] = value;
}


Filename: /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_bigarray_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/faceforward_float_frag_nvaryiconst_ref.frag
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=2.0))
e.right: FloatLiteral(value=1.0)
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=2.0))
e.right: FloatLiteral(value=1.0)
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='v1')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='v1'), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=Identifier(name='v1'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='v1')
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float v1 = (color.g * 2.0) - 1.0;
	float v2 = (color.b * 2.0) - 1.0;
	if(dot(v1, v2) >= 0.0) v1 *= -1.0;
	gl_FragColor = vec4((v1 + 1.0) / 2.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float v1 = ((color.g * 2.0) - 1.0);
  float v2 = ((color.b * 2.0) - 1.0);
  if ((dot(v1, v2) >= 0.0))
    (v1 *= -1.0);
  gl_FragColor = vec4(((v1 + 1.0) / 2.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/faceforward_float_frag_nvaryiconst_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat4_empty_out_mat4_empty_vert.vert
filename /home/oof/webgl_cleaned/mat4_empty_out_mat4_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:26: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:27: 'gl_Position' : undeclared identifier
ERROR: 0:27: 'assign' : l-value required (can't modify a const)
ERROR: 0:27: '=' : dimension mismatch
ERROR: 0:27: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=0.0))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
mat4 function(out mat4 par);
bool is_all(const in mat4 par, const in float value);
void set_all(out mat4 par, const in float value);
void main ()
{
	mat4 par = mat4(1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0);
	mat4 ret = mat4(0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 0.0) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
mat4 function(out mat4 par)
{
	set_all(par, 0.0);
	return mat4(1.0, 1.0, 1.0, 1.0,
		    1.0, 1.0, 1.0, 1.0,
		    1.0, 1.0, 1.0, 1.0,
		    1.0, 1.0, 1.0, 1.0);
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 par, const in float value)
{
	par[0][0] = value;
	par[0][1] = value;
	par[0][2] = value;
	par[0][3] = value;
	par[1][0] = value;
	par[1][1] = value;
	par[1][2] = value;
	par[1][3] = value;
	par[2][0] = value;
	par[2][1] = value;
	par[2][2] = value;
	par[2][3] = value;
	par[3][0] = value;
	par[3][1] = value;
	par[3][2] = value;
	par[3][3] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

mat4 function(out mat4 par);
bool is_all(const in mat4 par, const in float value);
void set_all(out mat4 par, const in float value);
void main()
{
  mat4 par = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);
  mat4 ret = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 0.0) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

mat4 function(out mat4 par)
{
  set_all(par, 0.0);
  return mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 par, const in float value)
{
  par[0][0] = value;
  par[0][1] = value;
  par[0][2] = value;
  par[0][3] = value;
  par[1][0] = value;
  par[1][1] = value;
  par[1][2] = value;
  par[1][3] = value;
  par[2][0] = value;
  par[2][1] = value;
  par[2][2] = value;
  par[2][3] = value;
  par[3][0] = value;
  par[3][1] = value;
  par[3][2] = value;
  par[3][3] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_out_mat4_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_frag_xvary_yconsthalf.frag
e.left: FloatLiteral(value=16.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]))])
e.right: FloatLiteral(value=4.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = 16.0 * color.rg;
	gl_FragColor = vec4(pow(c, vec2(0.5)) / 4.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = (16.0 * color.rg);
  gl_FragColor = vec4((pow(c, vec2(0.5)) / 4.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_frag_xvary_yconsthalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/asin_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/asin_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:45: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:46: 'gl_Position' : undeclared identifier
ERROR: 0:46: 'assign' : l-value required (can't modify a const)
ERROR: 0:46: '=' : dimension mismatch
ERROR: 0:46: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='c'), member='r')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='r')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: MemberExpr(base=Identifier(name='c'), member='r')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='i')
e.right: IntLiteral(value=1000)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='r')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='r'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='r'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='r'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='r'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: MemberExpr(base=Identifier(name='scale'), member='r')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='r'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: MemberExpr(base=Identifier(name='scale'), member='r')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))]))
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='c'), member='g')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='g')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: MemberExpr(base=Identifier(name='c'), member='g')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='i')
e.right: IntLiteral(value=1000)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='g')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='g'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='g'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='g'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='g'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: MemberExpr(base=Identifier(name='scale'), member='g')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='g'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: MemberExpr(base=Identifier(name='scale'), member='g')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))]))
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='c'), member='b')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='b')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: MemberExpr(base=Identifier(name='c'), member='b')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='i')
e.right: IntLiteral(value=1000)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='b')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='b'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='b'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='b'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='b'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: MemberExpr(base=Identifier(name='scale'), member='b')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='b'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: MemberExpr(base=Identifier(name='scale'), member='b')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))]))
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='asin_c')), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='asin_c')), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='asin_c'))
e.right: Identifier(name='M_PI')
e.left: Identifier(name='sign')
e.right: Identifier(name='asin_c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 2.0 * (gtf_Color.rgb - 0.5);
	vec3 asin_c = vec3(0.0);
	vec3 scale = vec3(1.0);
	vec3 sign = vec3(1.0);
	if(c.r < 0.0)
	{
		sign.r = -1.0;
		c.r *= -1.0;
	}
	for(int i = 1; i < 1000; i += 2)
	{
		asin_c.r += scale.r * pow(c.r, float(i)) / float(i);
		scale.r *= float(i) / float(i + 1);
	}
	if(c.g < 0.0)
	{
		sign.g = -1.0;
		c.g *= -1.0;
	}
	for(int i = 1; i < 1000; i += 2)
	{
		asin_c.g += scale.g * pow(c.g, float(i)) / float(i);
		scale.g *= float(i) / float(i + 1);
	}
	if(c.b < 0.0)
	{
		sign.b = -1.0;
		c.b *= -1.0;
	}
	for(int i = 1; i < 1000; i += 2)
	{
		asin_c.b += scale.b * pow(c.b, float(i)) / float(i);
		scale.b *= float(i) / float(i + 1);
	}
	color = vec4(sign * asin_c / M_PI + 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = (2.0 * (gtf_Color.rgb - 0.5));
  vec3 asin_c = vec3(0.0);
  vec3 scale = vec3(1.0);
  vec3 sign = vec3(1.0);
  if ((c.r < 0.0))
  {
    sign.r = -1.0;
    (c.r *= -1.0);
  }
  for (int i = 1; (i < 1000); (i += 2))
  {
    (asin_c.r += ((scale.r * pow(c.r, float(i))) / float(i)));
    (scale.r *= (float(i) / float((i + 1))));
  }
  if ((c.g < 0.0))
  {
    sign.g = -1.0;
    (c.g *= -1.0);
  }
  for (int i = 1; (i < 1000); (i += 2))
  {
    (asin_c.g += ((scale.g * pow(c.g, float(i))) / float(i)));
    (scale.g *= (float(i) / float((i + 1))));
  }
  if ((c.b < 0.0))
  {
    sign.b = -1.0;
    (c.b *= -1.0);
  }
  for (int i = 1; (i < 1000); (i += 2))
  {
    (asin_c.b += ((scale.b * pow(c.b, float(i))) / float(i)));
    (scale.b *= (float(i) / float((i + 1))));
  }
  color = vec4((((sign * asin_c) / M_PI) + 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/asin_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_vert_xconsthalf_yvary.vert
filename /home/oof/webgl_cleaned/pow_vec2_vert_xconsthalf_yvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 2.0 * (gtf_Color.rg - 0.5);
	color = vec4(pow(vec2(0.5), 2.0 * c) / 4.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = (2.0 * (gtf_Color.rg - 0.5));
  color = vec4((pow(vec2(0.5), (2.0 * c)) / 4.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_vert_xconsthalf_yvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/1b_vert.vert
filename /home/oof/webgl_cleaned/1b_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "col")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='col')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='color')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
attribute vec4 gtf_Color;
uniform bool color;
varying float col;
void main ()
{
	col = float(color);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

vec4 gtf_Color;

uniform bool color;

varying float col;

void main()
{
  col = float(color);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/1b_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/notEqual_ivec3_vert_ref.vert
filename /home/oof/webgl_cleaned/notEqual_ivec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec3 ne(in ivec3 a, in ivec3 b)
{
	bvec3 result;
	if(a[0] != b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] != b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] != b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(ne(ivec3(c), ivec3(0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec3 ne(in ivec3 a, in ivec3 b)
{
  bvec3 result;
  if ((a[0] != b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] != b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] != b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(ne(ivec3(c), ivec3(0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/notEqual_ivec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/24i_frag.frag
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='r'), right=FloatLiteral(value=256.0)), right=BinaryExpr(op='/', left=Identifier(name='g'), right=FloatLiteral(value=256.0))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='r')
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='g')
e.right: FloatLiteral(value=256.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform ivec4 color[2];
void main ()
{
	float r = float(color[0][0] + color[0][1] + color[0][2] + color[0][3]);
	float g = float(color[1][0] + color[1][1] + color[1][2] + color[1][3]);
	gl_FragColor = vec4 (r/256.0, g/256.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform ivec4 color[2];

void main()
{
  float r = float((((color[0][0] + color[0][1]) + color[0][2]) + color[0][3]));
  float g = float((((color[1][0] + color[1][1]) + color[1][2]) + color[1][3]));
  gl_FragColor = vec4((r / 256.0), (g / 256.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/24i_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/_webgl_field.vert
Original source code: precision mediump float;
precision mediump int;

struct Foo {
  int _webgl_bar;
};
void main() {
  Foo foo = Foo(1);
}





New source code: precision mediump float;
precision mediump int;

struct Foo {
  int _webgl_bar;
};

void main()
{
  Foo foo = Foo(1);
}


Filename: /home/oof/webgl_cleaned/_webgl_field.vert passed with orig: True and new: True
Running /home/oof/webgl_cleaned/greaterThanEqual_vec2_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
bvec2 gte(in vec2 a, in vec2 b)
{
	bvec2 result;
	if(a[0] >= b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] >= b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(10.0 * color.rg - 4.5);
	vec2 result = vec2(gte(c, vec2(0.0)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec2 gte(in vec2 a, in vec2 b)
{
  bvec2 result;
  if ((a[0] >= b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] >= b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor(((10.0 * color.rg) - 4.5));
  vec2 result = vec2(gte(c, vec2(0.0)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/greaterThanEqual_vec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/notEqual_vec2_vert.vert
filename /home/oof/webgl_cleaned/notEqual_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(notEqual(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(notEqual(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/notEqual_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat4_empty_empty_mat4_array_vert.vert
filename /home/oof/webgl_cleaned/mat4_empty_empty_mat4_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:30: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:31: 'gl_Position' : undeclared identifier
ERROR: 0:31: 'assign' : l-value required (can't modify a const)
ERROR: 0:31: '=' : dimension mismatch
ERROR: 0:31: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=Identifier(name='mat_ones'))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0);
const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
mat4 function(mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main ()
{
	mat4 par[2];
	mat4 ret = mat_zeros;
	float gray = 0.0;
	set_all(par, mat_ones);
	ret = function(par);
	if(is_all(par, mat_ones) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
mat4 function(mat4 par[2])
{
	if(is_all(par, mat_ones))
	{
		set_all(par, mat_zeros);
		return mat_ones;
	}
	else
		return mat_zeros;
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
bool is_all(const in mat4 array[2], const in mat4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 array[2], const in mat4 value)
{
	array[0] = value;
	array[1] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);

const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);

mat4 function(mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main()
{
  mat4 par[2];
  mat4 ret = mat_zeros;
  float gray = 0.0;
  set_all(par, mat_ones);
  ret = function(par);
  if ((is_all(par, mat_ones) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

mat4 function(mat4 par[2])
{
  if (is_all(par, mat_ones))
  {
    set_all(par, mat_zeros);
    return mat_ones;
  }
  else
    return mat_zeros;
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

bool is_all(const in mat4 array[2], const in mat4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 array[2], const in mat4 value)
{
  array[0] = value;
  array[1] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_empty_mat4_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/struct_mat2_vert.vert
filename /home/oof/webgl_cleaned/struct_mat2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=FloatLiteral(value=80.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: FloatLiteral(value=80.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
 mat2 a;
};
void main ()
{
	sabcd s = sabcd(mat2(12.0, 29.0, 13.0, 26.0) );
	color = vec4( vec3(  (s.a[0][0] + s.a[0][1] + s.a[1][0] + s.a[1][1]) / 80.0  ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  mat2 a;
};

void main()
{
  sabcd s = sabcd(mat2(12.0, 29.0, 13.0, 26.0));
  color = vec4(vec3(((((s.a[0][0] + s.a[0][1]) + s.a[1][0]) + s.a[1][1]) / 80.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/struct_mat2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_arbg_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.arbg;
	vec4 a = vec4(m.g, m.a, m.b, m.r);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.arbg;
  vec4 a = vec4(m.g, m.a, m.b, m.r);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_arbg_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/any_bvec2_frag_ref.frag
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_any'), args=[CallExpr(callee=Identifier(name='bvec2'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bool _any(in bvec2 a)
{
	bool temp = false;
	if(a[0]) temp = true;
	if(a[1]) temp = true;
	return temp;
}
void main ()
{
	vec2 c = floor(1.5 * color.rg);
	gl_FragColor = vec4(vec3(_any(bvec2(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bool _any(in bvec2 a)
{
  bool temp = false;
  if (a[0])
    temp = true;
  if (a[1])
    temp = true;
  return temp;
}

void main()
{
  vec2 c = floor((1.5 * color.rg));
  gl_FragColor = vec4(vec3(_any(bvec2(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/any_bvec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_sp_t_1vec2_1float_vert.vert
filename /home/oof/webgl_cleaned/vec3_sp_t_1vec2_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.stp;
	vec2 t = m.sp;
	float k = m.t;
	vec4 a = vec4(t.s, k, t.t, lightloc.q);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.stp;
  vec2 t = m.sp;
  float k = m.t;
  vec4 a = vec4(t.s, k, t.t, lightloc.q);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_sp_t_1vec2_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_arbg_1vec4_vert.vert
filename /home/oof/webgl_cleaned/vec4_arbg_1vec4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec4 m = lightloc.arbg;
	vec4 a = vec4(m.g, m.a, m.b, m.r);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec4 m = lightloc.arbg;
  vec4 a = vec4(m.g, m.a, m.b, m.r);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_arbg_1vec4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/array_const_mat4_vert.vert
filename /home/oof/webgl_cleaned/array_const_mat4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:26: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:27: 'gl_Position' : undeclared identifier
ERROR: 0:27: 'assign' : l-value required (can't modify a const)
ERROR: 0:27: '=' : dimension mismatch
ERROR: 0:27: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='b')
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0)), right=Identifier(name='a'))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1)), right=Identifier(name='b'))
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='b')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
const int array_size = 2;
void main ()
{
	const mat4 a = mat4( 1.0,  2.0,  3.0,  4.0,
		             5.0,  6.0,  7.0,  8.0,
			     9.0, 10.0, 11.0, 12.0,
			    13.0, 14.0, 15.0, 16.0);
	const mat4 b = mat4(17.0, 18.0, 19.0, 20.0,
		            21.0, 22.0, 23.0, 24.0,
			    25.0, 26.0, 27.0, 28.0,
			    29.0, 30.0, 31.0, 32.0);
	mat4 array[array_size];
	float gray;
	array[0] = a;
	array[1] = b;
	if((array[0] == a) && (array[1] == b))
		gray = 1.0;
	else
		gray = 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

const int array_size = 2;

void main()
{
  const mat4 a = mat4(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0);
  const mat4 b = mat4(17.0, 18.0, 19.0, 20.0, 21.0, 22.0, 23.0, 24.0, 25.0, 26.0, 27.0, 28.0, 29.0, 30.0, 31.0, 32.0);
  mat4 array[array_size];
  float gray;
  array[0] = a;
  array[1] = b;
  if (((array[0] == a) && (array[1] == b)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/array_const_mat4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/log_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')]), right=FloatLiteral(value=3.466)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=3.466)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 31.0 * gtf_Color.rg + 1.0;
	color = vec4(log(c) / 3.466, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = ((31.0 * gtf_Color.rg) + 1.0);
  color = vec4((log(c) / 3.466), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/4i_vert.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=3)))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 col;
void main ()
{
	gl_FragColor = vec4 (col[0], col[1], col[2], col[3]);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 col;

void main()
{
  gl_FragColor = vec4(col[0], col[1], col[2], col[3]);
}


Filename: /home/oof/webgl_cleaned/4i_vert.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structcopy_bool_frag.frag
e.left: Identifier(name='s2')
e.right: Identifier(name='s1')
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=BoolLiteral(value=True)), right=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='b'), right=BoolLiteral(value=False))), right=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='c'), right=BoolLiteral(value=True)))
e.right: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='d'), right=BoolLiteral(value=False))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=BoolLiteral(value=True)), right=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='b'), right=BoolLiteral(value=False)))
e.right: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='c'), right=BoolLiteral(value=True))
e.left: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=BoolLiteral(value=True))
e.right: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s2'), member='b'), right=BoolLiteral(value=False))
e.left: MemberExpr(base=Identifier(name='s2'), member='a')
e.right: BoolLiteral(value=True)
e.left: MemberExpr(base=Identifier(name='s2'), member='b')
e.right: BoolLiteral(value=False)
e.left: MemberExpr(base=Identifier(name='s2'), member='c')
e.right: BoolLiteral(value=True)
e.left: MemberExpr(base=Identifier(name='s2'), member='d')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	bool a;
	bool b;
	bool c;
	bool d;
};
void main ()
{
	sabcd s1 = sabcd(bool(12), bool(0), bool(25.5), bool(0.0));
	sabcd s2 = sabcd(bool(0.0), bool(0.0), bool(0.0), bool(0.0));
	s2 = s1;
	float gray = 0.0;
	if( (s2.a==true) && (s2.b==false) && (s2.c == true) && (s2.d==false))
	  gray=1.0;
	else
          gray =0.0;
	gl_FragColor = vec4(gray,gray,gray,1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  bool a;
  bool b;
  bool c;
  bool d;
};

void main()
{
  sabcd s1 = sabcd(bool(12), bool(0), bool(25.5), bool(0.0));
  sabcd s2 = sabcd(bool(0.0), bool(0.0), bool(0.0), bool(0.0));
  s2 = s1;
  float gray = 0.0;
  if (((((s2.a == true) && (s2.b == false)) && (s2.c == true)) && (s2.d == false)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/structcopy_bool_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/empty_empty_array_float_frag.frag
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=2)])
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=0)), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=1)), right=FloatLiteral(value=2.0))
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	int i=0;
	float new_mad[2];
	float gray = 0.0;
	new_mad[0]=float(1);
	new_mad[1]=float(2);
	if( (new_mad[0] == 1.0) && (new_mad[1] == 2.0) )
	  gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray,gray , gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  int i = 0;
  float new_mad[2];
  float gray = 0.0;
  new_mad[0] = float(1);
  new_mad[1] = float(2);
  if (((new_mad[0] == 1.0) && (new_mad[1] == 2.0)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/empty_empty_array_float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log_vec3_frag_xvary01.frag
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')]), right=UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')])
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = (color.rgb + 0.01) / 1.01;
	gl_FragColor = vec4(log(c) / -4.61, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((color.rgb + 0.01) / 1.01);
  gl_FragColor = vec4((log(c) / -4.61), 1.0);
}


Filename: /home/oof/webgl_cleaned/log_vec3_frag_xvary01.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/float_empty_empty_float_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=1.0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float function(float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main ()
{
	float par[3];
	float ret = 0.0;
	float gray = 0.0;
	set_all(par, 1.0);
	ret = function(par);
	if(is_all(par, 1.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
float function(float par[3])
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return 1.0;
	}
	else
		return 0.0;
}
bool is_all(const in float array[3], const in float value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out float array[3], const in float value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float function(float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main()
{
  float par[3];
  float ret = 0.0;
  float gray = 0.0;
  set_all(par, 1.0);
  ret = function(par);
  if ((is_all(par, 1.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

float function(float par[3])
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return 1.0;
  }
  else
    return 0.0;
}

bool is_all(const in float array[3], const in float value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out float array[3], const in float value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/float_empty_empty_float_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/min_vec3_frag_xvary_yconsthalf_ref.frag
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=2))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec3 min_c = vec3(0.5, 0.5, 0.5);
	vec3 c = color.rgb;
	if(c[0] > min_c[0]) c[0] = min_c[0];
	if(c[1] > min_c[1]) c[1] = min_c[1];
	if(c[2] > min_c[2]) c[2] = min_c[2];
	gl_FragColor = vec4(c, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec3 min_c = vec3(0.5, 0.5, 0.5);
  vec3 c = color.rgb;
  if ((c[0] > min_c[0]))
    c[0] = min_c[0];
  if ((c[1] > min_c[1]))
    c[1] = min_c[1];
  if ((c[2] > min_c[2]))
    c[2] = min_c[2];
  gl_FragColor = vec4(c, 1.0);
}


Filename: /home/oof/webgl_cleaned/min_vec3_frag_xvary_yconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/array_float_vert.vert
filename /home/oof/webgl_cleaned/array_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:61: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:62: 'gl_Position' : undeclared identifier
ERROR: 0:62: 'assign' : l-value required (can't modify a const)
ERROR: 0:62: '=' : dimension mismatch
ERROR: 0:62: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3))
e.right: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=3))
e.right: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=3))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=3.0)
e.left: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=3.0)
e.left: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=4.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=3.0)
e.left: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=4.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=3.0)
e.left: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=4.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q')
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q')
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='q')
e.right: FloatLiteral(value=4.0)
e.left: IndexExpr(base=Identifier(name='d'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='e'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='q'), right=FloatLiteral(value=7.0)), right=BinaryExpr(op='/', left=Identifier(name='q2'), right=FloatLiteral(value=3.0)))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='q')
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void qualifiers(in float a[4], out float b[4], inout float c[4], const in float d[4], float e[4])
{
	b[0] = a[0];
	c[0] += d[0];
	a[0] += 1.0;
	e[0] += 1.0;
	b[1] = a[1];
	c[1] += d[1];
	a[1] += 1.0;
	e[1] += 1.0;
	b[2] = a[2];
	c[2] += d[2];
	a[2] += 1.0;
	e[2] += 1.0;
	b[3] = a[3];
	c[3] += d[3];
	a[3] += 1.0;
	e[3] += 1.0;
}
void main ()
{
	float a[4];
	float b[4];
	float c[4];
	float d[4];
	float e[4];
	float q = 0.0;
	float q2 = 0.0;
	a[0] = 1.0;
	b[0] = 2.0;
	c[0] = 3.0;
	d[0] = 4.0;
	e[0] = 1.0;
	a[1] = 1.0;
	b[1] = 2.0;
	c[1] = 3.0;
	d[1] = 4.0;
	e[1] = 1.0;
	a[2] = 1.0;
	b[2] = 2.0;
	c[2] = 3.0;
	d[2] = 4.0;
	e[2] = 1.0;
	a[3] = 1.0;
	b[3] = 2.0;
	c[3] = 3.0;
	d[3] = 4.0;
	e[3] = 1.0;
	qualifiers(a, b, c, d, e);
	if(a[0] == 1.0) q += 1.0;
	if(b[1] == 1.0) q += 2.0;
	if(c[2] == 7.0) q += 4.0;
	if(d[3] == 4.0) q2 += 1.0;
	if(e[0] == 1.0) q2 += 2.0;
	color = vec4(vec2(q / 7.0, q2 / 3.0), 1.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void qualifiers(in float a[4], out float b[4], inout float c[4], const in float d[4], float e[4])
{
  b[0] = a[0];
  (c[0] += d[0]);
  (a[0] += 1.0);
  (e[0] += 1.0);
  b[1] = a[1];
  (c[1] += d[1]);
  (a[1] += 1.0);
  (e[1] += 1.0);
  b[2] = a[2];
  (c[2] += d[2]);
  (a[2] += 1.0);
  (e[2] += 1.0);
  b[3] = a[3];
  (c[3] += d[3]);
  (a[3] += 1.0);
  (e[3] += 1.0);
}

void main()
{
  float a[4];
  float b[4];
  float c[4];
  float d[4];
  float e[4];
  float q = 0.0;
  float q2 = 0.0;
  a[0] = 1.0;
  b[0] = 2.0;
  c[0] = 3.0;
  d[0] = 4.0;
  e[0] = 1.0;
  a[1] = 1.0;
  b[1] = 2.0;
  c[1] = 3.0;
  d[1] = 4.0;
  e[1] = 1.0;
  a[2] = 1.0;
  b[2] = 2.0;
  c[2] = 3.0;
  d[2] = 4.0;
  e[2] = 1.0;
  a[3] = 1.0;
  b[3] = 2.0;
  c[3] = 3.0;
  d[3] = 4.0;
  e[3] = 1.0;
  qualifiers(a, b, c, d, e);
  if ((a[0] == 1.0))
    (q += 1.0);
  if ((b[1] == 1.0))
    (q += 2.0);
  if ((c[2] == 7.0))
    (q += 4.0);
  if ((d[3] == 4.0))
    (q2 += 1.0);
  if ((e[0] == 1.0))
    (q2 += 2.0);
  color = vec4(vec2((q / 7.0), (q2 / 3.0)), 1.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/array_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lessThan_vec3_vert.vert
filename /home/oof/webgl_cleaned/lessThan_vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(lessThan(c, vec3(0.0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(lessThan(c, vec3(0.0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThan_vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/dFdx_frag_ref.vert
filename /home/oof/webgl_cleaned/dFdx_frag_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "vertXY")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='vertXY')
e.right: MemberExpr(base=Identifier(name='gtf_Vertex'), member='xy')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec2 vertXY;
void main ()
{
	vertXY = gtf_Vertex.xy;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec2 vertXY;

void main()
{
  vertXY = gtf_Vertex.xy;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/dFdx_frag_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/reflect_vec3_vert_ivarynconst.vert
filename /home/oof/webgl_cleaned/reflect_vec3_vert_ivarynconst.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:18: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='z')
e.right: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='phi')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='reflect'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='reflect'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='reflect'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 v1;
	vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
	float theta = gtf_Color.g * 2.0 * M_PI;
	float phi = gtf_Color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	v1.z = cos(phi);
	color = vec4((reflect(v1, v2) + 1.0) / 2.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 v1;
  vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
  float theta = ((gtf_Color.g * 2.0) * M_PI);
  float phi = ((gtf_Color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  v1.z = cos(phi);
  color = vec4(((reflect(v1, v2) + 1.0) / 2.0), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/reflect_vec3_vert_ivarynconst.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/dot_vec3_vert_xvaryythird.vert
filename /home/oof/webgl_cleaned/dot_vec3_vert_xvaryythird.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=0.3333)]))])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(dot(gtf_Color.rgb, vec3(0.3333))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3(dot(gtf_Color.rgb, vec3(0.3333))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/dot_vec3_vert_xvaryythird.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/1i_vert.vert
filename /home/oof/webgl_cleaned/1i_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "col")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='col')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='color')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
attribute vec4 gtf_Color;
uniform int color;
varying float col;
void main ()
{
	col = float(color);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

vec4 gtf_Color;

uniform int color;

varying float col;

void main()
{
  col = float(color);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/1i_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/not_bvec3_frag.frag
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='not'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(1.5 * color.rgb);
	gl_FragColor = vec4(vec3(not(bvec3(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor((1.5 * color.rgb));
  gl_FragColor = vec4(vec3(not(bvec3(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/not_bvec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/length_vec3_frag_xvary.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='color'), member='rgb')]), right=FloatLiteral(value=3.0))]), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='color'), member='rgb')])
e.right: FloatLiteral(value=3.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(length(color.rgb) / 3.0), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4(vec3((length(color.rgb) / 3.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/length_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sin_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/sin_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))])), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	color = vec4(0.5 * sin(2.0 * M_PI * gtf_Color.r) + 0.5, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  color = vec4(((0.5 * sin(((2.0 * M_PI) * gtf_Color.r))) + 0.5), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/sin_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_frag_xconsthalf_yvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = 2.0 * (color.rg - 0.5);
	gl_FragColor = vec4(pow(vec2(0.5), 2.0 * c) / 4.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = (2.0 * (color.rg - 0.5));
  gl_FragColor = vec4((pow(vec2(0.5), (2.0 * c)) / 4.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_frag_xconsthalf_yvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_xyz_w_1vec3_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.xyz;
	float w = al.w;
	vec4 a = vec4(m, w);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.xyz;
  float w = al.w;
  vec4 a = vec4(m, w);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_xyz_w_1vec3_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/int_empty_empty_int_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=IntLiteral(value=1))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='par')
e.right: IntLiteral(value=0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
int function(int par);
void main ()
{
	int par = 1;
	int ret = 0;
	float gray = 0.0;
	ret = function(par);
	if((par == 1) && (ret == 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
int function(int par)
{
	if(par == 1)
	{
		par = 0;
		return 1;
	}
	else
		return 0;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

int function(int par);
void main()
{
  int par = 1;
  int ret = 0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 1) && (ret == 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

int function(int par)
{
  if ((par == 1))
  {
    par = 0;
    return 1;
  }
  else
    return 0;
}


Filename: /home/oof/webgl_cleaned/int_empty_empty_int_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp2_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/exp2_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))]), right=FloatLiteral(value=32.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=32.0)
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = gtf_Color.rg;
	color = vec4(pow(vec2(2.0), 5.0 * c) / 32.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = gtf_Color.rg;
  color = vec4((pow(vec2(2.0), (5.0 * c)) / 32.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp2_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/CorrectParse1_frag.frag
e.left: Identifier(name='f')
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='x')
e.right: Identifier(name='x')
e.left: MemberExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=Identifier(name='x')), index=IntLiteral(value=2)), member='z')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='x')])
e.left: Identifier(name='f1')
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=Identifier(name='x')), index=IntLiteral(value=2)), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='x')]))
e.left: IndexExpr(base=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=Identifier(name='x')), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='x')])
e.left: Identifier(name='f1')
e.right: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1)))
e.left: IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform vec3 a[8];
uniform bool ub;
varying mat4 vm;
int foo(float);
float bar(int i)
{
    return float(i);
}
void main ()
{
    const int x = 3;
    mat4 a[4];
    vec4 v;
    for (float f = 0.0; f != 3.0; ++f)
    {
    }
    vec3 v3[x + x];
    int vi = foo(2.3);
    vec3 v3_1 = v3[x];
    float f1 = a[x][2].z * float(x);
    f1 = a[x][2][2] * float(x);
    f1 = v[2] * v[1];
    const int ci = 2;
}
int foo(float f)
{
    return 2;
}





New source code: precision mediump float;
precision mediump int;

uniform vec3 a[8];

uniform bool ub;

varying mat4 vm;

int foo(float None);
float bar(int i)
{
  return float(i);
}

void main()
{
  const int x = 3;
  mat4 a[4];
  vec4 v;
  for (float f = 0.0; (f != 3.0); ++f)
  {
  }
  vec3 v3[(x + x)];
  int vi = foo(2.3);
  vec3 v3_1 = v3[x];
  float f1 = (a[x][2].z * float(x));
  f1 = (a[x][2][2] * float(x));
  f1 = (v[2] * v[1]);
  const int ci = 2;
}

int foo(float f)
{
  return 2;
}


Filename: /home/oof/webgl_cleaned/CorrectParse1_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bvec4_empty_out_bvec4_empty_vert.vert
filename /home/oof/webgl_cleaned/bvec4_empty_out_bvec4_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:20: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:21: 'gl_Position' : undeclared identifier
ERROR: 0:21: 'assign' : l-value required (can't modify a const)
ERROR: 0:21: '=' : dimension mismatch
ERROR: 0:21: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=BoolLiteral(value=False))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=BoolLiteral(value=True))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec4 function(out bvec4 par);
bool is_all(const in bvec4 par, const in bool value);
void set_all(out bvec4 par, const in bool value);
void main ()
{
	bvec4 par = bvec4(true, true, true, true);
	bvec4 ret = bvec4(false, false, false, false);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, false) && is_all(ret, true))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
bvec4 function(out bvec4 par)
{
	set_all(par, false);
	return bvec4(true, true, true, true);
}
bool is_all(const in bvec4 par, const in bool value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out bvec4 par, const in bool value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec4 function(out bvec4 par);
bool is_all(const in bvec4 par, const in bool value);
void set_all(out bvec4 par, const in bool value);
void main()
{
  bvec4 par = bvec4(true, true, true, true);
  bvec4 ret = bvec4(false, false, false, false);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, false) && is_all(ret, true)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

bvec4 function(out bvec4 par)
{
  set_all(par, false);
  return bvec4(true, true, true, true);
}

bool is_all(const in bvec4 par, const in bool value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out bvec4 par, const in bool value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/bvec4_empty_out_bvec4_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lighting_diffuse_ref.vert
filename /home/oof/webgl_cleaned/lighting_diffuse_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lighting_diffuse_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/smoothstep_vec2_frag_xvary_edgeconstquarter_ref.frag
e.left: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=Identifier(name='edge0'))
e.right: BinaryExpr(op='-', left=Identifier(name='edge1'), right=Identifier(name='edge0'))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: Identifier(name='edge0')
e.left: Identifier(name='edge1')
e.right: Identifier(name='edge0')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c')), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c'))
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))
e.left: Identifier(name='c')
e.right: Identifier(name='c')
e.left: FloatLiteral(value=3.0)
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec2 edge0 = vec2(0.25, 0.25);
	const vec2 edge1 = vec2(0.75, 0.75);
	vec2 c = clamp((color.rg - edge0) / (edge1 - edge0), 0.0, 1.0);
	gl_FragColor = vec4(c * c * (3.0 - 2.0 * c), 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec2 edge0 = vec2(0.25, 0.25);
  const vec2 edge1 = vec2(0.75, 0.75);
  vec2 c = clamp(((color.rg - edge0) / (edge1 - edge0)), 0.0, 1.0);
  gl_FragColor = vec4(((c * c) * (3.0 - (2.0 * c))), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/smoothstep_vec2_frag_xvary_edgeconstquarter_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_float_vert_xconsthalf_yvary_ref.vert
filename /home/oof/webgl_cleaned/pow_float_vert_xconsthalf_yvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = -2.0 * (gtf_Color.r - 0.5);
	color = vec4(exp2(2.0 * c) / 4.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = (-2.0 * (gtf_Color.r - 0.5));
  color = vec4((exp2((2.0 * c)) / 4.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_float_vert_xconsthalf_yvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_xyz_1vec3_vert.vert
filename /home/oof/webgl_cleaned/vec3_xyz_1vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.xyz;
	vec4 a = vec4(m.xyz,lightloc.w);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.xyz;
  vec4 a = vec4(m.xyz, lightloc.w);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_xyz_1vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/samplerUniformShader.frag
e.left: Identifier(name='gl_FragColor')
e.right: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='s2D'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=FloatLiteral(value=0.5), right=FloatLiteral(value=0.5))]))]), right=CallExpr(callee=Identifier(name='textureCube'), args=[BinaryExpr(op=',', left=Identifier(name='sCube'), right=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.5), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.5))]))]))
e.left: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='s2D'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=FloatLiteral(value=0.5), right=FloatLiteral(value=0.5))]))])
e.right: CallExpr(callee=Identifier(name='textureCube'), args=[BinaryExpr(op=',', left=Identifier(name='sCube'), right=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.5), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.5))]))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform sampler2D s2D;
uniform samplerCube sCube;
void main()
{
    gl_FragColor = texture2D(s2D, vec2(0.5, 0.5)) +
                   textureCube(sCube, vec3(0.5, 0.5, 0.5));
}





New source code: precision mediump float;
precision mediump int;

uniform sampler2D s2D;

uniform samplerCube sCube;

void main()
{
  gl_FragColor = (texture2D(s2D, vec2(0.5, 0.5)) + textureCube(sCube, vec3(0.5, 0.5, 0.5)));
}


Filename: /home/oof/webgl_cleaned/samplerUniformShader.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp_vec3_vert_xvaryneg.vert
filename /home/oof/webgl_cleaned/exp_vec3_vert_xvaryneg.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='exp'), args=[BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c'))]), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = -gtf_Color.rgb;
	color = vec4(exp(3.0 * c), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = -gtf_Color.rgb;
  color = vec4(exp((3.0 * c)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp_vec3_vert_xvaryneg.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThanEqual_ivec2_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * color.rg - 4.5);
	vec2 result = vec2(greaterThanEqual(ivec2(c), ivec2(0)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * color.rg) - 4.5));
  vec2 result = vec2(greaterThanEqual(ivec2(c), ivec2(0)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/greaterThanEqual_ivec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/lessThanEqual_vec3_vert.vert
filename /home/oof/webgl_cleaned/lessThanEqual_vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(lessThanEqual(c, vec3(0.0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(lessThanEqual(c, vec3(0.0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThanEqual_vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_stpq_1vec4_vert.vert
filename /home/oof/webgl_cleaned/vec4_stpq_1vec4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='m'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='m')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec4 m = lightloc.stpq;
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * m;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec4 m = lightloc.stpq;
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * m);
}


Filename: /home/oof/webgl_cleaned/vec4_stpq_1vec4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lighting_diffuse.vert
filename /home/oof/webgl_cleaned/lighting_diffuse.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:7: 'attribute' :  supported in vertex shaders only
ERROR: 0:8: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'attribute' :  supported in vertex shaders only
ERROR: 0:71: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:74: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:75: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:76: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:83: 'gl_Position' : undeclared identifier
ERROR: 0:83: 'assign' : l-value required (can't modify a const)
ERROR: 0:83: '=' : dimension mismatch
ERROR: 0:83: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='VP')
e.right: BinaryExpr(op='-', left=Identifier(name='lightPosition'), right=Identifier(name='ecPosition3'))
e.left: Identifier(name='lightPosition')
e.right: Identifier(name='ecPosition3')
e.left: Identifier(name='d')
e.right: CallExpr(callee=Identifier(name='length'), args=[Identifier(name='VP')])
e.left: Identifier(name='VP')
e.right: CallExpr(callee=Identifier(name='normalize'), args=[Identifier(name='VP')])
e.left: Identifier(name='attenuation')
e.right: BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='lightAttenuationConstant'), right=BinaryExpr(op='*', left=Identifier(name='lightAttenuationLinear'), right=Identifier(name='d'))), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='lightAttenuationQuadratic'), right=Identifier(name='d')), right=Identifier(name='d'))))
e.left: FloatLiteral(value=1.0)
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='lightAttenuationConstant'), right=BinaryExpr(op='*', left=Identifier(name='lightAttenuationLinear'), right=Identifier(name='d'))), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='lightAttenuationQuadratic'), right=Identifier(name='d')), right=Identifier(name='d')))
e.left: BinaryExpr(op='+', left=Identifier(name='lightAttenuationConstant'), right=BinaryExpr(op='*', left=Identifier(name='lightAttenuationLinear'), right=Identifier(name='d')))
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='lightAttenuationQuadratic'), right=Identifier(name='d')), right=Identifier(name='d'))
e.left: Identifier(name='lightAttenuationConstant')
e.right: BinaryExpr(op='*', left=Identifier(name='lightAttenuationLinear'), right=Identifier(name='d'))
e.left: Identifier(name='lightAttenuationLinear')
e.right: Identifier(name='d')
e.left: BinaryExpr(op='*', left=Identifier(name='lightAttenuationQuadratic'), right=Identifier(name='d'))
e.right: Identifier(name='d')
e.left: Identifier(name='lightAttenuationQuadratic')
e.right: Identifier(name='d')
e.left: Identifier(name='halfVector')
e.right: CallExpr(callee=Identifier(name='normalize'), args=[BinaryExpr(op='+', left=Identifier(name='VP'), right=Identifier(name='eye'))])
e.left: Identifier(name='VP')
e.right: Identifier(name='eye')
e.left: Identifier(name='nDotVP')
e.right: CallExpr(callee=Identifier(name='max'), args=[BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='normal'), right=Identifier(name='VP'))]))])
e.left: Identifier(name='nDotHV')
e.right: CallExpr(callee=Identifier(name='max'), args=[BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='normal'), right=Identifier(name='halfVector'))]))])
e.left: Identifier(name='nDotVP')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='pf')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='pf')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='nDotHV'), right=Identifier(name='materialShininess'))])
e.left: Identifier(name='Ambient')
e.right: BinaryExpr(op='*', left=Identifier(name='lightAmbient'), right=Identifier(name='attenuation'))
e.left: Identifier(name='lightAmbient')
e.right: Identifier(name='attenuation')
e.left: Identifier(name='Diffuse')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='lightDiffuse'), right=Identifier(name='nDotVP')), right=Identifier(name='attenuation'))
e.left: BinaryExpr(op='*', left=Identifier(name='lightDiffuse'), right=Identifier(name='nDotVP'))
e.right: Identifier(name='attenuation')
e.left: Identifier(name='lightDiffuse')
e.right: Identifier(name='nDotVP')
e.left: Identifier(name='gtf_Normal')
e.right: Identifier(name='gtf_NormalMatrix')
e.left: Identifier(name='normal')
e.right: CallExpr(callee=Identifier(name='normalize'), args=[Identifier(name='normal')])
e.left: Identifier(name='ecPosition3')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='ecPosition')]), right=MemberExpr(base=Identifier(name='ecPosition'), member='w'))
e.left: CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='ecPosition')])
e.right: MemberExpr(base=Identifier(name='ecPosition'), member='w')
e.left: Identifier(name='eye')
e.right: CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='Ambient')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.0)])
e.left: Identifier(name='Diffuse')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.0)])
e.left: Identifier(name='Specular')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.0)])
e.left: Identifier(name='lightDiffuse')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='sceneColor'), right=BinaryExpr(op='*', left=Identifier(name='Ambient'), right=Identifier(name='materialAmbient'))), right=BinaryExpr(op='*', left=Identifier(name='Diffuse'), right=Identifier(name='materialDiffuse')))
e.left: BinaryExpr(op='+', left=Identifier(name='sceneColor'), right=BinaryExpr(op='*', left=Identifier(name='Ambient'), right=Identifier(name='materialAmbient')))
e.right: BinaryExpr(op='*', left=Identifier(name='Diffuse'), right=Identifier(name='materialDiffuse'))
e.left: Identifier(name='sceneColor')
e.right: BinaryExpr(op='*', left=Identifier(name='Ambient'), right=Identifier(name='materialAmbient'))
e.left: Identifier(name='Ambient')
e.right: Identifier(name='materialAmbient')
e.left: Identifier(name='Diffuse')
e.right: Identifier(name='materialDiffuse')
e.left: Identifier(name='color')
e.right: BinaryExpr(op='*', left=Identifier(name='Specular'), right=Identifier(name='materialSpecular'))
e.left: Identifier(name='Specular')
e.right: Identifier(name='materialSpecular')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='clamp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='color'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: MemberExpr(base=Identifier(name='color'), member='a')
e.right: Identifier(name='alphaFade')
e.left: Identifier(name='gtf_ModelViewMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='transformedNormal')
e.right: CallExpr(callee=Identifier(name='fnormal'), args=[])
Original source code: precision mediump float;
precision mediump int;

uniform mat4 gtf_ModelViewMatrix;
uniform mat4 gtf_ModelViewProjectionMatrix;
uniform mat3 gtf_NormalMatrix;
attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
attribute vec3 gtf_Normal;
varying vec4 color;
vec4 Ambient;
vec4 Diffuse;
vec4 Specular;
const vec3 lightPosition = vec3(0.0, 0.0, 10.0);
const float lightAttenuationConstant = 1.0;
const float lightAttenuationLinear = 0.0;
const float lightAttenuationQuadratic = 0.0;
const vec4 lightAmbient = vec4(0.0, 0.0, 0.0, 0.0);
vec4 lightDiffuse = vec4(1.0, 0.0, 0.0, 1.0);
const vec4 materialAmbient = vec4(0.0, 0.0, 0.0, 1.0);
const vec4 materialDiffuse = vec4(1.0, 1.0, 1.0, 1.0);
const vec4 materialSpecular = vec4(0.0, 0.0, 0.0, 0.0);
const float materialShininess = 20.0;
const vec4 sceneColor = vec4(0.0, 0.0, 0.0, 0.0);
void pointLight(in int i, in vec3 normal, in vec3 eye, in vec3 ecPosition3)
{
   float nDotVP;
   float nDotHV;
   float pf;
   float attenuation;
   float d;
   vec3  VP;
   vec3  halfVector;
   VP = lightPosition - ecPosition3;
   d = length(VP);
   VP = normalize(VP);
   attenuation = 1.0 / (lightAttenuationConstant +
       lightAttenuationLinear * d +
       lightAttenuationQuadratic * d * d);
   halfVector = normalize(VP + eye);
   nDotVP = max(0.0, dot(normal, VP));
   nDotHV = max(0.0, dot(normal, halfVector));
   if (nDotVP == 0.0)
   {
       pf = 0.0;
   }
   else
   {
       pf = pow(nDotHV, materialShininess);
   }
   Ambient  += lightAmbient * attenuation;
   Diffuse  += lightDiffuse * nDotVP * attenuation;
}
vec3 fnormal()
{
    vec3 normal = gtf_Normal * gtf_NormalMatrix;
    normal = normalize(normal);
    return vec3(0.0, 0.0, 1.0);
}
void flight(in vec3 normal, in vec4 ecPosition, float alphaFade)
{
    vec3 ecPosition3;
    vec3 eye;
    ecPosition3 = (vec3 (ecPosition)) / ecPosition.w;
    eye = vec3 (0.0, 0.0, 1.0);
    Ambient  = vec4 (0.0);
    Diffuse  = vec4 (0.0);
    Specular = vec4 (0.0);
	lightDiffuse = gtf_Color;
    pointLight(0, normal, eye, ecPosition3);
    color = sceneColor +
      Ambient  * materialAmbient +
      Diffuse  * materialDiffuse;
    color += Specular * materialSpecular;
    color = clamp( color, 0.0, 1.0 );
    color.a *= alphaFade;
}
void main ()
{
    vec3  transformedNormal;
    float alphaFade = 1.0;
    vec4 ecPosition = gtf_ModelViewMatrix * gtf_Vertex;
    gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
    transformedNormal = fnormal();
    flight(transformedNormal, ecPosition, alphaFade);
}





New source code: precision mediump float;
precision mediump int;

uniform mat4 gtf_ModelViewMatrix;

uniform mat4 gtf_ModelViewProjectionMatrix;

uniform mat3 gtf_NormalMatrix;

vec4 gtf_Vertex;

vec4 gtf_Color;

vec3 gtf_Normal;

varying vec4 color;

vec4 Ambient;

vec4 Diffuse;

vec4 Specular;

const vec3 lightPosition = vec3(0.0, 0.0, 10.0);

const float lightAttenuationConstant = 1.0;

const float lightAttenuationLinear = 0.0;

const float lightAttenuationQuadratic = 0.0;

const vec4 lightAmbient = vec4(0.0, 0.0, 0.0, 0.0);

vec4 lightDiffuse = vec4(1.0, 0.0, 0.0, 1.0);

const vec4 materialAmbient = vec4(0.0, 0.0, 0.0, 1.0);

const vec4 materialDiffuse = vec4(1.0, 1.0, 1.0, 1.0);

const vec4 materialSpecular = vec4(0.0, 0.0, 0.0, 0.0);

const float materialShininess = 20.0;

const vec4 sceneColor = vec4(0.0, 0.0, 0.0, 0.0);

void pointLight(in int i, in vec3 normal, in vec3 eye, in vec3 ecPosition3)
{
  float nDotVP;
  float nDotHV;
  float pf;
  float attenuation;
  float d;
  vec3 VP;
  vec3 halfVector;
  VP = (lightPosition - ecPosition3);
  d = length(VP);
  VP = normalize(VP);
  attenuation = (1.0 / ((lightAttenuationConstant + (lightAttenuationLinear * d)) + ((lightAttenuationQuadratic * d) * d)));
  halfVector = normalize((VP + eye));
  nDotVP = max(0.0, dot(normal, VP));
  nDotHV = max(0.0, dot(normal, halfVector));
  if ((nDotVP == 0.0))
  {
    pf = 0.0;
  }
  else
  {
    pf = pow(nDotHV, materialShininess);
  }
  (Ambient += (lightAmbient * attenuation));
  (Diffuse += ((lightDiffuse * nDotVP) * attenuation));
}

vec3 fnormal()
{
  vec3 normal = (gtf_Normal * gtf_NormalMatrix);
  normal = normalize(normal);
  return vec3(0.0, 0.0, 1.0);
}

void flight(in vec3 normal, in vec4 ecPosition, float alphaFade)
{
  vec3 ecPosition3;
  vec3 eye;
  ecPosition3 = (vec3(ecPosition) / ecPosition.w);
  eye = vec3(0.0, 0.0, 1.0);
  Ambient = vec4(0.0);
  Diffuse = vec4(0.0);
  Specular = vec4(0.0);
  lightDiffuse = gtf_Color;
  pointLight(0, normal, eye, ecPosition3);
  color = ((sceneColor + (Ambient * materialAmbient)) + (Diffuse * materialDiffuse));
  (color += (Specular * materialSpecular));
  color = clamp(color, 0.0, 1.0);
  (color.a *= alphaFade);
}

void main()
{
  vec3 transformedNormal;
  float alphaFade = 1.0;
  vec4 ecPosition = (gtf_ModelViewMatrix * gtf_Vertex);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
  transformedNormal = fnormal();
  flight(transformedNormal, ecPosition, alphaFade);
}


Filename: /home/oof/webgl_cleaned/lighting_diffuse.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vertexShader.vert
filename /home/oof/webgl_cleaned/vertexShader.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "v_normal")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='v_normal')
e.right: Identifier(name='a_normal')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='u_modelViewProjMatrix'), right=Identifier(name='a_vertex'))
e.left: Identifier(name='u_modelViewProjMatrix')
e.right: Identifier(name='a_vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 a_vertex;
attribute vec3 a_normal;
uniform mediump mat4 u_modelViewProjMatrix;
varying vec3 v_normal;
void main()
{
    v_normal = a_normal;
    gl_Position =  u_modelViewProjMatrix * a_vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 a_vertex;

vec3 a_normal;

uniform mediump mat4 u_modelViewProjMatrix;

varying vec3 v_normal;

void main()
{
  v_normal = a_normal;
  gl_Position = (u_modelViewProjMatrix * a_vertex);
}


Filename: /home/oof/webgl_cleaned/vertexShader.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/all_bvec3_vert.vert
filename /home/oof/webgl_cleaned/all_bvec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='all'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(4.0 * gtf_Color.rgb);
	color = vec4(vec3(all(bvec3(c))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor((4.0 * gtf_Color.rgb));
  color = vec4(vec3(all(bvec3(c))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/all_bvec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/22i_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='r'), right=FloatLiteral(value=256.0)), right=BinaryExpr(op='/', left=Identifier(name='g'), right=FloatLiteral(value=256.0))), right=BinaryExpr(op='/', left=Identifier(name='b'), right=FloatLiteral(value=256.0))), right=BinaryExpr(op='/', left=Identifier(name='a'), right=FloatLiteral(value=256.0)))])
e.left: Identifier(name='r')
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='g')
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='b')
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='a')
e.right: FloatLiteral(value=256.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform ivec2 color[2];
void main ()
{
	float r = float(color[0][0]);
	float g = float(color[0][1]);
	float b = float(color[1][0]);
	float a = float(color[1][1]);
	gl_FragColor = vec4 (r/256.0, g/256.0, b/256.0, a/256.0);
}





New source code: precision mediump float;
precision mediump int;

uniform ivec2 color[2];

void main()
{
  float r = float(color[0][0]);
  float g = float(color[0][1]);
  float b = float(color[1][0]);
  float a = float(color[1][1]);
  gl_FragColor = vec4((r / 256.0), (g / 256.0), (b / 256.0), (a / 256.0));
}


Filename: /home/oof/webgl_cleaned/22i_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log2_vec2_vert_xvary01.vert
filename /home/oof/webgl_cleaned/log2_vec2_vert_xvary01.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')]), right=UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')])
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = (gtf_Color.rg + 0.01) / 1.01;
	color = vec4(log2(c) / -8.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = ((gtf_Color.rg + 0.01) / 1.01);
  color = vec4((log2(c) / -8.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log2_vec2_vert_xvary01.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/atan_float_frag_xvaryyvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='>', left=Identifier(name='x'), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')]), right=Identifier(name='epsilon'))
e.left: Identifier(name='x')
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')])
e.right: Identifier(name='epsilon')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=Identifier(name='y'), right=Identifier(name='x'))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=Identifier(name='y'), right=Identifier(name='x'))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=Identifier(name='y'), right=Identifier(name='x'))])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float x = 2.0 * (color.g - 0.5);
	float y = 2.0 * (color.b - 0.5);
	const float epsilon = 1.0e-4;
	gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
	if(x > epsilon || abs(y) > epsilon)
	{
		gl_FragColor = vec4(atan(y, x) / (2.0 * M_PI) + 0.5, 0.0, 0.0, 1.0);
	}
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float x = (2.0 * (color.g - 0.5));
  float y = (2.0 * (color.b - 0.5));
  const float epsilon = 0.0001;
  gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
  if (((x > epsilon) || (abs(y) > epsilon)))
  {
    gl_FragColor = vec4(((atan(y, x) / (2.0 * M_PI)) + 0.5), 0.0, 0.0, 1.0);
  }
}


Filename: /home/oof/webgl_cleaned/atan_float_frag_xvaryyvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec_tests.vert
filename /home/oof/webgl_cleaned/vec_tests.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='vuni1'), right=BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1)))), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=2)))), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=3))))])
e.left: IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
uniform float vuni1;
uniform vec2 vuni2;
uniform vec3 vuni3;
uniform vec4 vuni4;
varying vec4 color;
void main ()
{
	color = vec4(vuni1, vuni2[0] + vuni2[1], vuni3[0] + vuni3[1] + vuni3[2], vuni4[0] + vuni4[1] + vuni4[2] + vuni4[3]);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

uniform float vuni1;

uniform vec2 vuni2;

uniform vec3 vuni3;

uniform vec4 vuni4;

varying vec4 color;

void main()
{
  color = vec4(vuni1, (vuni2[0] + vuni2[1]), ((vuni3[0] + vuni3[1]) + vuni3[2]), (((vuni4[0] + vuni4[1]) + vuni4[2]) + vuni4[3]));
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec_tests.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_gr_ab_2vec2_vert.vert
filename /home/oof/webgl_cleaned/vec4_gr_ab_2vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec2 m = lightloc.gr;
	vec2 n = lightloc.ab;
	vec4 a = vec4(m.g, m.r, n.g, n.r);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec2 m = lightloc.gr;
  vec2 n = lightloc.ab;
  vec4 a = vec4(m.g, m.r, n.g, n.r);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_gr_ab_2vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThan_ivec2_vert_ref.vert
filename /home/oof/webgl_cleaned/greaterThan_ivec2_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec2 gt(in ivec2 a, in ivec2 b)
{
	bvec2 result;
	if(a[0] > b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] > b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(gt(ivec2(c), ivec2(0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec2 gt(in ivec2 a, in ivec2 b)
{
  bvec2 result;
  if ((a[0] > b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] > b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(gt(ivec2(c), ivec2(0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/greaterThan_ivec2_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log2_vec3_frag_xvary01.frag
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')]), right=UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')])
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = (color.rgb + 0.01) / 1.01;
	gl_FragColor = vec4(log2(c) / -8.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((color.rgb + 0.01) / 1.01);
  gl_FragColor = vec4((log2(c) / -8.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/log2_vec3_frag_xvary01.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/const_mat3_vert.vert
filename /home/oof/webgl_cleaned/const_mat3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:38: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:39: 'gl_Position' : undeclared identifier
ERROR: 0:39: 'assign' : l-value required (can't modify a const)
ERROR: 0:39: '=' : dimension mismatch
ERROR: 0:39: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=16.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=32.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=64.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=128.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=73.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=73.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=146.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=146.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=292.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=292.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=7.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=7.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=56.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=56.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=448.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=448.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x;
	const mat3 a = mat3( 1.0,   2.0,   4.0,
	                     8.0,  16.0,  32.0,
	                    64.0, 128.0, 256.0);
	bool elms = true;
	if(a[0][0] !=   1.0) elms = false;
	if(a[0][1] !=   2.0) elms = false;
	if(a[0][2] !=   4.0) elms = false;
	if(a[1][0] !=   8.0) elms = false;
	if(a[1][1] !=  16.0) elms = false;
	if(a[1][2] !=  32.0) elms = false;
	if(a[2][0] !=  64.0) elms = false;
	if(a[2][1] != 128.0) elms = false;
	if(a[2][2] != 256.0) elms = false;
	bool rows = true;
	x = a[0][0] + a[1][0] + a[2][0];
	if( x < 73.0-0.1 || x > 73.0+0.1 ) rows = false;
	x = a[0][1] + a[1][1] + a[2][1];
	if(x < 146.0-0.1 || x > 146.0+0.1 ) rows = false;
	x = a[0][2] + a[1][2] + a[2][2];
	if(x < 292.0-0.1 || x > 292.0+0.1 ) rows = false;
	bool cols = true;
	x = a[0][0] + a[0][1] + a[0][2];
	if( x < 7.0-0.1 || x > 7.0+0.1 ) cols = false;
	x = a[1][0] + a[1][1] + a[1][2];
	if(x < 56.0-0.1 || x > 56.0+0.1) cols = false;
	x = a[2][0] + a[2][1] + a[2][2];
	if(x < 448.0-0.1 || x > 448.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x;
  const mat3 a = mat3(1.0, 2.0, 4.0, 8.0, 16.0, 32.0, 64.0, 128.0, 256.0);
  bool elms = true;
  if ((a[0][0] != 1.0))
    elms = false;
  if ((a[0][1] != 2.0))
    elms = false;
  if ((a[0][2] != 4.0))
    elms = false;
  if ((a[1][0] != 8.0))
    elms = false;
  if ((a[1][1] != 16.0))
    elms = false;
  if ((a[1][2] != 32.0))
    elms = false;
  if ((a[2][0] != 64.0))
    elms = false;
  if ((a[2][1] != 128.0))
    elms = false;
  if ((a[2][2] != 256.0))
    elms = false;
  bool rows = true;
  x = ((a[0][0] + a[1][0]) + a[2][0]);
  if (((x < (73.0 - 0.1)) || (x > (73.0 + 0.1))))
    rows = false;
  x = ((a[0][1] + a[1][1]) + a[2][1]);
  if (((x < (146.0 - 0.1)) || (x > (146.0 + 0.1))))
    rows = false;
  x = ((a[0][2] + a[1][2]) + a[2][2]);
  if (((x < (292.0 - 0.1)) || (x > (292.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = ((a[0][0] + a[0][1]) + a[0][2]);
  if (((x < (7.0 - 0.1)) || (x > (7.0 + 0.1))))
    cols = false;
  x = ((a[1][0] + a[1][1]) + a[1][2]);
  if (((x < (56.0 - 0.1)) || (x > (56.0 + 0.1))))
    cols = false;
  x = ((a[2][0] + a[2][1]) + a[2][2]);
  if (((x < (448.0 - 0.1)) || (x > (448.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/const_mat3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/length_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/length_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')]), right=FloatLiteral(value=3.0))]), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')])
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(length(gtf_Color.rgb) / 3.0), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3((length(gtf_Color.rgb) / 3.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/length_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/floor_vec3_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0)), right=FloatLiteral(value=20.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0))
e.right: FloatLiteral(value=20.0)
e.left: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=10.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 10.0 * 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4((floor(c) + 10.0) / 20.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((10.0 * 2.0) * (color.rgb - 0.5));
  gl_FragColor = vec4(((floor(c) + 10.0) / 20.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/floor_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_empty_in_vec4_array_vert.vert
filename /home/oof/webgl_cleaned/vec4_empty_in_vec4_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
vec4 function(in vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main ()
{
	vec4 par[3];
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
	ret = function(par);
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
vec4 function(in vec4 par[3])
{
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
	{
		set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
		return vec4(1.0, 1.0, 1.0, 1.0);
	}
	else
		return vec4(0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in vec4 array[3], const in vec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 array[3], const in vec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

vec4 function(in vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main()
{
  vec4 par[3];
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
  ret = function(par);
  if ((is_all(par, vec4(1.0, 1.0, 1.0, 1.0)) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

vec4 function(in vec4 par[3])
{
  if (is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
  {
    set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
    return vec4(1.0, 1.0, 1.0, 1.0);
  }
  else
    return vec4(0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in vec4 array[3], const in vec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 array[3], const in vec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_in_vec4_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_tsqp_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.tsqp;
	vec4 a = vec4(m.t, m.s, m.q, m.p);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.tsqp;
  vec4 a = vec4(m.t, m.s, m.q, m.p);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_tsqp_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/greaterThanEqual_ivec3_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(greaterThanEqual(ivec3(c), ivec3(0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(greaterThanEqual(ivec3(c), ivec3(0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/greaterThanEqual_ivec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/not_bvec3_vert_ref.vert
filename /home/oof/webgl_cleaned/not_bvec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_not'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec3 _not(in bvec3 a)
{
	bvec3 result;
	if(a[0]) result[0] = false;
	else result[0] = true;
	if(a[1]) result[1] = false;
	else result[1] = true;
	if(a[2]) result[2] = false;
	else result[2] = true;
	return result;
}
void main ()
{
	vec3 c = floor(1.5 * gtf_Color.rgb);
	color = vec4(vec3(_not(bvec3(c))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec3 _not(in bvec3 a)
{
  bvec3 result;
  if (a[0])
    result[0] = false;
  else
    result[0] = true;
  if (a[1])
    result[1] = false;
  else
    result[1] = true;
  if (a[2])
    result[2] = false;
  else
    result[2] = true;
  return result;
}

void main()
{
  vec3 c = floor((1.5 * gtf_Color.rgb));
  color = vec4(vec3(_not(bvec3(c))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/not_bvec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat3_vert.vert
filename /home/oof/webgl_cleaned/mat3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:38: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:39: 'gl_Position' : undeclared identifier
ERROR: 0:39: 'assign' : l-value required (can't modify a const)
ERROR: 0:39: '=' : dimension mismatch
ERROR: 0:39: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=16.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=32.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=64.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=128.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=73.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=73.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=73.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=146.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=146.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=146.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=292.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=292.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=292.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=7.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=7.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=7.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=56.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=56.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=56.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=448.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=448.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=448.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x;
	mat3 a = mat3( 1.0,   2.0,   4.0,
	               8.0,  16.0,  32.0,
	              64.0, 128.0, 256.0);
	bool elms = true;
	if(a[0][0] !=   1.0) elms = false;
	if(a[0][1] !=   2.0) elms = false;
	if(a[0][2] !=   4.0) elms = false;
	if(a[1][0] !=   8.0) elms = false;
	if(a[1][1] !=  16.0) elms = false;
	if(a[1][2] !=  32.0) elms = false;
	if(a[2][0] !=  64.0) elms = false;
	if(a[2][1] != 128.0) elms = false;
	if(a[2][2] != 256.0) elms = false;
	bool rows = true;
	x = a[0][0] + a[1][0] + a[2][0];
	if( x < 73.0-0.1 || x > 73.0+0.1 ) rows = false;
	x = a[0][1] + a[1][1] + a[2][1];
	if(x < 146.0-0.1 || x > 146.0+0.1 ) rows = false;
	x = a[0][2] + a[1][2] + a[2][2];
	if(x < 292.0-0.1 || x > 292.0+0.1 ) rows = false;
	bool cols = true;
	x = a[0][0] + a[0][1] + a[0][2];
	if( x < 7.0-0.1 || x > 7.0+0.1 ) cols = false;
	x = a[1][0] + a[1][1] + a[1][2];
	if(x < 56.0-0.1 || x > 56.0+0.1) cols = false;
	x = a[2][0] + a[2][1] + a[2][2];
	if(x < 448.0-0.1 || x > 448.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x;
  mat3 a = mat3(1.0, 2.0, 4.0, 8.0, 16.0, 32.0, 64.0, 128.0, 256.0);
  bool elms = true;
  if ((a[0][0] != 1.0))
    elms = false;
  if ((a[0][1] != 2.0))
    elms = false;
  if ((a[0][2] != 4.0))
    elms = false;
  if ((a[1][0] != 8.0))
    elms = false;
  if ((a[1][1] != 16.0))
    elms = false;
  if ((a[1][2] != 32.0))
    elms = false;
  if ((a[2][0] != 64.0))
    elms = false;
  if ((a[2][1] != 128.0))
    elms = false;
  if ((a[2][2] != 256.0))
    elms = false;
  bool rows = true;
  x = ((a[0][0] + a[1][0]) + a[2][0]);
  if (((x < (73.0 - 0.1)) || (x > (73.0 + 0.1))))
    rows = false;
  x = ((a[0][1] + a[1][1]) + a[2][1]);
  if (((x < (146.0 - 0.1)) || (x > (146.0 + 0.1))))
    rows = false;
  x = ((a[0][2] + a[1][2]) + a[2][2]);
  if (((x < (292.0 - 0.1)) || (x > (292.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = ((a[0][0] + a[0][1]) + a[0][2]);
  if (((x < (7.0 - 0.1)) || (x > (7.0 + 0.1))))
    cols = false;
  x = ((a[1][0] + a[1][1]) + a[1][2]);
  if (((x < (56.0 - 0.1)) || (x > (56.0 + 0.1))))
    cols = false;
  x = ((a[2][0] + a[2][1]) + a[2][2]);
  if (((x < (448.0 - 0.1)) || (x > (448.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mat3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/reflect_vec3_frag_ivarynconst_ref.frag
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='z')
e.right: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='phi')])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='-', left=Identifier(name='v1'), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2'))), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='-', left=Identifier(name='v1'), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2'))), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='-', left=Identifier(name='v1'), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2')))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='v1')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2'))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))]))
e.right: Identifier(name='v2')
e.left: FloatLiteral(value=2.0)
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 v1;
	vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
	float theta = color.g * 2.0 * M_PI;
	float phi = color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	v1.z = cos(phi);
	gl_FragColor = vec4((v1 - 2.0 * dot(v2, v1) * v2 + 1.0) / 2.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 v1;
  vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
  float theta = ((color.g * 2.0) * M_PI);
  float phi = ((color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  v1.z = cos(phi);
  gl_FragColor = vec4((((v1 - ((2.0 * dot(v2, v1)) * v2)) + 1.0) / 2.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/reflect_vec3_frag_ivarynconst_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structnest_vec2_vert.vert
filename /home/oof/webgl_cleaned/structnest_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))), right=FloatLiteral(value=55.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)))
e.right: FloatLiteral(value=55.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct nestb
{
	vec2 b;
};
struct nesta
{
	vec2 a;
	nestb nest_b;
};
struct nest
{
	nesta nest_a;
};
void main ()
{
	nest s = nest(nesta(vec2(11, 13), nestb(vec2(12, 19) ) ) );
	color = vec4( vec3(  (s.nest_a.a[0] + s.nest_a.a[1] + s.nest_a.nest_b.b[0] + s.nest_a.nest_b.b[1] ) / 55.0 ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct nestb {
  vec2 b;
};

struct nesta {
  vec2 a;
  nestb nest_b;
};

struct nest {
  nesta nest_a;
};

void main()
{
  nest s = nest(nesta(vec2(11, 13), nestb(vec2(12, 19))));
  color = vec4(vec3(((((s.nest_a.a[0] + s.nest_a.a[1]) + s.nest_a.nest_b.b[0]) + s.nest_a.nest_b.b[1]) / 55.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/structnest_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/bool_empty_out_bool_empty_vert.vert
filename /home/oof/webgl_cleaned/bool_empty_out_bool_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:18: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: UnaryExpr(op='!', operand=Identifier(name='par'), postfix=False)
e.right: Identifier(name='ret')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='par')
e.right: BoolLiteral(value=False)
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bool function(out bool par);
void main ()
{
	bool par = true;
	bool ret = false;
	float gray = 0.0;
	ret = function(par);
	if(!par && ret)
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
bool function(out bool par)
{
	par = false;
	return true;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bool function(out bool par);
void main()
{
  bool par = true;
  bool ret = false;
  float gray = 0.0;
  ret = function(par);
  if ((!par && ret))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

bool function(out bool par)
{
  par = false;
  return true;
}


Filename: /home/oof/webgl_cleaned/bool_empty_out_bool_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_frag_xconsthalf_yvary_ref.frag
e.left: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = -2.0 * (color.rg - 0.5);
	gl_FragColor = vec4(exp2(2.0 * c) / 4.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = (-2.0 * (color.rg - 0.5));
  gl_FragColor = vec4((exp2((2.0 * c)) / 4.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_frag_xconsthalf_yvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_vec3_frag_xvaryyvary_ref.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='ggg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='ggg')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='bbb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='bbb')
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))])
e.right: Identifier(name='epsilon')
e.left: BinaryExpr(op='<', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='<', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=FloatLiteral(value=0.0))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))])
e.right: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))])
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))])
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)))])
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.5)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))])
e.right: Identifier(name='epsilon')
e.left: BinaryExpr(op='<', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='<', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=FloatLiteral(value=0.0))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))])
e.right: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))])
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))])
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)))])
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.5)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))])
e.right: Identifier(name='epsilon')
e.left: BinaryExpr(op='<', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2)), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='<', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2)), right=FloatLiteral(value=0.0))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))])
e.right: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))])
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2)))])
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2)))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2)))])
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2)))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2)))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=2))
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=2))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.5)
e.left: IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='result')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 x = 2.0 * (color.ggg - 0.5);
	vec3 y = 2.0 * (color.bbb - 0.5);
	vec3 c;
	vec3 atan_c = vec3(0.0);
	vec3 scale = vec3(1.0);
	vec3 sign = vec3(1.0);
	vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
	const float epsilon = 1.0e-4;
	if(x[0] > epsilon || abs(y[0]) > epsilon)
	{
		if(x[0] < 0.0 ^^ y[0] < 0.0)
		{
			sign[0] = -1.0;
		}
		if(abs(y[0]) <= abs(x[0]))
		{
			c[0] = abs(y[0] / x[0]);
			atan_c[0] += scale[0] * pow(c[0], float(1)) / float(1);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(3)) / float(3);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(5)) / float(5);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(7)) / float(7);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(9)) / float(9);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(11)) / float(11);
			scale[0] *= -1.0;
			result[0] = sign[0] * atan_c[0] / (2.0 * M_PI) + 0.5;
		}
		else
		{
			c[0] = abs(x[0] / y[0]);
			atan_c[0] += scale[0] * pow(c[0], float(1)) / float(1);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(3)) / float(3);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(5)) / float(5);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(7)) / float(7);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(9)) / float(9);
			scale[0] *= -1.0;
			atan_c[0] += scale[0] * pow(c[0], float(11)) / float(11);
			scale[0] *= -1.0;
			result[0] = sign[0] * (M_PI / 2.0 - atan_c[0]) / (2.0 * M_PI) + 0.5;
		}
		if(x[0] < 0.0)
			if(y[0] < 0.0) result[0] -= 0.5;
			else if(y[0] > 0.0) result[0] += 0.5;
	}
	if(x[1] > epsilon || abs(y[1]) > epsilon)
	{
		if(x[1] < 0.0 ^^ y[1] < 0.0)
		{
			sign[1] = -1.0;
		}
		if(abs(y[1]) <= abs(x[1]))
		{
			c[1] = abs(y[1] / x[1]);
			atan_c[1] += scale[1] * pow(c[1], float(1)) / float(1);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(3)) / float(3);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(5)) / float(5);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(7)) / float(7);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(9)) / float(9);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(11)) / float(11);
			scale[1] *= -1.0;
			result[1] = sign[1] * atan_c[1] / (2.0 * M_PI) + 0.5;
		}
		else
		{
			c[1] = abs(x[1] / y[1]);
			atan_c[1] += scale[1] * pow(c[1], float(1)) / float(1);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(3)) / float(3);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(5)) / float(5);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(7)) / float(7);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(9)) / float(9);
			scale[1] *= -1.0;
			atan_c[1] += scale[1] * pow(c[1], float(11)) / float(11);
			scale[1] *= -1.0;
			result[1] = sign[1] * (M_PI / 2.0 - atan_c[1]) / (2.0 * M_PI) + 0.5;
		}
		if(x[1] < 0.0)
			if(y[1] < 0.0) result[1] -= 0.5;
			else if(y[1] > 0.0) result[1] += 0.5;
	}
	if(x[2] > epsilon || abs(y[2]) > epsilon)
	{
		if(x[2] < 0.0 ^^ y[2] < 0.0)
		{
			sign[2] = -1.0;
		}
		if(abs(y[2]) <= abs(x[2]))
		{
			c[2] = abs(y[2] / x[2]);
			atan_c[2] += scale[2] * pow(c[2], float(1)) / float(1);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(3)) / float(3);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(5)) / float(5);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(7)) / float(7);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(9)) / float(9);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(11)) / float(11);
			scale[2] *= -1.0;
			result[2] = sign[2] * atan_c[2] / (2.0 * M_PI) + 0.5;
		}
		else
		{
			c[2] = abs(x[2] / y[2]);
			atan_c[2] += scale[2] * pow(c[2], float(1)) / float(1);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(3)) / float(3);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(5)) / float(5);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(7)) / float(7);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(9)) / float(9);
			scale[2] *= -1.0;
			atan_c[2] += scale[2] * pow(c[2], float(11)) / float(11);
			scale[2] *= -1.0;
			result[2] = sign[2] * (M_PI / 2.0 - atan_c[2]) / (2.0 * M_PI) + 0.5;
		}
		if(x[2] < 0.0)
			if(y[2] < 0.0) result[2] -= 0.5;
			else if(y[2] > 0.0) result[2] += 0.5;
	}
	gl_FragColor = result;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 x = (2.0 * (color.ggg - 0.5));
  vec3 y = (2.0 * (color.bbb - 0.5));
  vec3 c;
  vec3 atan_c = vec3(0.0);
  vec3 scale = vec3(1.0);
  vec3 sign = vec3(1.0);
  vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
  const float epsilon = 0.0001;
  if (((x[0] > epsilon) || (abs(y[0]) > epsilon)))
  {
    if (((x[0] < 0.0) ^^ (y[0] < 0.0)))
    {
      sign[0] = -1.0;
    }
    if ((abs(y[0]) <= abs(x[0])))
    {
      c[0] = abs((y[0] / x[0]));
      (atan_c[0] += ((scale[0] * pow(c[0], float(1))) / float(1)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(3))) / float(3)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(5))) / float(5)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(7))) / float(7)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(9))) / float(9)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(11))) / float(11)));
      (scale[0] *= -1.0);
      result[0] = (((sign[0] * atan_c[0]) / (2.0 * M_PI)) + 0.5);
    }
    else
    {
      c[0] = abs((x[0] / y[0]));
      (atan_c[0] += ((scale[0] * pow(c[0], float(1))) / float(1)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(3))) / float(3)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(5))) / float(5)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(7))) / float(7)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(9))) / float(9)));
      (scale[0] *= -1.0);
      (atan_c[0] += ((scale[0] * pow(c[0], float(11))) / float(11)));
      (scale[0] *= -1.0);
      result[0] = (((sign[0] * ((M_PI / 2.0) - atan_c[0])) / (2.0 * M_PI)) + 0.5);
    }
    if ((x[0] < 0.0))
      if ((y[0] < 0.0))
        (result[0] -= 0.5);
      else
        if ((y[0] > 0.0))
          (result[0] += 0.5);
  }
  if (((x[1] > epsilon) || (abs(y[1]) > epsilon)))
  {
    if (((x[1] < 0.0) ^^ (y[1] < 0.0)))
    {
      sign[1] = -1.0;
    }
    if ((abs(y[1]) <= abs(x[1])))
    {
      c[1] = abs((y[1] / x[1]));
      (atan_c[1] += ((scale[1] * pow(c[1], float(1))) / float(1)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(3))) / float(3)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(5))) / float(5)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(7))) / float(7)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(9))) / float(9)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(11))) / float(11)));
      (scale[1] *= -1.0);
      result[1] = (((sign[1] * atan_c[1]) / (2.0 * M_PI)) + 0.5);
    }
    else
    {
      c[1] = abs((x[1] / y[1]));
      (atan_c[1] += ((scale[1] * pow(c[1], float(1))) / float(1)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(3))) / float(3)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(5))) / float(5)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(7))) / float(7)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(9))) / float(9)));
      (scale[1] *= -1.0);
      (atan_c[1] += ((scale[1] * pow(c[1], float(11))) / float(11)));
      (scale[1] *= -1.0);
      result[1] = (((sign[1] * ((M_PI / 2.0) - atan_c[1])) / (2.0 * M_PI)) + 0.5);
    }
    if ((x[1] < 0.0))
      if ((y[1] < 0.0))
        (result[1] -= 0.5);
      else
        if ((y[1] > 0.0))
          (result[1] += 0.5);
  }
  if (((x[2] > epsilon) || (abs(y[2]) > epsilon)))
  {
    if (((x[2] < 0.0) ^^ (y[2] < 0.0)))
    {
      sign[2] = -1.0;
    }
    if ((abs(y[2]) <= abs(x[2])))
    {
      c[2] = abs((y[2] / x[2]));
      (atan_c[2] += ((scale[2] * pow(c[2], float(1))) / float(1)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(3))) / float(3)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(5))) / float(5)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(7))) / float(7)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(9))) / float(9)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(11))) / float(11)));
      (scale[2] *= -1.0);
      result[2] = (((sign[2] * atan_c[2]) / (2.0 * M_PI)) + 0.5);
    }
    else
    {
      c[2] = abs((x[2] / y[2]));
      (atan_c[2] += ((scale[2] * pow(c[2], float(1))) / float(1)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(3))) / float(3)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(5))) / float(5)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(7))) / float(7)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(9))) / float(9)));
      (scale[2] *= -1.0);
      (atan_c[2] += ((scale[2] * pow(c[2], float(11))) / float(11)));
      (scale[2] *= -1.0);
      result[2] = (((sign[2] * ((M_PI / 2.0) - atan_c[2])) / (2.0 * M_PI)) + 0.5);
    }
    if ((x[2] < 0.0))
      if ((y[2] < 0.0))
        (result[2] -= 0.5);
      else
        if ((y[2] > 0.0))
          (result[2] += 0.5);
  }
  gl_FragColor = result;
}


Filename: /home/oof/webgl_cleaned/atan_vec3_frag_xvaryyvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_vec2_float_vert.vert
filename /home/oof/webgl_cleaned/vec3_vec2_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=FloatLiteral(value=139.0))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=53.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=139.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 b = vec2(13.0, 53.0);
	vec3 a = vec3(b,139.0);
	float gray;
	if( (a[0] == 13.0) && (a[1] == 53.0) && (a[2] == 139.0) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 b = vec2(13.0, 53.0);
  vec3 a = vec3(b, 139.0);
  float gray;
  if ((((a[0] == 13.0) && (a[1] == 53.0)) && (a[2] == 139.0)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec3_vec2_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/log_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='z')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=FloatLiteral(value=3.466)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: FloatLiteral(value=3.466)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 x = 31.0 * gtf_Color.rgb + 1.0;
	vec3 y = vec3(0.0);
	vec3 z;
	int n = 50;
	z = (x - 1.0) / (x + 1.0);
	vec3 p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= 2.0;
	color = vec4(y / 3.466, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 x = ((31.0 * gtf_Color.rgb) + 1.0);
  vec3 y = vec3(0.0);
  vec3 z;
  int n = 50;
  z = ((x - 1.0) / (x + 1.0));
  vec3 p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= 2.0);
  color = vec4((y / 3.466), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/for_break_vert.vert
filename /home/oof/webgl_cleaned/for_break_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:20: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:21: 'gl_Position' : undeclared identifier
ERROR: 0:21: 'assign' : l-value required (can't modify a const)
ERROR: 0:21: '=' : dimension mismatch
ERROR: 0:21: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='i')
e.right: IntLiteral(value=45)
e.left: Identifier(name='count')
e.right: IntLiteral(value=29)
e.left: Identifier(name='count')
e.right: IntLiteral(value=29)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	int count = 0;
        for(int i=0;i<45;i++)
	{
	  count++;
	  if(count == 29)
            break;
	}
	float gray;
	if( count == 29)
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  int count = 0;
  for (int i = 0; (i < 45); i++)
  {
    count++;
    if ((count == 29))
      break;
  }
  float gray;
  if ((count == 29))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/for_break_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/struct_bool_frag.frag
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='a'), right=BoolLiteral(value=True)), right=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='b'), right=BoolLiteral(value=False))), right=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='c'), right=BoolLiteral(value=True)))
e.right: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='d'), right=BoolLiteral(value=False))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='a'), right=BoolLiteral(value=True)), right=BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='b'), right=BoolLiteral(value=False)))
e.right: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='c'), right=BoolLiteral(value=True))
e.left: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='a'), right=BoolLiteral(value=True))
e.right: BinaryExpr(op='==', left=MemberExpr(base=Identifier(name='s'), member='b'), right=BoolLiteral(value=False))
e.left: MemberExpr(base=Identifier(name='s'), member='a')
e.right: BoolLiteral(value=True)
e.left: MemberExpr(base=Identifier(name='s'), member='b')
e.right: BoolLiteral(value=False)
e.left: MemberExpr(base=Identifier(name='s'), member='c')
e.right: BoolLiteral(value=True)
e.left: MemberExpr(base=Identifier(name='s'), member='d')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	bool a;
	bool b;
	bool c;
	bool d;
};
void main ()
{
	sabcd s = sabcd(bool(12), bool(0), bool(25.5), bool(0.0));
	float gray = 0.0;
	if( (s.a==true) && (s.b==false) && (s.c == true) && (s.d==false))
	  gray=1.0;
	else
          gray =0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  bool a;
  bool b;
  bool c;
  bool d;
};

void main()
{
  sabcd s = sabcd(bool(12), bool(0), bool(25.5), bool(0.0));
  float gray = 0.0;
  if (((((s.a == true) && (s.b == false)) && (s.c == true)) && (s.d == false)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/struct_bool_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/degrees_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/degrees_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='degrees'), args=[Identifier(name='c')]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='degrees'), args=[Identifier(name='c')]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0)))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='degrees'), args=[Identifier(name='c')])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))
e.left: FloatLiteral(value=2.0)
e.right: FloatLiteral(value=360.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * M_PI * 2.0 * (gtf_Color.rg - 0.5);
	color = vec4(degrees(c) / (2.0 * 360.0) + 0.5, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = (((2.0 * M_PI) * 2.0) * (gtf_Color.rg - 0.5));
  color = vec4(((degrees(c) / (2.0 * 360.0)) + 0.5), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/degrees_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/texture.frag
e.left: CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='sampler2d'), right=CallExpr(callee=Identifier(name='vec2'), args=[IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0))]))])])
e.right: Identifier(name='lightIntensity')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='ct'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec3  Position;
varying float lightIntensity;
uniform sampler2D sampler2d;
varying vec4 gtf_TexCoord[1];
void main ()
{
    vec3 lightColor = vec3(texture2D(sampler2d,  vec2(gtf_TexCoord[0]))) * lightIntensity;
    vec3 ct = clamp(lightColor, 0.0, 1.0);
    gl_FragColor = vec4 (ct, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec3 Position;

varying float lightIntensity;

uniform sampler2D sampler2d;

varying vec4 gtf_TexCoord[1];

void main()
{
  vec3 lightColor = (vec3(texture2D(sampler2d, vec2(gtf_TexCoord[0]))) * lightIntensity);
  vec3 ct = clamp(lightColor, 0.0, 1.0);
  gl_FragColor = vec4(ct, 1.0);
}


Filename: /home/oof/webgl_cleaned/texture.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_stp_1vec3_vert.vert
filename /home/oof/webgl_cleaned/vec3_stp_1vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.stp;
	vec4 a = vec4(m.stp,lightloc.q);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.stp;
  vec4 a = vec4(m.stp, lightloc.q);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_stp_1vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/max_vec3_frag_xvary_yconsthalf_ref.frag
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='max_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='max_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='max_c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='max_c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='max_c'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='max_c'), index=IntLiteral(value=2))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec3 max_c = vec3(0.5, 0.5, 0.5);
	vec3 c = color.rgb;
	if(c[0] < max_c[0]) c[0] = max_c[0];
	if(c[1] < max_c[1]) c[1] = max_c[1];
	if(c[2] < max_c[2]) c[2] = max_c[2];
	gl_FragColor = vec4(c, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec3 max_c = vec3(0.5, 0.5, 0.5);
  vec3 c = color.rgb;
  if ((c[0] < max_c[0]))
    c[0] = max_c[0];
  if ((c[1] < max_c[1]))
    c[1] = max_c[1];
  if ((c[2] < max_c[2]))
    c[2] = max_c[2];
  gl_FragColor = vec4(c, 1.0);
}


Filename: /home/oof/webgl_cleaned/max_vec3_frag_xvary_yconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/asin_vec2_frag_xvary_ref.frag
e.left: Identifier(name='a')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a')), right=Identifier(name='s'))
e.left: BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a'))
e.right: Identifier(name='s')
e.left: Identifier(name='b')
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.5708), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.06544), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.848062), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.675132), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.523599), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.384397), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.25268), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.125328), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))
e.right: FloatLiteral(value=0.125328)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))
e.right: FloatLiteral(value=0.25268)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))
e.right: FloatLiteral(value=0.384397)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))
e.right: FloatLiteral(value=0.523599)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))
e.right: FloatLiteral(value=0.675132)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))
e.right: FloatLiteral(value=0.848062)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))
e.right: FloatLiteral(value=1.06544)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.right: FloatLiteral(value=1.5708)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='+', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0))]))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='arrVal')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='arrVal')])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=0)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=3)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=4)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=6)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=7)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=8)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=9)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=10)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=11)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=12)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=13)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=14)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=15)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=16)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=0)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=3)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=4)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=6)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=7)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=8)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=9)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=10)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=11)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=12)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=13)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=14)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=15)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=16)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=Identifier(name='asin_c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=Identifier(name='asin_c'), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='asin_c')
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float lerp(float a, float b, float s)
{
	return a + (b - a) * s;
}
void main ()
{
	float asinValues[17];
	asinValues[0] = -1.5708;
	asinValues[1] = -1.06544;
	asinValues[2] = -0.848062;
	asinValues[3] = -0.675132;
	asinValues[4] = -0.523599;
	asinValues[5] = -0.384397;
	asinValues[6] = -0.25268;
	asinValues[7] = -0.125328;
	asinValues[8] = 0.0;
	asinValues[9] = 0.125328;
	asinValues[10] = 0.25268;
	asinValues[11] = 0.384397;
	asinValues[12] = 0.523599;
	asinValues[13] = 0.675132;
	asinValues[14] = 0.848062;
	asinValues[15] = 1.06544;
	asinValues[16] = 1.5708;
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * (color.rg - 0.5);
	vec2 arrVal = (c + vec2(1.0, 1.0)) * 8.0;
	int arr0x = int(floor(arrVal.x));
	int arr0y = int(floor(arrVal.y));
	vec2 weight = arrVal - floor(arrVal);
	vec2 asin_c = vec2(0.0);
	if (arr0x == 0)
		asin_c.x = lerp(asinValues[0], asinValues[1], weight.x);
	else if (arr0x == 1)
		asin_c.x = lerp(asinValues[1], asinValues[2], weight.x);
	else if (arr0x == 2)
		asin_c.x = lerp(asinValues[2], asinValues[3], weight.x);
	else if (arr0x == 3)
		asin_c.x = lerp(asinValues[3], asinValues[4], weight.x);
	else if (arr0x == 4)
		asin_c.x = lerp(asinValues[4], asinValues[5], weight.x);
	else if (arr0x == 5)
		asin_c.x = lerp(asinValues[5], asinValues[6], weight.x);
	else if (arr0x == 6)
		asin_c.x = lerp(asinValues[6], asinValues[7], weight.x);
	else if (arr0x == 7)
		asin_c.x = lerp(asinValues[7], asinValues[8], weight.x);
	else if (arr0x == 8)
		asin_c.x = lerp(asinValues[8], asinValues[9], weight.x);
	else if (arr0x == 9)
		asin_c.x = lerp(asinValues[9], asinValues[10], weight.x);
	else if (arr0x == 10)
		asin_c.x = lerp(asinValues[10], asinValues[11], weight.x);
	else if (arr0x == 11)
		asin_c.x = lerp(asinValues[11], asinValues[12], weight.x);
	else if (arr0x == 12)
		asin_c.x = lerp(asinValues[12], asinValues[13], weight.x);
	else if (arr0x == 13)
		asin_c.x = lerp(asinValues[13], asinValues[14], weight.x);
	else if (arr0x == 14)
		asin_c.x = lerp(asinValues[14], asinValues[15], weight.x);
	else if (arr0x == 15)
		asin_c.x = lerp(asinValues[15], asinValues[16], weight.x);
        else if (arr0x == 16)
                asin_c.x = asinValues[16];
	if (arr0y == 0)
		asin_c.y = lerp(asinValues[0], asinValues[1], weight.y);
	else if (arr0y == 1)
		asin_c.y = lerp(asinValues[1], asinValues[2], weight.y);
	else if (arr0y == 2)
		asin_c.y = lerp(asinValues[2], asinValues[3], weight.y);
	else if (arr0y == 3)
		asin_c.y = lerp(asinValues[3], asinValues[4], weight.y);
	else if (arr0y == 4)
		asin_c.y = lerp(asinValues[4], asinValues[5], weight.y);
	else if (arr0y == 5)
		asin_c.y = lerp(asinValues[5], asinValues[6], weight.y);
	else if (arr0y == 6)
		asin_c.y = lerp(asinValues[6], asinValues[7], weight.y);
	else if (arr0y == 7)
		asin_c.y = lerp(asinValues[7], asinValues[8], weight.y);
	else if (arr0y == 8)
		asin_c.y = lerp(asinValues[8], asinValues[9], weight.y);
	else if (arr0y == 9)
		asin_c.y = lerp(asinValues[9], asinValues[10], weight.y);
	else if (arr0y == 10)
		asin_c.y = lerp(asinValues[10], asinValues[11], weight.y);
	else if (arr0y == 11)
		asin_c.y = lerp(asinValues[11], asinValues[12], weight.y);
	else if (arr0y == 12)
		asin_c.y = lerp(asinValues[12], asinValues[13], weight.y);
	else if (arr0y == 13)
		asin_c.y = lerp(asinValues[13], asinValues[14], weight.y);
	else if (arr0y == 14)
		asin_c.y = lerp(asinValues[14], asinValues[15], weight.y);
	else if (arr0y == 15)
		asin_c.y = lerp(asinValues[15], asinValues[16], weight.y);
        else if (arr0y == 16)
                asin_c.y = asinValues[16];
	gl_FragColor = vec4(asin_c / M_PI + 0.5, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float lerp(float a, float b, float s)
{
  return (a + ((b - a) * s));
}

void main()
{
  float asinValues[17];
  asinValues[0] = -1.5708;
  asinValues[1] = -1.06544;
  asinValues[2] = -0.848062;
  asinValues[3] = -0.675132;
  asinValues[4] = -0.523599;
  asinValues[5] = -0.384397;
  asinValues[6] = -0.25268;
  asinValues[7] = -0.125328;
  asinValues[8] = 0.0;
  asinValues[9] = 0.125328;
  asinValues[10] = 0.25268;
  asinValues[11] = 0.384397;
  asinValues[12] = 0.523599;
  asinValues[13] = 0.675132;
  asinValues[14] = 0.848062;
  asinValues[15] = 1.06544;
  asinValues[16] = 1.5708;
  const float M_PI = 3.141592653589793;
  vec2 c = (2.0 * (color.rg - 0.5));
  vec2 arrVal = ((c + vec2(1.0, 1.0)) * 8.0);
  int arr0x = int(floor(arrVal.x));
  int arr0y = int(floor(arrVal.y));
  vec2 weight = (arrVal - floor(arrVal));
  vec2 asin_c = vec2(0.0);
  if ((arr0x == 0))
    asin_c.x = lerp(asinValues[0], asinValues[1], weight.x);
  else
    if ((arr0x == 1))
      asin_c.x = lerp(asinValues[1], asinValues[2], weight.x);
    else
      if ((arr0x == 2))
        asin_c.x = lerp(asinValues[2], asinValues[3], weight.x);
      else
        if ((arr0x == 3))
          asin_c.x = lerp(asinValues[3], asinValues[4], weight.x);
        else
          if ((arr0x == 4))
            asin_c.x = lerp(asinValues[4], asinValues[5], weight.x);
          else
            if ((arr0x == 5))
              asin_c.x = lerp(asinValues[5], asinValues[6], weight.x);
            else
              if ((arr0x == 6))
                asin_c.x = lerp(asinValues[6], asinValues[7], weight.x);
              else
                if ((arr0x == 7))
                  asin_c.x = lerp(asinValues[7], asinValues[8], weight.x);
                else
                  if ((arr0x == 8))
                    asin_c.x = lerp(asinValues[8], asinValues[9], weight.x);
                  else
                    if ((arr0x == 9))
                      asin_c.x = lerp(asinValues[9], asinValues[10], weight.x);
                    else
                      if ((arr0x == 10))
                        asin_c.x = lerp(asinValues[10], asinValues[11], weight.x);
                      else
                        if ((arr0x == 11))
                          asin_c.x = lerp(asinValues[11], asinValues[12], weight.x);
                        else
                          if ((arr0x == 12))
                            asin_c.x = lerp(asinValues[12], asinValues[13], weight.x);
                          else
                            if ((arr0x == 13))
                              asin_c.x = lerp(asinValues[13], asinValues[14], weight.x);
                            else
                              if ((arr0x == 14))
                                asin_c.x = lerp(asinValues[14], asinValues[15], weight.x);
                              else
                                if ((arr0x == 15))
                                  asin_c.x = lerp(asinValues[15], asinValues[16], weight.x);
                                else
                                  if ((arr0x == 16))
                                    asin_c.x = asinValues[16];
  if ((arr0y == 0))
    asin_c.y = lerp(asinValues[0], asinValues[1], weight.y);
  else
    if ((arr0y == 1))
      asin_c.y = lerp(asinValues[1], asinValues[2], weight.y);
    else
      if ((arr0y == 2))
        asin_c.y = lerp(asinValues[2], asinValues[3], weight.y);
      else
        if ((arr0y == 3))
          asin_c.y = lerp(asinValues[3], asinValues[4], weight.y);
        else
          if ((arr0y == 4))
            asin_c.y = lerp(asinValues[4], asinValues[5], weight.y);
          else
            if ((arr0y == 5))
              asin_c.y = lerp(asinValues[5], asinValues[6], weight.y);
            else
              if ((arr0y == 6))
                asin_c.y = lerp(asinValues[6], asinValues[7], weight.y);
              else
                if ((arr0y == 7))
                  asin_c.y = lerp(asinValues[7], asinValues[8], weight.y);
                else
                  if ((arr0y == 8))
                    asin_c.y = lerp(asinValues[8], asinValues[9], weight.y);
                  else
                    if ((arr0y == 9))
                      asin_c.y = lerp(asinValues[9], asinValues[10], weight.y);
                    else
                      if ((arr0y == 10))
                        asin_c.y = lerp(asinValues[10], asinValues[11], weight.y);
                      else
                        if ((arr0y == 11))
                          asin_c.y = lerp(asinValues[11], asinValues[12], weight.y);
                        else
                          if ((arr0y == 12))
                            asin_c.y = lerp(asinValues[12], asinValues[13], weight.y);
                          else
                            if ((arr0y == 13))
                              asin_c.y = lerp(asinValues[13], asinValues[14], weight.y);
                            else
                              if ((arr0y == 14))
                                asin_c.y = lerp(asinValues[14], asinValues[15], weight.y);
                              else
                                if ((arr0y == 15))
                                  asin_c.y = lerp(asinValues[15], asinValues[16], weight.y);
                                else
                                  if ((arr0y == 16))
                                    asin_c.y = asinValues[16];
  gl_FragColor = vec4(((asin_c / M_PI) + 0.5), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/asin_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log_vec2_frag_xvary01_ref.frag
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='z')
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))])
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 x = (color.rg + 0.01) / 1.01;
	vec2 y = vec2(0.0);
	vec2 z;
	int n = 50;
	z = abs((x - 1.0) / (x + 1.0));
	vec2 p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= -2.0;
	gl_FragColor = vec4(y / -4.61, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 x = ((color.rg + 0.01) / 1.01);
  vec2 y = vec2(0.0);
  vec2 z;
  int n = 50;
  z = abs(((x - 1.0) / (x + 1.0)));
  vec2 p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= -2.0);
  gl_FragColor = vec4((y / -4.61), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log_vec2_frag_xvary01_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/dot_vec2_vert_xvaryyhalf_ref.vert
filename /home/oof/webgl_cleaned/dot_vec2_vert_xvaryyhalf_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=MemberExpr(base=Identifier(name='gtf_Color'), member='g'))]), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=MemberExpr(base=Identifier(name='gtf_Color'), member='g'))])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(gtf_Color.r + gtf_Color.g) * 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4((vec3((gtf_Color.r + gtf_Color.g)) * 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/dot_vec2_vert_xvaryyhalf_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/atan_float_frag_xvaryyvary_ref.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='>', left=Identifier(name='x'), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')]), right=Identifier(name='epsilon'))
e.left: Identifier(name='x')
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')])
e.right: Identifier(name='epsilon')
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='<', left=Identifier(name='y'), right=FloatLiteral(value=0.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='y')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')])
e.right: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='x')])
e.left: Identifier(name='y')
e.right: Identifier(name='x')
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='atan_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c'))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: Identifier(name='sign')
e.right: Identifier(name='atan_c')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='x')
e.right: Identifier(name='y')
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='atan_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c')))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: Identifier(name='sign')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='atan_c')
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='x')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='y')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='result'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='y')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='result'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='result')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float x = 2.0 * (color.g - 0.5);
	float y = 2.0 * (color.b - 0.5);
	float atan_c = 0.0;
	float scale = 1.0;
	float sign = 1.0;
	vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
	const float epsilon = 1.0e-4;
	if(x > epsilon || abs(y) > epsilon)
	{
		if(x < 0.0 ^^ y < 0.0)
		{
			sign = -1.0;
		}
		if(abs(y) <= abs(x))
		{
			float c = abs(y / x);
			for(int i = 1; i < 12; i += 2)
			{
				atan_c += scale * pow(c, float(i)) / float(i);
				scale *= -1.0;
			}
			result = vec4(sign * atan_c / (2.0 * M_PI) + 0.5, 0.0, 0.0, 1.0);
		}
		else
		{
			float c = abs(x / y);
			for(int i = 1; i < 12; i += 2)
			{
				atan_c += scale * pow(c, float(i)) / float(i);
				scale *= -1.0;
			}
			result = vec4(sign * (M_PI / 2.0 - atan_c) / (2.0 * M_PI) + 0.5, 0.0, 0.0, 1.0);
		}
		if(x < 0.0)
			if(y < 0.0) result.r -= 0.5;
			else if(y > 0.0) result.r += 0.5;
	}
	gl_FragColor = result;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float x = (2.0 * (color.g - 0.5));
  float y = (2.0 * (color.b - 0.5));
  float atan_c = 0.0;
  float scale = 1.0;
  float sign = 1.0;
  vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
  const float epsilon = 0.0001;
  if (((x > epsilon) || (abs(y) > epsilon)))
  {
    if (((x < 0.0) ^^ (y < 0.0)))
    {
      sign = -1.0;
    }
    if ((abs(y) <= abs(x)))
    {
      float c = abs((y / x));
      for (int i = 1; (i < 12); (i += 2))
      {
        (atan_c += ((scale * pow(c, float(i))) / float(i)));
        (scale *= -1.0);
      }
      result = vec4((((sign * atan_c) / (2.0 * M_PI)) + 0.5), 0.0, 0.0, 1.0);
    }
    else
    {
      float c = abs((x / y));
      for (int i = 1; (i < 12); (i += 2))
      {
        (atan_c += ((scale * pow(c, float(i))) / float(i)));
        (scale *= -1.0);
      }
      result = vec4((((sign * ((M_PI / 2.0) - atan_c)) / (2.0 * M_PI)) + 0.5), 0.0, 0.0, 1.0);
    }
    if ((x < 0.0))
      if ((y < 0.0))
        (result.r -= 0.5);
      else
        if ((y > 0.0))
          (result.r += 0.5);
  }
  gl_FragColor = result;
}


Filename: /home/oof/webgl_cleaned/atan_float_frag_xvaryyvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/smoothstep_vec2_vert_xvary_edgeconstquarter_ref.vert
filename /home/oof/webgl_cleaned/smoothstep_vec2_vert_xvary_edgeconstquarter_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=Identifier(name='edge0'))
e.right: BinaryExpr(op='-', left=Identifier(name='edge1'), right=Identifier(name='edge0'))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: Identifier(name='edge0')
e.left: Identifier(name='edge1')
e.right: Identifier(name='edge0')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c')), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c'))
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))
e.left: Identifier(name='c')
e.right: Identifier(name='c')
e.left: FloatLiteral(value=3.0)
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const vec2 edge0 = vec2(0.25, 0.25);
	const vec2 edge1 = vec2(0.75, 0.75);
	vec2 c = clamp((gtf_Color.rg - edge0) / (edge1 - edge0), 0.0, 1.0);
	color = vec4(c * c * (3.0 - 2.0 * c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const vec2 edge0 = vec2(0.25, 0.25);
  const vec2 edge1 = vec2(0.75, 0.75);
  vec2 c = clamp(((gtf_Color.rg - edge0) / (edge1 - edge0)), 0.0, 1.0);
  color = vec4(((c * c) * (3.0 - (2.0 * c))), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/smoothstep_vec2_vert_xvary_edgeconstquarter_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_rg_ba_2vec2_vert.vert
filename /home/oof/webgl_cleaned/vec4_rg_ba_2vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec2 m = lightloc.rg;
	vec2 n = lightloc.ba;
	vec4 a = vec4(m,n);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec2 m = lightloc.rg;
  vec2 n = lightloc.ba;
  vec4 a = vec4(m, n);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_rg_ba_2vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThan_vec3_vert_ref.vert
filename /home/oof/webgl_cleaned/greaterThan_vec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec3 gt(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] > b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] > b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] > b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(gt(c, vec3(0.0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec3 gt(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] > b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] > b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] > b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(gt(c, vec3(0.0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/greaterThan_vec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/discard_cond_frag_ref.frag
e.left: BinaryExpr(op='||', left=BinaryExpr(op='>', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.75)), right=BinaryExpr(op='>', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=0.75)))
e.right: BinaryExpr(op='>', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=0.75))
e.left: BinaryExpr(op='>', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.75))
e.right: BinaryExpr(op='>', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=0.75))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.75)
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=0.75)
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=0.75)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0))])
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='color')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	if(color.r > 0.75 || color.g > 0.75 || color.b > 0.75)
	{
		gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
	}
	else
	{
		gl_FragColor = color;
	}
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  if ((((color.r > 0.75) || (color.g > 0.75)) || (color.b > 0.75)))
  {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
  }
  else
  {
    gl_FragColor = color;
  }
}


Filename: /home/oof/webgl_cleaned/discard_cond_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_float_frag_xconsthalf_yvary_ref.frag
e.left: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = -2.0 * (color.r - 0.5);
	gl_FragColor = vec4(exp2(2.0 * c) / 4.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (-2.0 * (color.r - 0.5));
  gl_FragColor = vec4((exp2((2.0 * c)) / 4.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_float_frag_xconsthalf_yvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3arrayindirect_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.0)])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='lightPosition'), index=IntLiteral(value=0)), right=FloatLiteral(value=0.0))])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='lightPosition'), index=IntLiteral(value=1)), right=FloatLiteral(value=0.0))])
e.left: Identifier(name='gl_FragColor')
e.right: FloatLiteral(value=2.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform vec3 lightPosition[2];
varying vec4  color;
void main()
{
     int i;
     gl_FragColor = vec4(0.0);
	 gl_FragColor += vec4(lightPosition[0], 0.0);
	 gl_FragColor += vec4(lightPosition[1], 0.0);
     gl_FragColor /= 2.0;
}





New source code: precision mediump float;
precision mediump int;

uniform vec3 lightPosition[2];

varying vec4 color;

void main()
{
  int i;
  gl_FragColor = vec4(0.0);
  (gl_FragColor += vec4(lightPosition[0], 0.0));
  (gl_FragColor += vec4(lightPosition[1], 0.0));
  (gl_FragColor /= 2.0);
}


Filename: /home/oof/webgl_cleaned/vec3arrayindirect_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/lessThan_ivec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 lt(in ivec3 a, in ivec3 b)
{
	bvec3 result;
	if(a[0] < b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] < b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] < b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(lt(ivec3(c), ivec3(0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 lt(in ivec3 a, in ivec3 b)
{
  bvec3 result;
  if ((a[0] < b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] < b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] < b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(lt(ivec3(c), ivec3(0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/lessThan_ivec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/ivec4_empty_out_ivec4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=0))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=IntLiteral(value=1))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
ivec4 function(out ivec4 par);
bool is_all(const in ivec4 par, const in int value);
void set_all(out ivec4 par, const in int value);
void main ()
{
	ivec4 par = ivec4(1, 1, 1, 1);
	ivec4 ret = ivec4(0, 0, 0, 0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 0) && is_all(ret, 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
ivec4 function(out ivec4 par)
{
	set_all(par, 0);
	return ivec4(1, 1, 1, 1);
}
bool is_all(const in ivec4 par, const in int value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out ivec4 par, const in int value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

ivec4 function(out ivec4 par);
bool is_all(const in ivec4 par, const in int value);
void set_all(out ivec4 par, const in int value);
void main()
{
  ivec4 par = ivec4(1, 1, 1, 1);
  ivec4 ret = ivec4(0, 0, 0, 0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 0) && is_all(ret, 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

ivec4 function(out ivec4 par)
{
  set_all(par, 0);
  return ivec4(1, 1, 1, 1);
}

bool is_all(const in ivec4 par, const in int value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out ivec4 par, const in int value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/ivec4_empty_out_ivec4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equal_vec2_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * color.rg - 4.5);
	vec2 result = vec2(equal(c, vec2(0.0)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * color.rg) - 4.5));
  vec2 result = vec2(equal(c, vec2(0.0)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/CorrectFull_vert.vert
filename /home/oof/webgl_cleaned/CorrectFull_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:85: 'attribute' :  supported in vertex shaders only
ERROR: 0:86: 'attribute' :  supported in vertex shaders only
ERROR: 0:87: 'attribute' :  supported in vertex shaders only
ERROR: 0:88: 'attribute' :  supported in vertex shaders only
ERROR: 0:89: 'attribute' :  supported in vertex shaders only
ERROR: 0:90: 'attribute' :  supported in vertex shaders only
ERROR: 0:91: 'attribute' :  supported in vertex shaders only
ERROR: 0:92: 'attribute' :  supported in vertex shaders only
ERROR: 0:150: 'attribute' :  supported in vertex shaders only
ERROR: 0:151: 'attribute' :  supported in vertex shaders only
ERROR: 0:152: 'attribute' :  supported in vertex shaders only
ERROR: 0:153: 'attribute' :  supported in vertex shaders only
ERROR: 0:154: 'attribute' :  supported in vertex shaders only
ERROR: 0:155: 'attribute' :  supported in vertex shaders only
ERROR: 0:156: 'attribute' :  supported in vertex shaders only
ERROR: 0:226: '=' : cannot convert from 'const int' to 'mediump float'
ERROR: 0:227: '=' : cannot convert from 'const int' to 'mediump float'
ERROR: 0:228: '=' : cannot convert from 'const int' to 'mediump float'
ERROR: 0:389: 'gl_Position' : undeclared identifier
ERROR: 0:389: 'assign' : l-value required (can't modify a const)
ERROR: 0:389: '=' : dimension mismatch
ERROR: 0:389: 'assign' : cannot convert from 'const 4-component vector of float' to 'const highp float'
ERROR: 0:390: 'gl_Position' : undeclared identifier
ERROR: 0:390: 'assign' : l-value required (can't modify a const)
ERROR: 0:390: '=' : dimension mismatch
ERROR: 0:390: 'assign' : cannot convert from 'attribute mediump 4-component vector of float' to 'const highp float'
ERROR: 0:449: 'assign' : l-value required (can't modify a varying "gtf_FrontColor")
ERROR: 0:450: 'assign' : l-value required (can't modify a varying "gtf_BackColor")
ERROR: 0:451: 'assign' : l-value required (can't modify a varying "gtf_FrontSecondaryColor")
ERROR: 0:452: 'assign' : l-value required (can't modify a varying "gtf_BackSecondaryColor")
ERROR: 0:453: 'assign' : l-value required (can't modify a varying "gtf_TexCoord")
ERROR: 0:454: 'assign' : l-value required (can't modify a varying "gtf_FogFragCoord")
ERROR: 0:471: 'assign' : l-value required (can't modify a varying "varying_flt")

#### END COMPILER 0 INFO LOG ####



self.peek().kind: ;
self.peek().value: ;
self.peek().kind: ;
self.peek().value: ;
self.peek().kind: ;
self.peek().value: ;
self.peek().kind: ;
self.peek().value: ;
self.peek().kind: ;
self.peek().value: ;
self.peek().kind: ;
self.peek().value: ;
e.left: MemberExpr(base=Identifier(name='out1'), member='intensity')
e.right: MemberExpr(base=Identifier(name='in1'), member='intensity')
e.left: MemberExpr(base=Identifier(name='out1'), member='position')
e.right: MemberExpr(base=Identifier(name='in1'), member='position')
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='out1'), member='test_int'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='in1'), member='test_int'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='out1'), member='test_int'), index=IntLiteral(value=1))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='in1'), member='test_int'), index=IntLiteral(value=1))
e.left: MemberExpr(base=Identifier(name='out1'), member='light2')
e.right: MemberExpr(base=Identifier(name='in1'), member='light2')
e.left: BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=FloatLiteral(value=8.0))
e.right: BinaryExpr(op='=', left=Identifier(name='floatConst2'), right=FloatLiteral(value=4.0))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='floatConst2')
e.right: FloatLiteral(value=4.0)
e.left: BinaryExpr(op='&&', left=BoolLiteral(value=True), right=BoolLiteral(value=True))
e.right: BoolLiteral(value=False)
e.left: BoolLiteral(value=True)
e.right: BoolLiteral(value=True)
e.left: BoolLiteral(value=False)
e.right: BinaryExpr(op='&&', left=UnaryExpr(op='!', operand=BoolLiteral(value=False), postfix=False), right=BoolLiteral(value=False))
e.left: UnaryExpr(op='!', operand=BoolLiteral(value=False), postfix=False)
e.right: BoolLiteral(value=False)
e.left: MemberExpr(base=Identifier(name='testStruct'), member='i')
e.right: FloatLiteral(value=5.0)
e.left: MemberExpr(base=Identifier(name='struct_var'), member='i')
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='testStruct')
e.right: Identifier(name='newStruct')
e.left: Identifier(name='newStruct')
e.right: Identifier(name='newStruct1')
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='lightVar'), member='light2'), member='f')
e.right: FloatLiteral(value=1.1)
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='ll1'), member='light2'), member='a')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='ll1'), member='light2')
e.right: MemberExpr(base=Identifier(name='ll2'), member='light2')
e.left: MemberExpr(base=Identifier(name='ll1'), member='light2')
e.right: MemberExpr(base=Identifier(name='ll1'), member='light2')
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='ll1'), member='light2'), member='f')
e.right: MemberExpr(base=MemberExpr(base=Identifier(name='ll2'), member='light2'), member='f')
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='ll1'), member='light2'), member='f')
e.right: MemberExpr(base=MemberExpr(base=Identifier(name='ll1'), member='light2'), member='f')
e.left: MemberExpr(base=IndexExpr(base=Identifier(name='newStruct2'), index=IntLiteral(value=0)), member='i')
e.right: FloatLiteral(value=1.1)
e.left: MemberExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=IndexExpr(base=Identifier(name='ll7'), index=IntLiteral(value=0)), member='light8'), member='light9'), member='light10'), member='f')
e.right: FloatLiteral(value=1.1)
e.left: FloatLiteral(value=1.2)
e.right: FloatLiteral(value=3.0)
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='test_int1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False)), right=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)))
e.right: BinaryExpr(op='!=', left=Identifier(name='test_float1'), right=FloatLiteral(value=0.0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='test_int1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False))
e.right: BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='test_int1'), right=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False))
e.right: UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='FloatConst1'), right=FloatLiteral(value=0.0)), postfix=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='BoolConst1'), right=UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='test_int1'), right=IntLiteral(value=0)), postfix=False))
e.right: UnaryExpr(op='!', operand=Identifier(name='BoolConst1'), postfix=False)
e.left: Identifier(name='BoolConst1')
e.right: UnaryExpr(op='!', operand=BinaryExpr(op='!=', left=Identifier(name='test_int1'), right=IntLiteral(value=0)), postfix=False)
e.left: Identifier(name='test_int1')
e.right: IntLiteral(value=0)
e.left: Identifier(name='FloatConst1')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='FloatConst1')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='test_float1')
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='test_mat10'), index=IntLiteral(value=1))
e.right: Identifier(name='test_vec10')
e.left: Identifier(name='i')
e.right: IntLiteral(value=100)
e.left: Identifier(name='test_float1')
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='freq2'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.9)
e.left: IndexExpr(base=Identifier(name='freq2'), index=Identifier(name='const_test_int1'))
e.right: FloatLiteral(value=1.9)
e.left: IndexExpr(base=Identifier(name='freq2'), index=Identifier(name='array_index'))
e.right: FloatLiteral(value=1.8)
e.left: Identifier(name='test_float1')
e.right: Identifier(name='varying_flt')
e.left: Identifier(name='test_float1')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='bool_var')])
e.left: Identifier(name='test_float1')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='test_int6')])
e.left: Identifier(name='test_int6')
e.right: CallExpr(callee=Identifier(name='int'), args=[Identifier(name='test_float1')])
e.left: Identifier(name='bool_var')
e.right: CallExpr(callee=Identifier(name='bool'), args=[Identifier(name='test_int6')])
e.left: Identifier(name='bool_var')
e.right: CallExpr(callee=Identifier(name='bool'), args=[Identifier(name='test_float1')])
e.left: Identifier(name='test_float1')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='test_vec9')])
e.left: MemberExpr(base=Identifier(name='test_vec2'), member='x')
e.right: FloatLiteral(value=1.2)
e.left: MemberExpr(base=Identifier(name='test_vec2'), member='y')
e.right: FloatLiteral(value=1.4)
e.left: MemberExpr(base=Identifier(name='color'), member='zy')
e.right: Identifier(name='test_vec2')
e.left: IndexExpr(base=Identifier(name='test_vec2'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.1)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='test_mat2'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.1)
e.left: Identifier(name='test_float1')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='test_float1')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='test_float1')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='test_float1')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='test_mat12')
e.right: Identifier(name='test_mat13')
e.left: Identifier(name='test_mat12')
e.right: Identifier(name='test_float1')
e.left: Identifier(name='test_vec2')
e.right: Identifier(name='test_float1')
e.left: Identifier(name='test_vec2')
e.right: Identifier(name='test_mat12')
e.left: Identifier(name='test_vec2')
e.right: BinaryExpr(op='+', left=Identifier(name='test_vec2'), right=Identifier(name='test_float1'))
e.left: Identifier(name='test_vec2')
e.right: Identifier(name='test_float1')
e.left: Identifier(name='test_vec2')
e.right: BinaryExpr(op='+', left=Identifier(name='test_float1'), right=Identifier(name='test_vec2'))
e.left: Identifier(name='test_float1')
e.right: Identifier(name='test_vec2')
e.left: Identifier(name='test_mat12')
e.right: BinaryExpr(op='*', left=Identifier(name='test_mat12'), right=Identifier(name='test_mat13'))
e.left: Identifier(name='test_mat12')
e.right: Identifier(name='test_mat13')
e.left: Identifier(name='test_vec2')
e.right: BinaryExpr(op='*', left=Identifier(name='test_vec2'), right=Identifier(name='test_vec5'))
e.left: Identifier(name='test_vec2')
e.right: Identifier(name='test_vec5')
e.left: Identifier(name='test_float2')
e.right: Identifier(name='test_float3')
e.left: Identifier(name='test_int1')
e.right: Identifier(name='test_int6')
e.left: Identifier(name='test_bool3')
e.right: BinaryExpr(op='==', left=Identifier(name='test_vec2'), right=Identifier(name='test_vec5'))
e.left: Identifier(name='test_vec2')
e.right: Identifier(name='test_vec5')
e.left: Identifier(name='test_bool2')
e.right: BinaryExpr(op='&&', left=Identifier(name='test_bool3'), right=Identifier(name='test_bool4'))
e.left: Identifier(name='test_bool3')
e.right: Identifier(name='test_bool4')
e.left: Identifier(name='test_bool2')
e.right: BinaryExpr(op='||', left=Identifier(name='test_bool3'), right=Identifier(name='test_bool4'))
e.left: Identifier(name='test_bool3')
e.right: Identifier(name='test_bool4')
e.left: Identifier(name='test_bool2')
e.right: BinaryExpr(op='^^', left=Identifier(name='test_bool3'), right=Identifier(name='test_bool4'))
e.left: Identifier(name='test_bool3')
e.right: Identifier(name='test_bool4')
e.left: Identifier(name='test_bool2')
e.right: UnaryExpr(op='!', operand=Identifier(name='test_bool3'), postfix=False)
e.left: Identifier(name='test_bool3')
e.right: UnaryExpr(op='!', operand=BinaryExpr(op='>', left=Identifier(name='test_int1'), right=Identifier(name='test_int6')), postfix=False)
e.left: Identifier(name='test_int1')
e.right: Identifier(name='test_int6')
e.left: Identifier(name='test_float1')
e.right: BinaryExpr(op='>', left=Identifier(name='test_int1'), right=Identifier(name='test_int6'))
e.left: Identifier(name='test_int1')
e.right: Identifier(name='test_int6')
e.left: Identifier(name='test_vec2')
e.right: BinaryExpr(op='>', left=Identifier(name='test_int1'), right=Identifier(name='test_int6'))
e.left: Identifier(name='test_int1')
e.right: Identifier(name='test_int6')
e.left: Identifier(name='test_float1')
e.right: Identifier(name='test_float2')
e.left: Identifier(name='for_int')
e.right: IntLiteral(value=5)
e.left: Identifier(name='x1')
e.right: IntLiteral(value=10)
e.left: Identifier(name='x2')
e.right: IntLiteral(value=100)
e.left: Identifier(name='test_bool2')
e.right: BinaryExpr(op='>', left=Identifier(name='test_float1'), right=Identifier(name='test_float2'))
e.left: Identifier(name='test_float1')
e.right: Identifier(name='test_float2')
e.left: Identifier(name='for_int1')
e.right: IntLiteral(value=100)
e.left: Identifier(name='for_int1')
e.right: IntLiteral(value=100)
e.left: Identifier(name='i')
e.right: IntLiteral(value=100)
e.left: Identifier(name='test_float1')
e.right: Identifier(name='test_float2')
e.left: Identifier(name='i')
e.right: IntLiteral(value=100)
e.left: Identifier(name='i')
e.right: IntLiteral(value=100)
e.left: Identifier(name='dowhile_int')
e.right: IntLiteral(value=3)
e.left: Identifier(name='gl_Position')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=2.0), right=FloatLiteral(value=3.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.1))])
e.left: Identifier(name='gl_Position')
e.right: Identifier(name='gtf_Vertex')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_Color'), right=Identifier(name='gtf_SecondaryColor')), right=Identifier(name='gtf_Vertex')), right=Identifier(name='gtf_MultiTexCoord0')), right=Identifier(name='gtf_MultiTexCoord1')), right=Identifier(name='gtf_MultiTexCoord2'))
e.right: Identifier(name='gtf_MultiTexCoord3')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_Color'), right=Identifier(name='gtf_SecondaryColor')), right=Identifier(name='gtf_Vertex')), right=Identifier(name='gtf_MultiTexCoord0')), right=Identifier(name='gtf_MultiTexCoord1'))
e.right: Identifier(name='gtf_MultiTexCoord2')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_Color'), right=Identifier(name='gtf_SecondaryColor')), right=Identifier(name='gtf_Vertex')), right=Identifier(name='gtf_MultiTexCoord0'))
e.right: Identifier(name='gtf_MultiTexCoord1')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_Color'), right=Identifier(name='gtf_SecondaryColor')), right=Identifier(name='gtf_Vertex'))
e.right: Identifier(name='gtf_MultiTexCoord0')
e.left: BinaryExpr(op='+', left=Identifier(name='gtf_Color'), right=Identifier(name='gtf_SecondaryColor'))
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='gtf_Color')
e.right: Identifier(name='gtf_SecondaryColor')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs')), right=Identifier(name='gtf_MaxVertexUniformComponents')), right=Identifier(name='gtf_MaxVaryingFloats')), right=Identifier(name='gtf_MaxVertexTextureImageUnits')), right=Identifier(name='gtf_MaxCombinedTextureImageUnits')), right=Identifier(name='gtf_MaxTextureImageUnits')), right=Identifier(name='gtf_MaxFragmentUniformComponents'))
e.right: Identifier(name='gtf_MaxDrawBuffers')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs')), right=Identifier(name='gtf_MaxVertexUniformComponents')), right=Identifier(name='gtf_MaxVaryingFloats')), right=Identifier(name='gtf_MaxVertexTextureImageUnits')), right=Identifier(name='gtf_MaxCombinedTextureImageUnits')), right=Identifier(name='gtf_MaxTextureImageUnits'))
e.right: Identifier(name='gtf_MaxFragmentUniformComponents')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs')), right=Identifier(name='gtf_MaxVertexUniformComponents')), right=Identifier(name='gtf_MaxVaryingFloats')), right=Identifier(name='gtf_MaxVertexTextureImageUnits')), right=Identifier(name='gtf_MaxCombinedTextureImageUnits'))
e.right: Identifier(name='gtf_MaxTextureImageUnits')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs')), right=Identifier(name='gtf_MaxVertexUniformComponents')), right=Identifier(name='gtf_MaxVaryingFloats')), right=Identifier(name='gtf_MaxVertexTextureImageUnits'))
e.right: Identifier(name='gtf_MaxCombinedTextureImageUnits')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs')), right=Identifier(name='gtf_MaxVertexUniformComponents')), right=Identifier(name='gtf_MaxVaryingFloats'))
e.right: Identifier(name='gtf_MaxVertexTextureImageUnits')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs')), right=Identifier(name='gtf_MaxVertexUniformComponents'))
e.right: Identifier(name='gtf_MaxVaryingFloats')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords')), right=Identifier(name='gtf_MaxVertexAttribs'))
e.right: Identifier(name='gtf_MaxVertexUniformComponents')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits')), right=Identifier(name='gtf_MaxTextureCoords'))
e.right: Identifier(name='gtf_MaxVertexAttribs')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes')), right=Identifier(name='gtf_MaxTextureUnits'))
e.right: Identifier(name='gtf_MaxTextureCoords')
e.left: BinaryExpr(op='+', left=Identifier(name='gtf_MaxLights'), right=Identifier(name='gtf_MaxClipPlanes'))
e.right: Identifier(name='gtf_MaxTextureUnits')
e.left: Identifier(name='gtf_MaxLights')
e.right: Identifier(name='gtf_MaxClipPlanes')
e.left: BinaryExpr(op='+', left=Identifier(name='gtf_ModelViewMatrix'), right=Identifier(name='gtf_ModelViewProjectionMatrix'))
e.right: Identifier(name='gtf_ProjectionMatrix')
e.left: Identifier(name='gtf_ModelViewMatrix')
e.right: Identifier(name='gtf_ModelViewProjectionMatrix')
e.left: Identifier(name='gtf_MaxTextureCoords')
e.right: IntLiteral(value=1)
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_DepthRange'), member='near')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_DepthRange'), member='far')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_DepthRange'), member='diff')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_FrontMaterial'), member='emission')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_FrontMaterial'), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_FrontMaterial'), member='diffuse')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_FrontMaterial'), member='specular')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_FrontMaterial'), member='shininess')
e.left: Identifier(name='color')
e.right: MemberExpr(base=IndexExpr(base=Identifier(name='gtf_LightSource'), index=IntLiteral(value=0)), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='diffuse')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='specular')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='position')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='halfVector')
e.left: Identifier(name='color4')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='spotDirection')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='spotExponent')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='spotCutoff')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='spotCosCutoff')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='constantAttenuation')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='linearAttenuation')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='lightSource'), member='quadraticAttenuation')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_LightModel'), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_LightModel'), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightModel'), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_FrontLightModelProduct'), member='sceneColor')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightModelProd'), member='sceneColor')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_FrontLightModelProduct'), member='sceneColor')
e.left: Identifier(name='color')
e.right: MemberExpr(base=IndexExpr(base=Identifier(name='gtf_FrontLightProduct'), index=IntLiteral(value=0)), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=IndexExpr(base=Identifier(name='gtf_FrontLightProduct'), index=IntLiteral(value=0)), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightProd'), member='ambient')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightProd'), member='diffuse')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='lightProd'), member='specular')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_Fog'), member='density')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_Fog'), member='start')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_Fog'), member='end')
e.left: Identifier(name='test_float1')
e.right: MemberExpr(base=Identifier(name='gtf_Fog'), member='scale')
e.left: Identifier(name='color')
e.right: MemberExpr(base=Identifier(name='gtf_Fog'), member='color')
e.left: Identifier(name='gtf_FrontColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gtf_BackColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gtf_FrontSecondaryColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gtf_BackSecondaryColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gtf_FogFragCoord')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='out_int')
e.right: IntLiteral(value=5)
e.left: Identifier(name='in_int1')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='ll'), member='i')
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='varying_flt')
e.right: FloatLiteral(value=1.2)
e.left: MemberExpr(base=Identifier(name='ll20'), member='i')
e.right: FloatLiteral(value=10.0)
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='struct_light1'), member='light2'), member='a')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='struct_light1'), member='light2'), member='f')
e.right: MemberExpr(base=Identifier(name='ll5'), member='i')
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=Identifier(name='x'), right=Identifier(name='x'))
e.left: Identifier(name='x')
e.right: Identifier(name='x')
Original source code: precision mediump float;
precision mediump int;

struct gtf_MaterialParameters
{
vec4 emission;
vec4 ambient;
vec4 diffuse;
vec4 specular;
float shininess;
};
struct gtf_LightSourceParameters
{
vec4 ambient;
vec4 diffuse;
vec4 specular;
vec4 position;
vec4 halfVector;
vec3 spotDirection;
float spotExponent;
float spotCutoff;
float spotCosCutoff;
float constantAttenuation;
float linearAttenuation;
float quadraticAttenuation;
};
struct gtf_PointParameters {
float size;
float sizeMin;
float sizeMax;
float fadeThresholdSize;
float distanceConstantAttenuation;
float distanceLinearAttenuation;
float distanceQuadraticAttenuation;
};
struct gtf_DepthRangeParameters {
float near;
float far;
float diff;
};
struct gtf_LightModelParameters {
vec4 ambient;
};
struct gtf_LightModelProducts {
vec4 sceneColor;
};
struct gtf_LightProducts {
vec4 ambient;
vec4 diffuse;
vec4 specular;
};
struct gtf_FogParameters {
vec4 color;
float density;
float start;
float end;
float scale;
};
uniform int gtf_MaxFragmentUniformComponents;
uniform int gtf_MaxVertexUniformComponents;
uniform int gtf_MaxVertexTextureImageUnits;
uniform int gtf_MaxLights;
uniform int gtf_MaxClipPlanes;
uniform int gtf_MaxCombinedTextureImageUnits;
uniform int gtf_MaxTextureCoords;
uniform int gtf_MaxVertexAttribs;
uniform int gtf_MaxVaryingFloats;
uniform int gtf_MaxTextureUnits;
uniform int gtf_MaxDrawBuffers;
uniform int gtf_MaxTextureImageUnits;
uniform gtf_LightProducts gtf_FrontLightProduct[8];
uniform gtf_LightModelProducts gtf_FrontLightModelProduct;
uniform gtf_DepthRangeParameters gtf_DepthRange;
uniform gtf_FogParameters gtf_Fog;
uniform gtf_PointParameters gtf_Point;
uniform gtf_LightModelParameters gtf_LightModel;
varying vec4 gtf_FogFragCoord;
varying vec4 gtf_BackColor;
varying vec4 gtf_BackSecondaryColor;
varying vec4 gtf_FrontSecondaryColor;
varying vec4 gtf_TexCoord[2];
varying vec4 gtf_FrontColor;
uniform gtf_MaterialParameters gtf_FrontMaterial;
uniform gtf_LightSourceParameters gtf_LightSource[8];
attribute vec4 gtf_MultiTexCoord1;
attribute vec4 gtf_MultiTexCoord2;
attribute vec4 gtf_SecondaryColor;
attribute vec4 gtf_Color;
attribute vec4 gtf_MultiTexCoord3;
attribute vec4 gtf_MultiTexCoord0;
attribute vec4 gtf_Normal;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_NormalMatrix;
uniform mat4 gtf_ProjectionMatrix;
uniform mat4 gtf_TextureMatrix[8];
uniform mat4 gtf_ModelViewMatrix;
uniform mat4 gtf_ModelViewProjectionMatrix;
void test_function(const in int in_int, inout int out_int);
int test_function1(in int in_int1, inout int in_out_int);
uniform float array_float[2];
struct nested
{
   int a;
   float f;
};
struct light1
{
   float intensity;
   vec3 position;
   int test_int[2];
   nested light2;
} lightVar;
light1 ll2;
void Assign (out light1 out1, in light1 in1)
{
    out1.intensity = in1.intensity;
     out1.position = in1.position;
  out1.test_int[0] = in1.test_int[0];
  out1.test_int[1] = in1.test_int[1];
       out1.light2 = in1.light2;
}
struct light3 {
    float i;
};
struct light4 {
    float i;
};
struct light5 {
    float i ;
    float a[2];
} light5_inst;
uniform light3 uniformLight3;
struct light6 {
    float i;
};
uniform light6 uniformLight6;
struct slight10{
     float f;
     };
struct slight9{
     slight10 light10;
     };
struct slight8{
     slight9 light9;
     };
struct light7 {
  slight8 light8;
} ;
light3 struct_var = light3(5.0);
attribute float flt_attrib;
attribute vec2 vec2_attrib;
attribute vec3 vec3_attrib;
attribute vec4 vec4_attrib;
attribute mat2 mat2_attrib;
attribute mat3 mat3_attrib;
attribute mat4 mat4_attrib;
uniform float flt_uniform;
uniform vec3 uniform_vec3;
uniform mat3 uniform_mat3;
uniform sampler2D samp[3];
uniform sampler2D samp1;
const struct light12 {
    int a;
} uniform_struct = light12(2);
varying vec3 varying_vec3;
varying vec2 varying_vec2;
varying vec4 varying_vec4;
varying mat4 varying_mat4;
varying mat2 varying_mat2;
varying mat3 varying_mat3;
varying float varying_flt;
float frequencies[2];
void test_function2(int func_int)
{
}
void test_function3(light3);
void test_function4(light5 ll20);
void test_function5(light1);
light6 test_function6(int a);
const float FloatConst1 = 3.0 * 8.0, floatConst2 = 4.0;
const bool BoolConst1 = true && true || false;
const bool BoolConst2 = false || !false && false;
struct structMain {
    float i;
} testStruct;
struct {
    structMain a;
} aStruct;

const struct const_struct {
    float i;
} const_struct_inst = const_struct(1.0);

void main()
{
    int test_int1 = 2;
    const int const_test_int1 = 2;
    testStruct.i = 5.0 ;
    struct_var.i = 5.0;
    structMain newStruct, newStruct1;
    testStruct = newStruct;
    newStruct = newStruct1;
    lightVar.light2.f = 1.1;
    light1 ll1;
    ll1.light2.a = 1;
    Assign (ll1, ll2);
    ll1.light2 = ll2.light2;
    ll1.light2 = ll1.light2;
    ll1.light2.f = ll2.light2.f;
    ll1.light2.f = ll1.light2.f;
    Assign (lightVar, ll2);
    Assign (ll2, lightVar);
    light5 ll10;
    light7 ll7[4];
    structMain newStruct2[2];
    newStruct2[0].i = 1.1;
    ll7[0].light8.light9.light10.f = 1.1;
    bool test_bool4 = false ;
    bool test_bool5 = 1.2 > 3.0 ;
    int test_int2 =  047;
    int test_int4 =  0xa8;
    float test_float1 = 1.5;
    float test_float2 = .01;
    float test_float3 = 10.;
    float test_float4 = 10.01;
    float test_float5 = 23;
    float test_float6 = 23;
    float test_float8 = 23;
    bool test_bool6 = BoolConst1 && ! (test_int1 != 0) && ! BoolConst1  && ! (FloatConst1 != 0.0) && (FloatConst1 != 0.0) && (test_float1 != 0.0);
    vec4 color = vec4(0.0, 1.0, 0.0, 1.0);
    vec4 color2 = vec4(0.0);
    vec3 color4 = vec3(test_float8);
    ivec4 test_int_vect1 = ivec4(1.0,1.0,1.0,1.0);
    ivec3 test_int_vec3 = ivec3(1, 1, 1) ;
    bvec4 test_bool_vect1 = bvec4(1., 1., 1. , 1. );
    vec2 test_vec2 = vec2(1., 1.);
    vec2 test_vec3 = vec2(1., 1);
    vec4 test_vec4 = vec4(test_int_vect1);
    vec2 test_vec5 = vec2(color4);
    vec3 test_vec7 = vec3(color);
    vec3 test_vec8 = vec3(test_vec2, test_float4);
    vec3 test_vec9 = vec3(test_float4, test_vec2);
    vec4 test_vec10 = vec4(test_vec9, 0.01);
    vec4 test_vec11 = vec4(0.01, test_vec9);
    vec4 test_vec12 = vec4(test_vec2, test_vec2);
    mat2 test_mat2 = mat2(test_float3);
    mat3 test_mat3 = mat3(test_float3);
    mat4 test_mat4 = mat4(test_float3);
    mat2 test_mat7 = mat2(test_vec2, test_vec2);
    mat2 test_mat8 = mat2(01.01, 2.01, 3.01, 4.01);
    mat3 test_mat9 = mat3(test_vec7, test_vec7, test_vec7);
    mat4 test_mat10 = mat4(test_vec10, test_vec10, test_vec10, test_vec10);
    test_mat10[1] = test_vec10;
    mat2 test_mat12 = mat2(test_vec2, 0.01, 0.01);
    mat2 test_mat13 = mat2(0.01, 5., test_vec2);
    mat2 test_mat15 = mat2(0.1, 5., test_vec2 );
    float freq1[2];
    float freq2[25];
    for (int i=0; i<100; i++)
    {
      if (test_float1 < 1.0)
      {
      }
      else
      {
        break;
      }
    }
    freq2[1] = 1.9 ;
    const int array_index = 2;
    freq2[const_test_int1] = 1.9 ;
    freq2[array_index] = 1.8;
    const int const_int = 5;
    test_float1 = varying_flt;
    int out_int;
    int intArray[6];
    test_function(test_int1, test_int1);
    test_function(test_int1, intArray[2]);
    vec3 vv = vec3(test_function1(test_int1, out_int));
    bool bool_var = true;
    int test_int6 = int(bool_var);
    test_float1 = float(bool_var);
    test_float1 = float(test_int6);
    test_int6 = int(test_float1);
    bool_var = bool(test_int6);
    bool_var = bool(test_float1);
    test_float1 = float(test_vec9);
    test_vec2.x = 1.2;
    test_vec2.y = 1.4;
    test_vec2.xy;
    color.zy = test_vec2;
   test_vec2[1] = 1.1;
     test_mat2[0][0] = 1.1;
    test_float1 += 1.0;
    test_float1 -= 1.0;
    test_float1 *= 1.0;
    test_float1 /= 1.0;
    test_mat12 *= test_mat13 ;
    test_mat12  *= test_float1;
    test_vec2 *= test_float1;
    test_vec2 *= test_mat12;
    test_float1++;
    test_float1--;
    --test_float1;
    ++test_float1;
    test_float1;
    test_int1++;
    test_int1--;
    test_vec2 = test_vec2 + test_float1;
    test_vec2 = test_float1 + test_vec2;
    test_mat12 = test_mat12 * test_mat13;
    test_vec2 = test_vec2 * test_vec5;
    test_vec2++;
    test_mat2++;
    bool test_bool2 = test_float2 > test_float3;
    bool test_bool3 = test_int1 > test_int6 ;
    test_bool3 = test_vec2 == test_vec5;
    test_bool2 = test_bool3 && test_bool4;
    test_bool2 = test_bool3 || test_bool4;
    test_bool2 = test_bool3 ^^ test_bool4;
    test_bool2 = !test_bool3;
    test_bool3 = !(test_int1 > test_int6) ;
    test_float1 = test_int1 > test_int6 ? test_float2 : test_float3;
    test_vec2 = test_int1 > test_int6 ? test_vec2 : test_vec5;
    if(test_bool2)
        test_float1++;
    else
	test_float1--;
    if(test_float1 > test_float2)
        test_float1++;
    if( test_bool2 )
    {
        int if_int;
        test_float1++;
    }
    if(test_bool2)
       if(test_bool3)
           if(test_bool3)
	      test_float1++;
   for(int for_int=0; for_int < 5; for_int++)
   {
   }
   for(int x1=0; x1 < 10; x1++)
   {
     if (!test_bool2)
       break;
     int for_int;
   }
   for(int x2=-10; x2 < 100; x2++)
   {
     test_bool2 = (test_float1 > test_float2);
     if (!test_bool2)
       break;
   }
   for(int for_int1 = 0; for_int1 < 100; for_int1++)
   {
     if (!test_bool2)
       break;
     int for_int;
   }
   for(int for_int1 = 0; for_int1 < 100; for_int1++)
   {
     if (!test_bool2)
       continue;
     int for_int;
   }
   for(int i=0; i<100; i++)
   {
     if (!(test_float1 > test_float2))
     {
       break;
     }
     break;
     continue;
   }
   for(int i=0; i<100; i++)
   {
     if (!test_bool2)
       break;
     break;
   }
   for (int i=0; i<100; i++)
   {
     int dowhile_int;
     dowhile_int = 3;
     if (!test_bool2)
       break;
   }
    gl_Position = vec4(2.0, 3.0, 1.0, 1.1);
    gl_Position = gtf_Vertex;
    vec4 builtInV4 = gtf_Color + gtf_SecondaryColor + gtf_Vertex + gtf_MultiTexCoord0 + gtf_MultiTexCoord1 + gtf_MultiTexCoord2 +  gtf_MultiTexCoord3;
    int builtInI = gtf_MaxLights + gtf_MaxClipPlanes + gtf_MaxTextureUnits + gtf_MaxTextureCoords + gtf_MaxVertexAttribs + gtf_MaxVertexUniformComponents + gtf_MaxVaryingFloats + gtf_MaxVertexTextureImageUnits + gtf_MaxCombinedTextureImageUnits + gtf_MaxTextureImageUnits + gtf_MaxFragmentUniformComponents + gtf_MaxDrawBuffers ;
    mat4 builtInM4 = gtf_ModelViewMatrix + gtf_ModelViewProjectionMatrix + gtf_ProjectionMatrix;
    gtf_NormalMatrix;
    gtf_TextureMatrix[gtf_MaxTextureCoords-1];
    gtf_TextureMatrix;
    gtf_DepthRange.near ;
    test_float1 = gtf_DepthRange.near;
    test_float1 = gtf_DepthRange.far;
    test_float1 = gtf_DepthRange.diff;
    gtf_Point.size;
    gtf_Point.sizeMin;
    gtf_Point.sizeMax;
    gtf_Point.fadeThresholdSize ;
    gtf_Point.distanceConstantAttenuation;
    gtf_Point.distanceLinearAttenuation ;
    gtf_Point.distanceQuadraticAttenuation;
    gtf_MaterialParameters test;
    gtf_FrontMaterial.emission;
    color = gtf_FrontMaterial.emission;
    color = gtf_FrontMaterial.ambient;
    color = gtf_FrontMaterial.diffuse;
    color = gtf_FrontMaterial.specular;
    test_float1 = gtf_FrontMaterial.shininess;
    gtf_LightSourceParameters lightSource;
    float builtInFloat1 = gtf_LightSource[0].spotExponent;
    color = gtf_LightSource[0].ambient;
    color = lightSource.ambient;
    color = lightSource.diffuse;
    color = lightSource.specular;
    color = lightSource.position;
    color = lightSource.halfVector;
    color4 = lightSource.spotDirection;
    test_float1 = lightSource.spotExponent;
    test_float1 = lightSource.spotCutoff;
    test_float1 = lightSource.spotCosCutoff;
    test_float1 = lightSource.constantAttenuation;
    test_float1 = lightSource.linearAttenuation;
    test_float1 = lightSource.quadraticAttenuation;
    color = gtf_LightModel.ambient;
    gtf_LightModelParameters lightModel;
    color = gtf_LightModel.ambient;
    color = lightModel.ambient;
    color = gtf_FrontLightModelProduct.sceneColor ;
    gtf_LightModelProducts lightModelProd;
    color = lightModelProd.sceneColor;
    color = gtf_FrontLightModelProduct.sceneColor;
    color = gtf_FrontLightProduct[0].ambient;
    color = gtf_FrontLightProduct[0].ambient;
    gtf_LightProducts lightProd;
    color =  lightProd.ambient;
    color =  lightProd.diffuse;
    color =  lightProd.specular;
    test_float1 = gtf_Fog.density ;
    test_float1 = gtf_Fog.start ;
    test_float1 = gtf_Fog.end  ;
    test_float1 = gtf_Fog.scale ;
    color = gtf_Fog.color ;
    gtf_FrontColor =  vec4(1.0, 1.0, 1.0, 1.0);
    gtf_BackColor =  vec4(1.0, 1.0, 1.0, 1.0);
    gtf_FrontSecondaryColor =  vec4(1.0, 1.0, 1.0, 1.0);
    gtf_BackSecondaryColor =  vec4(1.0, 1.0, 1.0, 1.0);
    gtf_TexCoord[0] =  vec4(1.0, 1.0, 1.0, 1.0);
    gtf_FogFragCoord =  vec4(1.0, 1.0, 1.0, 1.0);
}
void test_function(const in int in_int, inout int out_int)
{
    out_int = 5;
    int i = 5;
    return ;
}
int test_function1(in int in_int1, inout int in_out_int)
{
   float ff;
   in_int1 = 5;
   return in_int1;
}
void test_function3(light3 ll)
{
    ll.i = 5.0;
    varying_flt = 1.2;
}
void test_function4(light5 ll20)
{
    ll20.i = 10.0;
}
void test_function5(light1 struct_light1)
{
    struct_light1.light2.a = 1;
    light5 ll5;
    struct_light1.light2.f = ll5.i;
    struct_light1.light2.f++;
    struct_light1.light2.a++;
}
light6 test_function6(int a)
{
    int x;
    light6 funcStruct;
    light7 funcStruct1;
    -x;
    x = x - x ;
    mat2 m;
    m++;
    -m;
    (m)++;
    return funcStruct;
}

struct ss1 {
    int a;
};

float test_function7(light1 ll1, int light1 )
{
    float f;
    return float(1);
}





New source code: precision mediump float;
precision mediump int;

struct gtf_MaterialParameters {
  vec4 emission;
  vec4 ambient;
  vec4 diffuse;
  vec4 specular;
  float shininess;
};

struct gtf_LightSourceParameters {
  vec4 ambient;
  vec4 diffuse;
  vec4 specular;
  vec4 position;
  vec4 halfVector;
  vec3 spotDirection;
  float spotExponent;
  float spotCutoff;
  float spotCosCutoff;
  float constantAttenuation;
  float linearAttenuation;
  float quadraticAttenuation;
};

struct gtf_PointParameters {
  float size;
  float sizeMin;
  float sizeMax;
  float fadeThresholdSize;
  float distanceConstantAttenuation;
  float distanceLinearAttenuation;
  float distanceQuadraticAttenuation;
};

struct gtf_DepthRangeParameters {
  float near;
  float far;
  float diff;
};

struct gtf_LightModelParameters {
  vec4 ambient;
};

struct gtf_LightModelProducts {
  vec4 sceneColor;
};

struct gtf_LightProducts {
  vec4 ambient;
  vec4 diffuse;
  vec4 specular;
};

struct gtf_FogParameters {
  vec4 color;
  float density;
  float start;
  float end;
  float scale;
};

uniform int gtf_MaxFragmentUniformComponents;

uniform int gtf_MaxVertexUniformComponents;

uniform int gtf_MaxVertexTextureImageUnits;

uniform int gtf_MaxLights;

uniform int gtf_MaxClipPlanes;

uniform int gtf_MaxCombinedTextureImageUnits;

uniform int gtf_MaxTextureCoords;

uniform int gtf_MaxVertexAttribs;

uniform int gtf_MaxVaryingFloats;

uniform int gtf_MaxTextureUnits;

uniform int gtf_MaxDrawBuffers;

uniform int gtf_MaxTextureImageUnits;

uniform gtf_LightProducts gtf_FrontLightProduct[8];

uniform gtf_LightModelProducts gtf_FrontLightModelProduct;

uniform gtf_DepthRangeParameters gtf_DepthRange;

uniform gtf_FogParameters gtf_Fog;

uniform gtf_PointParameters gtf_Point;

uniform gtf_LightModelParameters gtf_LightModel;

varying vec4 gtf_FogFragCoord;

varying vec4 gtf_BackColor;

varying vec4 gtf_BackSecondaryColor;

varying vec4 gtf_FrontSecondaryColor;

varying vec4 gtf_TexCoord[2];

varying vec4 gtf_FrontColor;

uniform gtf_MaterialParameters gtf_FrontMaterial;

uniform gtf_LightSourceParameters gtf_LightSource[8];

vec4 gtf_MultiTexCoord1;

vec4 gtf_MultiTexCoord2;

vec4 gtf_SecondaryColor;

vec4 gtf_Color;

vec4 gtf_MultiTexCoord3;

vec4 gtf_MultiTexCoord0;

vec4 gtf_Normal;

vec4 gtf_Vertex;

uniform mat4 gtf_NormalMatrix;

uniform mat4 gtf_ProjectionMatrix;

uniform mat4 gtf_TextureMatrix[8];

uniform mat4 gtf_ModelViewMatrix;

uniform mat4 gtf_ModelViewProjectionMatrix;

void test_function(const in int in_int, inout int out_int);
int test_function1(in int in_int1, inout int in_out_int);
uniform float array_float[2];

struct nested {
  int a;
  float f;
};

struct light1 {
  float intensity;
  vec3 position;
  int test_int[2];
  nested light2;
} lightVar;

light1 ll2;

void Assign(out light1 out1, in light1 in1)
{
  out1.intensity = in1.intensity;
  out1.position = in1.position;
  out1.test_int[0] = in1.test_int[0];
  out1.test_int[1] = in1.test_int[1];
  out1.light2 = in1.light2;
}

struct light3 {
  float i;
};

struct light4 {
  float i;
};

struct light5 {
  float i;
  float a[2];
} light5_inst;

uniform light3 uniformLight3;

struct light6 {
  float i;
};

uniform light6 uniformLight6;

struct slight10 {
  float f;
};

struct slight9 {
  slight10 light10;
};

struct slight8 {
  slight9 light9;
};

struct light7 {
  slight8 light8;
};

light3 struct_var = light3(5.0);

float flt_attrib;

vec2 vec2_attrib;

vec3 vec3_attrib;

vec4 vec4_attrib;

mat2 mat2_attrib;

mat3 mat3_attrib;

mat4 mat4_attrib;

uniform float flt_uniform;

uniform vec3 uniform_vec3;

uniform mat3 uniform_mat3;

uniform sampler2D samp[3];

uniform sampler2D samp1;

struct light12 {
  int a;
} uniform_struct = light12(2);

varying vec3 varying_vec3;

varying vec2 varying_vec2;

varying vec4 varying_vec4;

varying mat4 varying_mat4;

varying mat2 varying_mat2;

varying mat3 varying_mat3;

varying float varying_flt;

float frequencies[2];

void test_function2(int func_int)
{
}

void test_function3(light3 None);
void test_function4(light5 ll20);
void test_function5(light1 None);
light6 test_function6(int a);
const float FloatConst1 = (3.0 * 8.0) , floatConst2 = 4.0;

const bool BoolConst1 = ((true && true) || false);

const bool BoolConst2 = (false || (!false && false));

struct structMain {
  float i;
} testStruct;

struct {
  structMain a;
} aStruct;

struct const_struct {
  float i;
} const_struct_inst = const_struct(1.0);

void main()
{
  int test_int1 = 2;
  const int const_test_int1 = 2;
  testStruct.i = 5.0;
  struct_var.i = 5.0;
  structMain newStruct, newStruct1;
  testStruct = newStruct;
  newStruct = newStruct1;
  lightVar.light2.f = 1.1;
  light1 ll1;
  ll1.light2.a = 1;
  Assign(ll1, ll2);
  ll1.light2 = ll2.light2;
  ll1.light2 = ll1.light2;
  ll1.light2.f = ll2.light2.f;
  ll1.light2.f = ll1.light2.f;
  Assign(lightVar, ll2);
  Assign(ll2, lightVar);
  light5 ll10;
  light7 ll7[4];
  structMain newStruct2[2];
  newStruct2[0].i = 1.1;
  ll7[0].light8.light9.light10.f = 1.1;
  bool test_bool4 = false;
  bool test_bool5 = (1.2 > 3.0);
  int test_int2 = 39;
  int test_int4 = 168;
  float test_float1 = 1.5;
  float test_float2 = 0.01;
  float test_float3 = 10.0;
  float test_float4 = 10.01;
  float test_float5 = 23;
  float test_float6 = 23;
  float test_float8 = 23;
  bool test_bool6 = (((((BoolConst1 && !(test_int1 != 0)) && !BoolConst1) && !(FloatConst1 != 0.0)) && (FloatConst1 != 0.0)) && (test_float1 != 0.0));
  vec4 color = vec4(0.0, 1.0, 0.0, 1.0);
  vec4 color2 = vec4(0.0);
  vec3 color4 = vec3(test_float8);
  ivec4 test_int_vect1 = ivec4(1.0, 1.0, 1.0, 1.0);
  ivec3 test_int_vec3 = ivec3(1, 1, 1);
  bvec4 test_bool_vect1 = bvec4(1.0, 1.0, 1.0, 1.0);
  vec2 test_vec2 = vec2(1.0, 1.0);
  vec2 test_vec3 = vec2(1.0, 1);
  vec4 test_vec4 = vec4(test_int_vect1);
  vec2 test_vec5 = vec2(color4);
  vec3 test_vec7 = vec3(color);
  vec3 test_vec8 = vec3(test_vec2, test_float4);
  vec3 test_vec9 = vec3(test_float4, test_vec2);
  vec4 test_vec10 = vec4(test_vec9, 0.01);
  vec4 test_vec11 = vec4(0.01, test_vec9);
  vec4 test_vec12 = vec4(test_vec2, test_vec2);
  mat2 test_mat2 = mat2(test_float3);
  mat3 test_mat3 = mat3(test_float3);
  mat4 test_mat4 = mat4(test_float3);
  mat2 test_mat7 = mat2(test_vec2, test_vec2);
  mat2 test_mat8 = mat2(1.01, 2.01, 3.01, 4.01);
  mat3 test_mat9 = mat3(test_vec7, test_vec7, test_vec7);
  mat4 test_mat10 = mat4(test_vec10, test_vec10, test_vec10, test_vec10);
  test_mat10[1] = test_vec10;
  mat2 test_mat12 = mat2(test_vec2, 0.01, 0.01);
  mat2 test_mat13 = mat2(0.01, 5.0, test_vec2);
  mat2 test_mat15 = mat2(0.1, 5.0, test_vec2);
  float freq1[2];
  float freq2[25];
  for (int i = 0; (i < 100); i++)
  {
    if ((test_float1 < 1.0))
    {
    }
    else
    {
      break;
    }
  }
  freq2[1] = 1.9;
  const int array_index = 2;
  freq2[const_test_int1] = 1.9;
  freq2[array_index] = 1.8;
  const int const_int = 5;
  test_float1 = varying_flt;
  int out_int;
  int intArray[6];
  test_function(test_int1, test_int1);
  test_function(test_int1, intArray[2]);
  vec3 vv = vec3(test_function1(test_int1, out_int));
  bool bool_var = true;
  int test_int6 = int(bool_var);
  test_float1 = float(bool_var);
  test_float1 = float(test_int6);
  test_int6 = int(test_float1);
  bool_var = bool(test_int6);
  bool_var = bool(test_float1);
  test_float1 = float(test_vec9);
  test_vec2.x = 1.2;
  test_vec2.y = 1.4;
  test_vec2.xy;
  color.zy = test_vec2;
  test_vec2[1] = 1.1;
  test_mat2[0][0] = 1.1;
  (test_float1 += 1.0);
  (test_float1 -= 1.0);
  (test_float1 *= 1.0);
  (test_float1 /= 1.0);
  (test_mat12 *= test_mat13);
  (test_mat12 *= test_float1);
  (test_vec2 *= test_float1);
  (test_vec2 *= test_mat12);
  test_float1++;
  test_float1--;
  --test_float1;
  ++test_float1;
  test_float1;
  test_int1++;
  test_int1--;
  test_vec2 = (test_vec2 + test_float1);
  test_vec2 = (test_float1 + test_vec2);
  test_mat12 = (test_mat12 * test_mat13);
  test_vec2 = (test_vec2 * test_vec5);
  test_vec2++;
  test_mat2++;
  bool test_bool2 = (test_float2 > test_float3);
  bool test_bool3 = (test_int1 > test_int6);
  test_bool3 = (test_vec2 == test_vec5);
  test_bool2 = (test_bool3 && test_bool4);
  test_bool2 = (test_bool3 || test_bool4);
  test_bool2 = (test_bool3 ^^ test_bool4);
  test_bool2 = !test_bool3;
  test_bool3 = !(test_int1 > test_int6);
  (test_float1 = (test_int1 > test_int6) ? test_float2 : test_float3);
  (test_vec2 = (test_int1 > test_int6) ? test_vec2 : test_vec5);
  if (test_bool2)
    test_float1++;
  else
    test_float1--;
  if ((test_float1 > test_float2))
    test_float1++;
  if (test_bool2)
  {
    int if_int;
    test_float1++;
  }
  if (test_bool2)
    if (test_bool3)
      if (test_bool3)
        test_float1++;
  for (int for_int = 0; (for_int < 5); for_int++)
  {
  }
  for (int x1 = 0; (x1 < 10); x1++)
  {
    if (!test_bool2)
      break;
    int for_int;
  }
  for (int x2 = -10; (x2 < 100); x2++)
  {
    test_bool2 = (test_float1 > test_float2);
    if (!test_bool2)
      break;
  }
  for (int for_int1 = 0; (for_int1 < 100); for_int1++)
  {
    if (!test_bool2)
      break;
    int for_int;
  }
  for (int for_int1 = 0; (for_int1 < 100); for_int1++)
  {
    if (!test_bool2)
      continue;
    int for_int;
  }
  for (int i = 0; (i < 100); i++)
  {
    if (!(test_float1 > test_float2))
    {
      break;
    }
    break;
    continue;
  }
  for (int i = 0; (i < 100); i++)
  {
    if (!test_bool2)
      break;
    break;
  }
  for (int i = 0; (i < 100); i++)
  {
    int dowhile_int;
    dowhile_int = 3;
    if (!test_bool2)
      break;
  }
  gl_Position = vec4(2.0, 3.0, 1.0, 1.1);
  gl_Position = gtf_Vertex;
  vec4 builtInV4 = ((((((gtf_Color + gtf_SecondaryColor) + gtf_Vertex) + gtf_MultiTexCoord0) + gtf_MultiTexCoord1) + gtf_MultiTexCoord2) + gtf_MultiTexCoord3);
  int builtInI = (((((((((((gtf_MaxLights + gtf_MaxClipPlanes) + gtf_MaxTextureUnits) + gtf_MaxTextureCoords) + gtf_MaxVertexAttribs) + gtf_MaxVertexUniformComponents) + gtf_MaxVaryingFloats) + gtf_MaxVertexTextureImageUnits) + gtf_MaxCombinedTextureImageUnits) + gtf_MaxTextureImageUnits) + gtf_MaxFragmentUniformComponents) + gtf_MaxDrawBuffers);
  mat4 builtInM4 = ((gtf_ModelViewMatrix + gtf_ModelViewProjectionMatrix) + gtf_ProjectionMatrix);
  gtf_NormalMatrix;
  gtf_TextureMatrix[(gtf_MaxTextureCoords - 1)];
  gtf_TextureMatrix;
  gtf_DepthRange.near;
  test_float1 = gtf_DepthRange.near;
  test_float1 = gtf_DepthRange.far;
  test_float1 = gtf_DepthRange.diff;
  gtf_Point.size;
  gtf_Point.sizeMin;
  gtf_Point.sizeMax;
  gtf_Point.fadeThresholdSize;
  gtf_Point.distanceConstantAttenuation;
  gtf_Point.distanceLinearAttenuation;
  gtf_Point.distanceQuadraticAttenuation;
  gtf_MaterialParameters test;
  gtf_FrontMaterial.emission;
  color = gtf_FrontMaterial.emission;
  color = gtf_FrontMaterial.ambient;
  color = gtf_FrontMaterial.diffuse;
  color = gtf_FrontMaterial.specular;
  test_float1 = gtf_FrontMaterial.shininess;
  gtf_LightSourceParameters lightSource;
  float builtInFloat1 = gtf_LightSource[0].spotExponent;
  color = gtf_LightSource[0].ambient;
  color = lightSource.ambient;
  color = lightSource.diffuse;
  color = lightSource.specular;
  color = lightSource.position;
  color = lightSource.halfVector;
  color4 = lightSource.spotDirection;
  test_float1 = lightSource.spotExponent;
  test_float1 = lightSource.spotCutoff;
  test_float1 = lightSource.spotCosCutoff;
  test_float1 = lightSource.constantAttenuation;
  test_float1 = lightSource.linearAttenuation;
  test_float1 = lightSource.quadraticAttenuation;
  color = gtf_LightModel.ambient;
  gtf_LightModelParameters lightModel;
  color = gtf_LightModel.ambient;
  color = lightModel.ambient;
  color = gtf_FrontLightModelProduct.sceneColor;
  gtf_LightModelProducts lightModelProd;
  color = lightModelProd.sceneColor;
  color = gtf_FrontLightModelProduct.sceneColor;
  color = gtf_FrontLightProduct[0].ambient;
  color = gtf_FrontLightProduct[0].ambient;
  gtf_LightProducts lightProd;
  color = lightProd.ambient;
  color = lightProd.diffuse;
  color = lightProd.specular;
  test_float1 = gtf_Fog.density;
  test_float1 = gtf_Fog.start;
  test_float1 = gtf_Fog.end;
  test_float1 = gtf_Fog.scale;
  color = gtf_Fog.color;
  gtf_FrontColor = vec4(1.0, 1.0, 1.0, 1.0);
  gtf_BackColor = vec4(1.0, 1.0, 1.0, 1.0);
  gtf_FrontSecondaryColor = vec4(1.0, 1.0, 1.0, 1.0);
  gtf_BackSecondaryColor = vec4(1.0, 1.0, 1.0, 1.0);
  gtf_TexCoord[0] = vec4(1.0, 1.0, 1.0, 1.0);
  gtf_FogFragCoord = vec4(1.0, 1.0, 1.0, 1.0);
}

void test_function(const in int in_int, inout int out_int)
{
  out_int = 5;
  int i = 5;
  return;
}

int test_function1(in int in_int1, inout int in_out_int)
{
  float ff;
  in_int1 = 5;
  return in_int1;
}

void test_function3(light3 ll)
{
  ll.i = 5.0;
  varying_flt = 1.2;
}

void test_function4(light5 ll20)
{
  ll20.i = 10.0;
}

void test_function5(light1 struct_light1)
{
  struct_light1.light2.a = 1;
  light5 ll5;
  struct_light1.light2.f = ll5.i;
  struct_light1.light2.f++;
  struct_light1.light2.a++;
}

light6 test_function6(int a)
{
  int x;
  light6 funcStruct;
  light7 funcStruct1;
  -x;
  x = (x - x);
  mat2 m;
  m++;
  -m;
  m++;
  return funcStruct;
}

struct ss1 {
  int a;
};

float test_function7(light1 ll1, int light1)
{
  float f;
  return float(1);
}


Filename: /home/oof/webgl_cleaned/CorrectFull_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/CorrectConstFolding1_vert.vert
filename /home/oof/webgl_cleaned/CorrectConstFolding1_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:28: 'gl_Position' : undeclared identifier
ERROR: 0:28: 'assign' : l-value required (can't modify a const)
ERROR: 0:28: '=' : dimension mismatch
ERROR: 0:28: 'assign' : cannot convert from 'const mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



self.peek().kind: ;
self.peek().value: ;
self.peek().kind: ;
self.peek().value: ;
e.left: MemberExpr(base=Identifier(name='s11'), member='i')
e.right: MemberExpr(base=MemberExpr(base=Identifier(name='s11'), member='ss'), member='i')
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='s11'), member='s44'), member='v4')
e.right: MemberExpr(base=MemberExpr(base=Identifier(name='s11'), member='s44'), member='v4')
e.left: Identifier(name='gl_Position')
e.right: Identifier(name='v4')
Original source code: precision mediump float;
precision mediump int;

const struct s2 {
    int i;
    vec3 v3;
    bvec4 bv4;
} s22  = s2(8, vec3(9, 10, 11), bvec4(true, false, true, false));

struct s4 {
    int ii;
    vec4 v4;
   };

const struct s1 {
   s2 ss;
   int i;
   float f;
   mat4 m;
s4 s44;
} s11 = s1(s22, 2, 4.0, mat4(5), s4(6, vec4(7, 8, 9, 10))) ;

void main()
{
  const int field3 = s11.i * s11.ss.i;
  const vec4 field4 = s11.s44.v4 * s11.s44.v4;
  const vec4 v4 = vec4(s11.ss.v3.y, s11.m[3][3], field3, field4[2]);
  gl_Position = v4;
}





New source code: precision mediump float;
precision mediump int;

struct s2 {
  int i;
  vec3 v3;
  bvec4 bv4;
} s22 = s2(8, vec3(9, 10, 11), bvec4(true, false, true, false));

struct s4 {
  int ii;
  vec4 v4;
};

struct s1 {
  s2 ss;
  int i;
  float f;
  mat4 m;
  s4 s44;
} s11 = s1(s22, 2, 4.0, mat4(5), s4(6, vec4(7, 8, 9, 10)));

void main()
{
  const int field3 = (s11.i * s11.ss.i);
  const vec4 field4 = (s11.s44.v4 * s11.s44.v4);
  const vec4 v4 = vec4(s11.ss.v3.y, s11.m[3][3], field3, field4[2]);
  gl_Position = v4;
}


Filename: /home/oof/webgl_cleaned/CorrectConstFolding1_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log_vec3_vert_xvary01.vert
filename /home/oof/webgl_cleaned/log_vec3_vert_xvary01.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')]), right=UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')])
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = (gtf_Color.rgb + 0.01) / 1.01;
	color = vec4(log(c) / -4.61, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = ((gtf_Color.rgb + 0.01) / 1.01);
  color = vec4((log(c) / -4.61), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_vec3_vert_xvary01.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_tsqp_1vec4_vert.vert
filename /home/oof/webgl_cleaned/vec4_tsqp_1vec4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec4 m = lightloc.tsqp;
	vec4 a = vec4(m.t, m.s, m.q, m.p);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec4 m = lightloc.tsqp;
  vec4 a = vec4(m.t, m.s, m.q, m.p);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_tsqp_1vec4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/min_float_vert_xvary_yconsthalf.vert
filename /home/oof/webgl_cleaned/min_float_vert_xvary_yconsthalf.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='min'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='min_c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float min_c = 0.5;
	float c = gtf_Color.r;
	color = vec4(min(c, min_c), 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float min_c = 0.5;
  float c = gtf_Color.r;
  color = vec4(min(c, min_c), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/min_float_vert_xvary_yconsthalf.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/default_textured.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='gtf_Texture0'), right=MemberExpr(base=IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0)), member='xy'))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform sampler2D gtf_Texture0;
varying vec4 color;
varying vec4 gtf_TexCoord[1];
void main ()
{
	gl_FragColor = texture2D(gtf_Texture0, gtf_TexCoord[0].xy);
}





New source code: precision mediump float;
precision mediump int;

uniform sampler2D gtf_Texture0;

varying vec4 color;

varying vec4 gtf_TexCoord[1];

void main()
{
  gl_FragColor = texture2D(gtf_Texture0, gtf_TexCoord[0].xy);
}


Filename: /home/oof/webgl_cleaned/default_textured.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/extension3_V100_frag.frag
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
}





New source code: precision mediump float;
precision mediump int;

void main()
{
}


Filename: /home/oof/webgl_cleaned/extension3_V100_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/lessThanEqual_vec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 lte(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] <= b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] <= b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] <= b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(lte(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 lte(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] <= b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] <= b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] <= b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(lte(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/lessThanEqual_vec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/float_empty_in_float_array_vert.vert
filename /home/oof/webgl_cleaned/float_empty_in_float_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=1.0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float function(in float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main ()
{
	float par[3];
	float ret = 0.0;
	float gray = 0.0;
	set_all(par, 1.0);
	ret = function(par);
	if(is_all(par, 1.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
float function(in float par[3])
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return 1.0;
	}
	else
		return 0.0;
}
bool is_all(const in float array[3], const in float value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out float array[3], const in float value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float function(in float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main()
{
  float par[3];
  float ret = 0.0;
  float gray = 0.0;
  set_all(par, 1.0);
  ret = function(par);
  if ((is_all(par, 1.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

float function(in float par[3])
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return 1.0;
  }
  else
    return 0.0;
}

bool is_all(const in float array[3], const in float value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out float array[3], const in float value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/float_empty_in_float_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_vec4_vert.vert
filename /home/oof/webgl_cleaned/vec3_vec4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=FloatLiteral(value=139.0))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=53.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=139.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 b = vec4(13.0, 53.0, 139.0, 217.0);
	vec3 a = vec3(b);
	float gray;
	if( (a[0] == 13.0) && (a[1] == 53.0) && (a[2] == 139.0) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 b = vec4(13.0, 53.0, 139.0, 217.0);
  vec3 a = vec3(b);
  float gray;
  if ((((a[0] == 13.0) && (a[1] == 53.0)) && (a[2] == 139.0)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec3_vec4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/point_rasterization.vert
filename /home/oof/webgl_cleaned/point_rasterization.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'
ERROR: 0:13: 'gl_PointSize' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='gl_PointSize')
e.right: Identifier(name='gtf_PointSize')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
uniform float gtf_PointSize;
varying vec4 color;
void main ()
{
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
	gl_PointSize = gtf_PointSize;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

uniform float gtf_PointSize;

varying vec4 color;

void main()
{
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
  gl_PointSize = gtf_PointSize;
}


Filename: /home/oof/webgl_cleaned/point_rasterization.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_yx_wz_2vec2_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec2 m = al.yx;
	vec2 n = al.wz;
	vec4 a = vec4(m.y, m.x, n.y, n.x);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec2 m = al.yx;
  vec2 n = al.wz;
  vec4 a = vec4(m.y, m.x, n.y, n.x);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_yx_wz_2vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/all_bvec2_frag.frag
e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='all'), args=[CallExpr(callee=Identifier(name='bvec2'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(4.0 * color.rg);
	gl_FragColor = vec4(vec3(all(bvec2(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor((4.0 * color.rg));
  gl_FragColor = vec4(vec3(all(bvec2(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/all_bvec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bvec4_empty_empty_bvec4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=BoolLiteral(value=True))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=BoolLiteral(value=True))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec4 function(bvec4 par);
bool is_all(const in bvec4 par, const in bool value);
void set_all(out bvec4 par, const in bool value);
void main ()
{
	bvec4 par = bvec4(true, true, true, true);
	bvec4 ret = bvec4(false, false, false, false);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, true) && is_all(ret, true))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
bvec4 function(bvec4 par)
{
	if(is_all(par, true))
	{
		set_all(par, false);
		return bvec4(true, true, true, true);
	}
	else
		return bvec4(false, false, false, false);
}
bool is_all(const in bvec4 par, const in bool value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out bvec4 par, const in bool value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec4 function(bvec4 par);
bool is_all(const in bvec4 par, const in bool value);
void set_all(out bvec4 par, const in bool value);
void main()
{
  bvec4 par = bvec4(true, true, true, true);
  bvec4 ret = bvec4(false, false, false, false);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, true) && is_all(ret, true)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

bvec4 function(bvec4 par)
{
  if (is_all(par, true))
  {
    set_all(par, false);
    return bvec4(true, true, true, true);
  }
  else
    return bvec4(false, false, false, false);
}

bool is_all(const in bvec4 par, const in bool value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out bvec4 par, const in bool value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/bvec4_empty_empty_bvec4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_empty_vert.vert
filename /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:20: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:21: 'gl_Position' : undeclared identifier
ERROR: 0:21: 'assign' : l-value required (can't modify a const)
ERROR: 0:21: '=' : dimension mismatch
ERROR: 0:21: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=BoolLiteral(value=False))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=BoolLiteral(value=True))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec4 function(inout bvec4 par);
bool is_all(const in bvec4 par, const in bool value);
void set_all(out bvec4 par, const in bool value);
void main ()
{
	bvec4 par = bvec4(true, true, true, true);
	bvec4 ret = bvec4(false, false, false, false);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, false) && is_all(ret, true))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
bvec4 function(inout bvec4 par)
{
	if(is_all(par, true))
	{
		set_all(par, false);
		return bvec4(true, true, true, true);
	}
	else
		return bvec4(false, false, false, false);
}
bool is_all(const in bvec4 par, const in bool value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out bvec4 par, const in bool value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec4 function(inout bvec4 par);
bool is_all(const in bvec4 par, const in bool value);
void set_all(out bvec4 par, const in bool value);
void main()
{
  bvec4 par = bvec4(true, true, true, true);
  bvec4 ret = bvec4(false, false, false, false);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, false) && is_all(ret, true)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

bvec4 function(inout bvec4 par)
{
  if (is_all(par, true))
  {
    set_all(par, false);
    return bvec4(true, true, true, true);
  }
  else
    return bvec4(false, false, false, false);
}

bool is_all(const in bvec4 par, const in bool value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out bvec4 par, const in bool value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_vec2_float_frag.frag
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=FloatLiteral(value=139.0))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=53.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=139.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 b = vec2(13.0, 53.0);
	vec3 a = vec3(b, 139.0);
	float gray;
	if( (a[0] == 13.0) && (a[1] == 53.0) && (a[2] == 139.0) )
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 b = vec2(13.0, 53.0);
  vec3 a = vec3(b, 139.0);
  float gray;
  if ((((a[0] == 13.0) && (a[1] == 53.0)) && (a[2] == 139.0)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/vec3_vec2_float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/faceforward_vec3_vert_nvaryiconst_ref.vert
filename /home/oof/webgl_cleaned/faceforward_vec3_vert_nvaryiconst_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:19: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:20: 'gl_Position' : undeclared identifier
ERROR: 0:20: 'assign' : l-value required (can't modify a const)
ERROR: 0:20: '=' : dimension mismatch
ERROR: 0:20: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='z')
e.right: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='phi')])
e.left: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='v1')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='v1'), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=Identifier(name='v1'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='v1')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 v1;
	vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
	float theta = gtf_Color.g * 2.0 * M_PI;
	float phi = gtf_Color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	v1.z = cos(phi);
	if(dot(v1, v2) >= 0.0) v1 *= -1.0;
	color = vec4((v1 + 1.0) / 2.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 v1;
  vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
  float theta = ((gtf_Color.g * 2.0) * M_PI);
  float phi = ((gtf_Color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  v1.z = cos(phi);
  if ((dot(v1, v2) >= 0.0))
    (v1 *= -1.0);
  color = vec4(((v1 + 1.0) / 2.0), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/faceforward_vec3_vert_nvaryiconst_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/floor_vec3_frag_xvary_ref.frag
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='float'), args=[CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))])])
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))]), right=IntLiteral(value=1))])
e.left: CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))])
e.right: IntLiteral(value=1)
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='float'), args=[CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))])])
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))]), right=IntLiteral(value=1))])
e.left: CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))])
e.right: IntLiteral(value=1)
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='float'), args=[CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))])])
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))]), right=IntLiteral(value=1))])
e.left: CallExpr(callee=Identifier(name='int'), args=[IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=2))])
e.right: IntLiteral(value=1)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor_ref'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0)), right=FloatLiteral(value=20.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor_ref'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0))
e.right: FloatLiteral(value=20.0)
e.left: CallExpr(callee=Identifier(name='floor_ref'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=10.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
vec3 floor_ref(vec3 x)
{
	if(x[0] >= 0.0)
		x[0] = float(int(x[0]));
	else
		x[0] = float(int(x[0]) - 1);
	if(x[1] >= 0.0)
		x[1] = float(int(x[1]));
	else
		x[1] = float(int(x[1]) - 1);
	if(x[2] >= 0.0)
		x[2] = float(int(x[2]));
	else
		x[2] = float(int(x[2]) - 1);
	return x;
}
void main ()
{
	vec3 c = 10.0 * 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4((floor_ref(c) + 10.0) / 20.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

vec3 floor_ref(vec3 x)
{
  if ((x[0] >= 0.0))
    x[0] = float(int(x[0]));
  else
    x[0] = float((int(x[0]) - 1));
  if ((x[1] >= 0.0))
    x[1] = float(int(x[1]));
  else
    x[1] = float((int(x[1]) - 1));
  if ((x[2] >= 0.0))
    x[2] = float(int(x[2]));
  else
    x[2] = float((int(x[2]) - 1));
  return x;
}

void main()
{
  vec3 c = ((10.0 * 2.0) * (color.rgb - 0.5));
  gl_FragColor = vec4(((floor_ref(c) + 10.0) / 20.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/floor_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat3arrayindirect1_frag.frag
e.left: Identifier(name='result')
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: Identifier(name='result')
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='result')
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='result'), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.5))])
e.left: Identifier(name='result')
e.right: FloatLiteral(value=2.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform mat3 testmat3[2];
varying vec4  color;
void main()
{
	vec3 result = vec3(0.0, 0.0, 0.0);
	result += testmat3[1][0];
	result += testmat3[1][1];
	result += testmat3[1][2];
	gl_FragColor = vec4(result/2.0, 0.5);
}





New source code: precision mediump float;
precision mediump int;

uniform mat3 testmat3[2];

varying vec4 color;

void main()
{
  vec3 result = vec3(0.0, 0.0, 0.0);
  (result += testmat3[1][0]);
  (result += testmat3[1][1]);
  (result += testmat3[1][2]);
  gl_FragColor = vec4((result / 2.0), 0.5);
}


Filename: /home/oof/webgl_cleaned/mat3arrayindirect1_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_vec3_vert.vert
filename /home/oof/webgl_cleaned/struct_vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=FloatLiteral(value=150.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2)))
e.right: FloatLiteral(value=150.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
	vec3 a;
	vec3 b;
};
void main ()
{
	sabcd s = sabcd(vec3(12.0, 29.0, 32.0), vec3(13.0, 26.0, 38.0 ) );
	color = vec4( vec3(  (s.a[0] + s.a[1] + s.a[2] + s.b[0] + s.b[1] + s.b[2]) / 150.0  ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  vec3 a;
  vec3 b;
};

void main()
{
  sabcd s = sabcd(vec3(12.0, 29.0, 32.0), vec3(13.0, 26.0, 38.0));
  color = vec4(vec3(((((((s.a[0] + s.a[1]) + s.a[2]) + s.b[0]) + s.b[1]) + s.b[2]) / 150.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/struct_vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_vec3_frag_xvary_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))]), right=Identifier(name='exp3')), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.right: Identifier(name='exp3')
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	const float exp3 = 20.0855;
	vec3 c = color.rgb;
	gl_FragColor = vec4(pow(vec3(exp1), 3.0 * c) / exp3, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  const float exp3 = 20.0855;
  vec3 c = color.rgb;
  gl_FragColor = vec4((pow(vec3(exp1), (3.0 * c)) / exp3), 1.0);
}


Filename: /home/oof/webgl_cleaned/exp_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/fract_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/fract_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[Identifier(name='c')]), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[Identifier(name='c')]), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='fract'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 10.0 * 2.0 * (gtf_Color.r - 0.5);
	c = abs(fract(c) - 0.5) * 2.0;
	color = vec4(c, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = ((10.0 * 2.0) * (gtf_Color.r - 0.5));
  c = (abs((fract(c) - 0.5)) * 2.0);
  color = vec4(c, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fract_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/const_mat2_vert.vert
filename /home/oof/webgl_cleaned/const_mat2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:28: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:29: 'gl_Position' : undeclared identifier
ERROR: 0:29: 'assign' : l-value required (can't modify a const)
ERROR: 0:29: '=' : dimension mismatch
ERROR: 0:29: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x;
	const mat2 a = mat2(1.0, 2.0,
	                    4.0, 8.0);
	bool elms = true;
	if(a[0][0] != 1.0) elms = false;
	if(a[0][1] != 2.0) elms = false;
	if(a[1][0] != 4.0) elms = false;
	if(a[1][1] != 8.0) elms = false;
	bool rows = true;
	x = a[0][0] + a[1][0];
	if(x < 5.0-0.1 || x > 5.0+0.1) rows = false;
	x = a[0][1] + a[1][1];
	if(x < 10.0-0.1 || x > 10.0+0.1) rows = false;
	bool cols = true;
	x = a[0][0] + a[0][1];
	if(x < 3.0-0.1 || x > 3.0+0.1) cols = false;
	x = a[1][0] + a[1][1];
	if(x < 12.0-0.1 || x > 12.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x;
  const mat2 a = mat2(1.0, 2.0, 4.0, 8.0);
  bool elms = true;
  if ((a[0][0] != 1.0))
    elms = false;
  if ((a[0][1] != 2.0))
    elms = false;
  if ((a[1][0] != 4.0))
    elms = false;
  if ((a[1][1] != 8.0))
    elms = false;
  bool rows = true;
  x = (a[0][0] + a[1][0]);
  if (((x < (5.0 - 0.1)) || (x > (5.0 + 0.1))))
    rows = false;
  x = (a[0][1] + a[1][1]);
  if (((x < (10.0 - 0.1)) || (x > (10.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (a[0][0] + a[0][1]);
  if (((x < (3.0 - 0.1)) || (x > (3.0 + 0.1))))
    cols = false;
  x = (a[1][0] + a[1][1]);
  if (((x < (12.0 - 0.1)) || (x > (12.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/const_mat2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/qualifiers_float_vert.vert
filename /home/oof/webgl_cleaned/qualifiers_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:26: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:27: 'gl_Position' : undeclared identifier
ERROR: 0:27: 'assign' : l-value required (can't modify a const)
ERROR: 0:27: '=' : dimension mismatch
ERROR: 0:27: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='b')
e.right: Identifier(name='a')
e.left: Identifier(name='c')
e.right: Identifier(name='d')
e.left: Identifier(name='a')
e.right: FloatLiteral(value=1.0)
e.left: BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=BinaryExpr(op='=', left=Identifier(name='b'), right=FloatLiteral(value=2.0))), right=BinaryExpr(op='=', left=Identifier(name='c'), right=FloatLiteral(value=3.0))), right=BinaryExpr(op='=', left=Identifier(name='d'), right=FloatLiteral(value=4.0))), right=BinaryExpr(op='=', left=Identifier(name='e'), right=FloatLiteral(value=1.0)))
e.right: BinaryExpr(op='=', left=Identifier(name='f'), right=FloatLiteral(value=0.0))
e.left: BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=BinaryExpr(op='=', left=Identifier(name='b'), right=FloatLiteral(value=2.0))), right=BinaryExpr(op='=', left=Identifier(name='c'), right=FloatLiteral(value=3.0))), right=BinaryExpr(op='=', left=Identifier(name='d'), right=FloatLiteral(value=4.0)))
e.right: BinaryExpr(op='=', left=Identifier(name='e'), right=FloatLiteral(value=1.0))
e.left: BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=BinaryExpr(op='=', left=Identifier(name='b'), right=FloatLiteral(value=2.0))), right=BinaryExpr(op='=', left=Identifier(name='c'), right=FloatLiteral(value=3.0)))
e.right: BinaryExpr(op='=', left=Identifier(name='d'), right=FloatLiteral(value=4.0))
e.left: BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=BinaryExpr(op='=', left=Identifier(name='b'), right=FloatLiteral(value=2.0)))
e.right: BinaryExpr(op='=', left=Identifier(name='c'), right=FloatLiteral(value=3.0))
e.left: FloatLiteral(value=1.0)
e.right: BinaryExpr(op='=', left=Identifier(name='b'), right=FloatLiteral(value=2.0))
e.left: Identifier(name='b')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='d')
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='e')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='f')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='f')
e.right: CallExpr(callee=Identifier(name='qualifiers'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='a'), right=Identifier(name='b')), right=Identifier(name='c')), right=Identifier(name='d')), right=Identifier(name='e'))])
e.left: Identifier(name='a')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='b')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='q')
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='d')
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='e')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='f')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='q'), right=FloatLiteral(value=7.0)), right=BinaryExpr(op='/', left=Identifier(name='q2'), right=FloatLiteral(value=7.0)))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='q')
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='q2')
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float qualifiers(in float a, out float b, inout float c, const in float d, float e)
{
	b = a;
	c += d;
	a += 1.0;
	return e;
}
void main ()
{
	float a = 1.0, b = 2.0, c = 3.0, d = 4.0, e = 1.0, f = 0.0;
	float q = 0.0;
	float q2 = 0.0;
	f = qualifiers(a, b, c, d, e);
	if(a == 1.0) q += 1.0;
	if(b == 1.0) q += 2.0;
	if(c == 7.0) q += 4.0;
	if(d == 4.0) q2 += 1.0;
	if(e == 1.0) q2 += 2.0;
	if(f == 1.0) q2 += 4.0;
	color = vec4(vec2(q / 7.0, q2 / 7.0), 1.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float qualifiers(in float a, out float b, inout float c, const in float d, float e)
{
  b = a;
  (c += d);
  (a += 1.0);
  return e;
}

void main()
{
  float a = 1.0 , b = 2.0 , c = 3.0 , d = 4.0 , e = 1.0 , f = 0.0;
  float q = 0.0;
  float q2 = 0.0;
  f = qualifiers(a, b, c, d, e);
  if ((a == 1.0))
    (q += 1.0);
  if ((b == 1.0))
    (q += 2.0);
  if ((c == 7.0))
    (q += 4.0);
  if ((d == 4.0))
    (q2 += 1.0);
  if ((e == 1.0))
    (q2 += 2.0);
  if ((f == 1.0))
    (q2 += 4.0);
  color = vec4(vec2((q / 7.0), (q2 / 7.0)), 1.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/qualifiers_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/atan_float_vert_xvaryyvary_ref.vert
filename /home/oof/webgl_cleaned/atan_float_vert_xvaryyvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:48: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:49: 'gl_Position' : undeclared identifier
ERROR: 0:49: 'assign' : l-value required (can't modify a const)
ERROR: 0:49: '=' : dimension mismatch
ERROR: 0:49: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='>', left=Identifier(name='x'), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')]), right=Identifier(name='epsilon'))
e.left: Identifier(name='x')
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')])
e.right: Identifier(name='epsilon')
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='<', left=Identifier(name='y'), right=FloatLiteral(value=0.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='y')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')])
e.right: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='x')])
e.left: Identifier(name='y')
e.right: Identifier(name='x')
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='atan_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c'))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: Identifier(name='sign')
e.right: Identifier(name='atan_c')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='x')
e.right: Identifier(name='y')
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='atan_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c')))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: Identifier(name='sign')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='atan_c')
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='x')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='y')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='result'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='y')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='result'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: Identifier(name='result')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float x = 2.0 * (gtf_Color.g - 0.5);
	float y = 2.0 * (gtf_Color.b - 0.5);
	float atan_c = 0.0;
	float scale = 1.0;
	float sign = 1.0;
	vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
	const float epsilon = 1.0e-4;
	if(x > epsilon || abs(y) > epsilon)
	{
		if(x < 0.0 ^^ y < 0.0)
		{
			sign = -1.0;
		}
		if(abs(y) <= abs(x))
		{
			float c = abs(y / x);
			for(int i = 1; i < 12; i += 2)
			{
				atan_c += scale * pow(c, float(i)) / float(i);
				scale *= -1.0;
			}
			result = vec4(sign * atan_c / (2.0 * M_PI) + 0.5, 0.0, 0.0, 1.0);
		}
		else
		{
			float c = abs(x / y);
			for(int i = 1; i < 12; i += 2)
			{
				atan_c += scale * pow(c, float(i)) / float(i);
				scale *= -1.0;
			}
			result = vec4(sign * (M_PI / 2.0 - atan_c) / (2.0 * M_PI) + 0.5, 0.0, 0.0, 1.0);
		}
		if(x < 0.0)
			if(y < 0.0) result.r -= 0.5;
			else if(y > 0.0) result.r += 0.5;
	}
	color = result;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float x = (2.0 * (gtf_Color.g - 0.5));
  float y = (2.0 * (gtf_Color.b - 0.5));
  float atan_c = 0.0;
  float scale = 1.0;
  float sign = 1.0;
  vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
  const float epsilon = 0.0001;
  if (((x > epsilon) || (abs(y) > epsilon)))
  {
    if (((x < 0.0) ^^ (y < 0.0)))
    {
      sign = -1.0;
    }
    if ((abs(y) <= abs(x)))
    {
      float c = abs((y / x));
      for (int i = 1; (i < 12); (i += 2))
      {
        (atan_c += ((scale * pow(c, float(i))) / float(i)));
        (scale *= -1.0);
      }
      result = vec4((((sign * atan_c) / (2.0 * M_PI)) + 0.5), 0.0, 0.0, 1.0);
    }
    else
    {
      float c = abs((x / y));
      for (int i = 1; (i < 12); (i += 2))
      {
        (atan_c += ((scale * pow(c, float(i))) / float(i)));
        (scale *= -1.0);
      }
      result = vec4((((sign * ((M_PI / 2.0) - atan_c)) / (2.0 * M_PI)) + 0.5), 0.0, 0.0, 1.0);
    }
    if ((x < 0.0))
      if ((y < 0.0))
        (result.r -= 0.5);
      else
        if ((y > 0.0))
          (result.r += 0.5);
  }
  color = result;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/atan_float_vert_xvaryyvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_qspt_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.qspt;
	vec4 a = vec4(m.t, m.q, m.p, m.s);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.qspt;
  vec4 a = vec4(m.t, m.q, m.p, m.s);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_qspt_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/step_vec2_vert_xvary_edgeconsthalf_ref.vert
filename /home/oof/webgl_cleaned/step_vec2_vert_xvary_edgeconsthalf_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:28: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:29: 'gl_Position' : undeclared identifier
ERROR: 0:29: 'assign' : l-value required (can't modify a const)
ERROR: 0:29: '=' : dimension mismatch
ERROR: 0:29: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const vec2 edge = vec2(0.5, 0.5);
	vec2 c = gtf_Color.rg;
	if(c[0] >= edge[0])
	{
		c[0] = 1.0;
	}
	else
	{
		c[0] = 0.0;
	}
	if(c[1] >= edge[1])
	{
		c[1] = 1.0;
	}
	else
	{
		c[1] = 0.0;
	}
	color = vec4(c, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const vec2 edge = vec2(0.5, 0.5);
  vec2 c = gtf_Color.rg;
  if ((c[0] >= edge[0]))
  {
    c[0] = 1.0;
  }
  else
  {
    c[0] = 0.0;
  }
  if ((c[1] >= edge[1]))
  {
    c[1] = 1.0;
  }
  else
  {
    c[1] = 0.0;
  }
  color = vec4(c, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/step_vec2_vert_xvary_edgeconsthalf_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_float_frag_xvary_yconsthalf.frag
e.left: FloatLiteral(value=16.0)
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=4.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 16.0 * color.r;
	gl_FragColor = vec4(pow(c, 0.5) / 4.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (16.0 * color.r);
  gl_FragColor = vec4((pow(c, 0.5) / 4.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_float_frag_xvary_yconsthalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equal_ivec3_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(equal(ivec3(c), ivec3(0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(equal(ivec3(c), ivec3(0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_ivec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/dot_vec3_vert_xvaryythird_ref.vert
filename /home/oof/webgl_cleaned/dot_vec3_vert_xvaryythird_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=MemberExpr(base=Identifier(name='gtf_Color'), member='g')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='b'))]), right=FloatLiteral(value=0.3333)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=MemberExpr(base=Identifier(name='gtf_Color'), member='g')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='b'))])
e.right: FloatLiteral(value=0.3333)
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=MemberExpr(base=Identifier(name='gtf_Color'), member='g'))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(gtf_Color.r + gtf_Color.g + gtf_Color.b) * 0.3333, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4((vec3(((gtf_Color.r + gtf_Color.g) + gtf_Color.b)) * 0.3333), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/dot_vec3_vert_xvaryythird_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/cos_vec3_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='color'), member='rgb')])]), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: CallExpr(callee=Identifier(name='fract'), args=[CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='color'), member='rgb')])])
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='i')
e.right: IntLiteral(value=10)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='fact_even')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='fact_odd')
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='-', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: Identifier(name='exp')
e.right: CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))])), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))])), right=Identifier(name='fact_even'))
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))]))
e.right: Identifier(name='fact_even')
e.left: Identifier(name='sign')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))])
e.left: Identifier(name='cos_c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))]), right=BinaryExpr(op='/', left=Identifier(name='sum'), right=Identifier(name='fact_odd')))
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))])
e.right: BinaryExpr(op='/', left=Identifier(name='sum'), right=Identifier(name='fact_odd'))
e.left: Identifier(name='sum')
e.right: Identifier(name='fact_odd')
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=Identifier(name='sign'), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='cos_c')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='cos_c'))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='cos_c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 2.0 * M_PI * ( fract(abs(color.rgb)) - 0.5 );
	float sign =  1.0;
	vec3 cos_c = vec3(-1.0, -1.0, -1.0);
	float fact_even = 1.0;
	float fact_odd  = 1.0;
	vec3 sum;
	vec3 exp;
	for(int i = 2; i <= 10; i += 2)
	{
		fact_even *= float(i);
		fact_odd  *= float(i-1);
		exp = vec3(float(i/2), float(i/2), float(i/2));
		sum = sign * pow(abs(c), exp)/fact_even;
		cos_c += pow(abs(c), exp)*(sum/fact_odd);
		sign = -sign;
	}
	gl_FragColor = vec4(0.5 * cos_c + 0.5, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = ((2.0 * M_PI) * (fract(abs(color.rgb)) - 0.5));
  float sign = 1.0;
  vec3 cos_c = vec3(-1.0, -1.0, -1.0);
  float fact_even = 1.0;
  float fact_odd = 1.0;
  vec3 sum;
  vec3 exp;
  for (int i = 2; (i <= 10); (i += 2))
  {
    (fact_even *= float(i));
    (fact_odd *= float((i - 1)));
    exp = vec3(float((i / 2)), float((i / 2)), float((i / 2)));
    sum = ((sign * pow(abs(c), exp)) / fact_even);
    (cos_c += (pow(abs(c), exp) * (sum / fact_odd)));
    sign = -sign;
  }
  gl_FragColor = vec4(((0.5 * cos_c) + 0.5), 1.0);
}


Filename: /home/oof/webgl_cleaned/cos_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bool_empty_in_bool_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=BoolLiteral(value=True))])
e.right: Identifier(name='ret')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bool function(in bool par[3]);
bool is_all(const in bool array[3], const in bool value);
void set_all(out bool array[3], const in bool value);
void main ()
{
	bool par[3];
	bool ret = false;
	float gray = 0.0;
	set_all(par, true);
	ret = function(par);
	if(is_all(par, true) && ret)
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
bool function(in bool par[3])
{
	if(is_all(par, true))
	{
		set_all(par, false);
		return true;
	}
	else
		return false;
}
bool is_all(const in bool array[3], const in bool value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out bool array[3], const in bool value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bool function(in bool par[3]);
bool is_all(const in bool array[3], const in bool value);
void set_all(out bool array[3], const in bool value);
void main()
{
  bool par[3];
  bool ret = false;
  float gray = 0.0;
  set_all(par, true);
  ret = function(par);
  if ((is_all(par, true) && ret))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

bool function(in bool par[3])
{
  if (is_all(par, true))
  {
    set_all(par, false);
    return true;
  }
  else
    return false;
}

bool is_all(const in bool array[3], const in bool value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out bool array[3], const in bool value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/bool_empty_in_bool_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/3i_vert.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='col'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec3 col;
void main ()
{
	gl_FragColor = vec4 (col, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec3 col;

void main()
{
  gl_FragColor = vec4(col, 1.0);
}


Filename: /home/oof/webgl_cleaned/3i_vert.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_zx_wy_2vec2_vert.vert
filename /home/oof/webgl_cleaned/vec4_zx_wy_2vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec2 m = lightloc.zx;
	vec2 n = lightloc.wy;
	vec4 a = vec4(m.y, n.y, m.x, n.x);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec2 m = lightloc.zx;
  vec2 n = lightloc.wy;
  vec4 a = vec4(m.y, n.y, m.x, n.x);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_zx_wy_2vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_ivec2_vert.vert
filename /home/oof/webgl_cleaned/equal_ivec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(equal(ivec2(c), ivec2(0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(equal(ivec2(c), ivec2(0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equal_ivec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log_vec3_vert_xvary01_ref.vert
filename /home/oof/webgl_cleaned/log_vec3_vert_xvary01_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='z')
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))])
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 x = (gtf_Color.rgb + 0.01) / 1.01;
	vec3 y = vec3(0.0);
	vec3 z;
	int n = 50;
	z = abs((x - 1.0) / (x + 1.0));
	vec3 p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= -2.0;
	color = vec4(y / -4.61, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 x = ((gtf_Color.rgb + 0.01) / 1.01);
  vec3 y = vec3(0.0);
  vec3 z;
  int n = 50;
  z = abs(((x - 1.0) / (x + 1.0)));
  vec3 p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= -2.0);
  color = vec4((y / -4.61), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_vec3_vert_xvary01_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/DepthRange_vert.vert
filename /home/oof/webgl_cleaned/DepthRange_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='gl_DepthRange'), member='near'), right=MemberExpr(base=Identifier(name='gl_DepthRange'), member='far')), right=MemberExpr(base=Identifier(name='gl_DepthRange'), member='diff')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4  color;
void main()
{
	color = vec4(gl_DepthRange.near, gl_DepthRange.far, gl_DepthRange.diff, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(gl_DepthRange.near, gl_DepthRange.far, gl_DepthRange.diff, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/DepthRange_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/gl_FragCoord_w_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[MemberExpr(base=Identifier(name='gl_FragCoord'), member='w')]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
	gl_FragColor = vec4(vec3(gl_FragCoord.w), 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  gl_FragColor = vec4(vec3(gl_FragCoord.w), 1.0);
}


Filename: /home/oof/webgl_cleaned/gl_FragCoord_w_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_tsq_p_1vec3_1float_vert.vert
filename /home/oof/webgl_cleaned/vec4_tsq_p_1vec3_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.tsq;
	float p = lightloc.p;
	vec4 a = vec4(m.t, m.s, p, m.p);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.tsq;
  float p = lightloc.p;
  vec4 a = vec4(m.t, m.s, p, m.p);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_tsq_p_1vec3_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_float_vert_xvary_yconsthalf_ref.vert
filename /home/oof/webgl_cleaned/pow_float_vert_xvary_yconsthalf_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=16.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 16.0 * gtf_Color.r;
	color = vec4(sqrt(c) / 4.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = (16.0 * gtf_Color.r);
  color = vec4((sqrt(c) / 4.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_float_vert_xvary_yconsthalf_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/brick_mat4.vert
filename /home/oof/webgl_cleaned/brick_mat4.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "Position")
ERROR: 0:28: 'assign' : l-value required (can't modify a varying "lightIntensity")
ERROR: 0:30: 'gl_Position' : undeclared identifier
ERROR: 0:30: 'assign' : l-value required (can't modify a const)
ERROR: 0:30: '=' : dimension mismatch
ERROR: 0:30: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=1.0)
e.right: Identifier(name='specularContribution')
e.left: Identifier(name='gtf_ModelViewMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='Position')
e.right: CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='gtf_Vertex')])
e.left: Identifier(name='gtf_NormalMatrix')
e.right: Identifier(name='gtf_Normal')
e.left: Identifier(name='LightPosition')
e.right: CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='pos')])
e.left: Identifier(name='spec')
e.right: BinaryExpr(op='*', left=Identifier(name='spec'), right=Identifier(name='spec'))
e.left: Identifier(name='spec')
e.right: Identifier(name='spec')
e.left: Identifier(name='spec')
e.right: BinaryExpr(op='*', left=Identifier(name='spec'), right=Identifier(name='spec'))
e.left: Identifier(name='spec')
e.right: Identifier(name='spec')
e.left: Identifier(name='spec')
e.right: BinaryExpr(op='*', left=Identifier(name='spec'), right=Identifier(name='spec'))
e.left: Identifier(name='spec')
e.right: Identifier(name='spec')
e.left: Identifier(name='spec')
e.right: BinaryExpr(op='*', left=Identifier(name='spec'), right=Identifier(name='spec'))
e.left: Identifier(name='spec')
e.right: Identifier(name='spec')
e.left: Identifier(name='lightIntensity')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='diffuseContribution'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='lightVec'), right=Identifier(name='tnorm'))])), right=BinaryExpr(op='*', left=Identifier(name='specularContribution'), right=Identifier(name='spec')))
e.left: BinaryExpr(op='*', left=Identifier(name='diffuseContribution'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='lightVec'), right=Identifier(name='tnorm'))]))
e.right: BinaryExpr(op='*', left=Identifier(name='specularContribution'), right=Identifier(name='spec'))
e.left: Identifier(name='diffuseContribution')
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='lightVec'), right=Identifier(name='tnorm'))])
e.left: Identifier(name='specularContribution')
e.right: Identifier(name='spec')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec3 gtf_Normal;
attribute mat4 myAttrib4m;
uniform mat3 gtf_NormalMatrix;
varying float lightIntensity;
varying vec3  Position;
uniform vec3  LightPosition;
uniform mat4 gtf_ModelViewMatrix;
uniform mat4 gtf_ModelViewProjectionMatrix;
const float specularContribution = 0.7;
const float diffuseContribution  = (1.0 - specularContribution);
void main() {
    vec4 pos        = gtf_ModelViewMatrix * gtf_Vertex;
    Position        = vec3(gtf_Vertex);
    vec3 tnorm      = normalize(gtf_NormalMatrix * gtf_Normal);
    vec3 lightVec   = normalize(LightPosition - vec3(pos));
    vec3 reflectVec = reflect(lightVec, tnorm);
    vec3 viewVec    = normalize(vec3(pos));
	float f = myAttrib4m[0][0];
	float spec = clamp(dot(reflectVec, viewVec), f, 1.0);
    spec = spec * spec;
    spec = spec * spec;
    spec = spec * spec;
    spec = spec * spec;
    lightIntensity = diffuseContribution * dot(lightVec, tnorm) +
                     specularContribution * spec;
    gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec3 gtf_Normal;

mat4 myAttrib4m;

uniform mat3 gtf_NormalMatrix;

varying float lightIntensity;

varying vec3 Position;

uniform vec3 LightPosition;

uniform mat4 gtf_ModelViewMatrix;

uniform mat4 gtf_ModelViewProjectionMatrix;

const float specularContribution = 0.7;

const float diffuseContribution = (1.0 - specularContribution);

void main()
{
  vec4 pos = (gtf_ModelViewMatrix * gtf_Vertex);
  Position = vec3(gtf_Vertex);
  vec3 tnorm = normalize((gtf_NormalMatrix * gtf_Normal));
  vec3 lightVec = normalize((LightPosition - vec3(pos)));
  vec3 reflectVec = reflect(lightVec, tnorm);
  vec3 viewVec = normalize(vec3(pos));
  float f = myAttrib4m[0][0];
  float spec = clamp(dot(reflectVec, viewVec), f, 1.0);
  spec = (spec * spec);
  spec = (spec * spec);
  spec = (spec * spec);
  spec = (spec * spec);
  lightIntensity = ((diffuseContribution * dot(lightVec, tnorm)) + (specularContribution * spec));
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/brick_mat4.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/2i_vert.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='col'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec2 col;
void main ()
{
	gl_FragColor = vec4 (col, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec2 col;

void main()
{
  gl_FragColor = vec4(col, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/2i_vert.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/length_vec2_frag_xvary.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='color'), member='rg')]), right=FloatLiteral(value=2.0))]), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='color'), member='rg')])
e.right: FloatLiteral(value=2.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(length(color.rg) / 2.0), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4(vec3((length(color.rg) / 2.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/length_vec2_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_mat4_vert.vert
filename /home/oof/webgl_cleaned/struct_mat4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:34: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:35: 'gl_Position' : undeclared identifier
ERROR: 0:35: 'assign' : l-value required (can't modify a const)
ERROR: 0:35: '=' : dimension mismatch
ERROR: 0:35: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=Identifier(name='sum'), right=FloatLiteral(value=995.0))]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='sum')
e.right: FloatLiteral(value=995.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
 mat4 a;
};
void main ()
{
	sabcd s = sabcd(mat4(12.0, 29.0, 13.0, 26.0,
			     71.0, 63.0, 90.0, 118.0,
			     128.0, 44.0, 57.0, 143.0,
			     151.0, 14.0, 15.0, 21.0 ) );
	float sum=0.0;
	sum = sum + s.a[0][0];
	sum = sum + s.a[0][1];
	sum = sum + s.a[0][2];
	sum = sum + s.a[0][3];
	sum = sum + s.a[1][0];
	sum = sum + s.a[1][1];
	sum = sum + s.a[1][2];
	sum = sum + s.a[1][3];
	sum = sum + s.a[2][0];
	sum = sum + s.a[2][1];
	sum = sum + s.a[2][2];
	sum = sum + s.a[2][3];
	sum = sum + s.a[3][0];
	sum = sum + s.a[3][1];
	sum = sum + s.a[3][2];
	sum = sum + s.a[3][3];
	color = vec4( vec3(  sum / 995.0  ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  mat4 a;
};

void main()
{
  sabcd s = sabcd(mat4(12.0, 29.0, 13.0, 26.0, 71.0, 63.0, 90.0, 118.0, 128.0, 44.0, 57.0, 143.0, 151.0, 14.0, 15.0, 21.0));
  float sum = 0.0;
  sum = (sum + s.a[0][0]);
  sum = (sum + s.a[0][1]);
  sum = (sum + s.a[0][2]);
  sum = (sum + s.a[0][3]);
  sum = (sum + s.a[1][0]);
  sum = (sum + s.a[1][1]);
  sum = (sum + s.a[1][2]);
  sum = (sum + s.a[1][3]);
  sum = (sum + s.a[2][0]);
  sum = (sum + s.a[2][1]);
  sum = (sum + s.a[2][2]);
  sum = (sum + s.a[2][3]);
  sum = (sum + s.a[3][0]);
  sum = (sum + s.a[3][1]);
  sum = (sum + s.a[3][2]);
  sum = (sum + s.a[3][3]);
  color = vec4(vec3((sum / 995.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/struct_mat4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_vec2_frag_xvary_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))]), right=Identifier(name='exp3')), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.right: Identifier(name='exp3')
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	const float exp3 = 20.0855;
	vec2 c = color.rg;
	gl_FragColor = vec4(pow(vec2(exp1), 3.0 * c) / exp3, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  const float exp3 = 20.0855;
  vec2 c = color.rg;
  gl_FragColor = vec4((pow(vec2(exp1), (3.0 * c)) / exp3), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/exp_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_xz_y_1vec2_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.xyz;
	float k = m.y;
	vec2 n = m.xz;
	vec4 a = vec4(n.x, k, n.y, al.w);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.xyz;
  float k = m.y;
  vec2 n = m.xz;
  vec4 a = vec4(n.x, k, n.y, al.w);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_xz_y_1vec2_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/greaterThan_vec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 gt(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] > b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] > b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] > b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(gt(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 gt(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] > b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] > b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] > b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(gt(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/greaterThan_vec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mix_float_frag_xvary_yconsthalf_aconsthalf.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='mix'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='y')), right=Identifier(name='a'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float y = 0.5;
	const float a = 0.5;
	float c = color.r;
	gl_FragColor = vec4(mix(c, y, a), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float y = 0.5;
  const float a = 0.5;
  float c = color.r;
  gl_FragColor = vec4(mix(c, y, a), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/mix_float_frag_xvary_yconsthalf_aconsthalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sin_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/sin_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))])), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	color = vec4(0.5 * sin(2.0 * M_PI * gtf_Color.rgb) + 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  color = vec4(((0.5 * sin(((2.0 * M_PI) * gtf_Color.rgb))) + 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/sin_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec3_frag_xconst2_yvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4(pow(vec3(2.0), 2.0 * c) / 4.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = (2.0 * (color.rgb - 0.5));
  gl_FragColor = vec4((pow(vec3(2.0), (2.0 * c)) / 4.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec3_frag_xconst2_yvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/clamp_float_vert_xvary_yconstquarter_ref.vert
filename /home/oof/webgl_cleaned/clamp_float_vert_xvary_yconstquarter_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='c')
e.right: Identifier(name='max_c')
e.left: Identifier(name='c')
e.right: Identifier(name='max_c')
e.left: Identifier(name='c')
e.right: Identifier(name='min_c')
e.left: Identifier(name='c')
e.right: Identifier(name='min_c')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float min_c = 0.25;
	const float max_c = 0.75;
	float c = gtf_Color.r;
	if(c > max_c) c = max_c;
	if(c < min_c) c = min_c;
	color = vec4(c, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float min_c = 0.25;
  const float max_c = 0.75;
  float c = gtf_Color.r;
  if ((c > max_c))
    c = max_c;
  if ((c < min_c))
    c = min_c;
  color = vec4(c, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/clamp_float_vert_xvary_yconstquarter_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/reflect_vec2_vert_ivarynconst.vert
filename /home/oof/webgl_cleaned/reflect_vec2_vert_ivarynconst.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='reflect'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='reflect'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='reflect'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 v1;
	vec2 v2 = normalize(vec2(1.0, 1.0));
	float theta = gtf_Color.g * 2.0 * M_PI;
	float phi = gtf_Color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	color = vec4((reflect(v1, v2) + 1.0) / 2.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 v1;
  vec2 v2 = normalize(vec2(1.0, 1.0));
  float theta = ((gtf_Color.g * 2.0) * M_PI);
  float phi = ((gtf_Color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  color = vec4(((reflect(v1, v2) + 1.0) / 2.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/reflect_vec2_vert_ivarynconst.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_float_vert_xvaryneg_ref.vert
filename /home/oof/webgl_cleaned/exp_float_vert_xvaryneg_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='exp1'), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='exp1'), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	float c = gtf_Color.r;
	color = vec4(1.0 / pow(exp1, 3.0 * c), 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  float c = gtf_Color.r;
  color = vec4((1.0 / pow(exp1, (3.0 * c))), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp_float_vert_xvaryneg_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fboShader0.frag
e.left: Identifier(name='gtf_UseTexture')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='gtf_Texture0'), right=MemberExpr(base=IndexExpr(base=Identifier(name='texCoord'), index=IntLiteral(value=0)), member='xy'))])
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='color')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
varying vec4 texCoord[1];
uniform sampler2D gtf_Texture0;
uniform int gtf_UseTexture;
void main ()
{
    if ( gtf_UseTexture == 1 )
    {
        gl_FragColor = texture2D(gtf_Texture0, texCoord[0].xy);
    }
    else
    {
        gl_FragColor = color;
    }
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

varying vec4 texCoord[1];

uniform sampler2D gtf_Texture0;

uniform int gtf_UseTexture;

void main()
{
  if ((gtf_UseTexture == 1))
  {
    gl_FragColor = texture2D(gtf_Texture0, texCoord[0].xy);
  }
  else
  {
    gl_FragColor = color;
  }
}


Filename: /home/oof/webgl_cleaned/fboShader0.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat3_float_vert.vert
filename /home/oof/webgl_cleaned/mat3_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:30: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:31: 'gl_Position' : undeclared identifier
ERROR: 0:31: 'assign' : l-value required (can't modify a const)
ERROR: 0:31: '=' : dimension mismatch
ERROR: 0:31: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: Identifier(name='color')
e.right: Identifier(name='result')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	mat3 m = mat3(0.5);
	vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
	vec4 result = vec4(1.0, 1.0, 1.0, 1.0);
	if((m[0][0] != 0.5))
		result = black;
	if((m[0][1] != 0.0))
		result = black;
	if((m[0][2] != 0.0))
		result = black;
	if((m[1][0] != 0.0))
		result = black;
	if((m[1][1] != 0.5))
		result = black;
	if((m[1][2] != 0.0))
		result = black;
	if((m[2][0] != 0.0))
		result = black;
	if((m[2][1] != 0.0))
		result = black;
	if((m[2][2] != 0.5))
		result = black;
	color = result;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  mat3 m = mat3(0.5);
  vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
  vec4 result = vec4(1.0, 1.0, 1.0, 1.0);
  if ((m[0][0] != 0.5))
    result = black;
  if ((m[0][1] != 0.0))
    result = black;
  if ((m[0][2] != 0.0))
    result = black;
  if ((m[1][0] != 0.0))
    result = black;
  if ((m[1][1] != 0.5))
    result = black;
  if ((m[1][2] != 0.0))
    result = black;
  if ((m[2][0] != 0.0))
    result = black;
  if ((m[2][1] != 0.0))
    result = black;
  if ((m[2][2] != 0.5))
    result = black;
  color = result;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mat3_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/cos_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/cos_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='cos'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))])), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='cos'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='cos'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	color = vec4(0.5 * cos(2.0 * M_PI * gtf_Color.r) + 0.5, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  color = vec4(((0.5 * cos(((2.0 * M_PI) * gtf_Color.r))) + 0.5), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/cos_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/version3_V100_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[IntLiteral(value=1)])
Original source code: precision mediump float;
precision mediump int;

 int i;
precision mediump float;
void main()
{
   gl_FragColor = vec4(1);
}





New source code: precision mediump float;
precision mediump int;

int i;

void main()
{
  gl_FragColor = vec4(1);
}


Filename: /home/oof/webgl_cleaned/version3_V100_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/_webgl_struct.vert
Original source code: precision mediump float;
precision mediump int;

struct _webgl_Foo {
  int bar;
};
void main() {
  _webgl_Foo foo = _webgl_Foo(1);
}





New source code: precision mediump float;
precision mediump int;

struct _webgl_Foo {
  int bar;
};

void main()
{
  _webgl_Foo foo = _webgl_Foo(1);
}


Filename: /home/oof/webgl_cleaned/_webgl_struct.vert passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_xyz_1vec3_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.xyz;
	vec4 a = vec4(m.xyz,al.w);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.xyz;
  vec4 a = vec4(m.xyz, al.w);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_xyz_1vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/exp_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))]), right=Identifier(name='exp3')), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.right: Identifier(name='exp3')
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	const float exp3 = 20.0855;
	vec3 c = gtf_Color.rgb;
	color = vec4(pow(vec3(exp1), 3.0 * c) / exp3, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  const float exp3 = 20.0855;
  vec3 c = gtf_Color.rgb;
  color = vec4((pow(vec3(exp1), (3.0 * c)) / exp3), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/step_vec2_frag_xvary_edgeconsthalf_ref.frag
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec2 edge = vec2(0.5, 0.5);
	vec2 c = color.rg;
	if(c[0] >= edge[0])
	{
		c[0] = 1.0;
	}
	else
	{
		c[0] = 0.0;
	}
	if(c[1] >= edge[1])
	{
		c[1] = 1.0;
	}
	else
	{
		c[1] = 0.0;
	}
	gl_FragColor = vec4(c, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec2 edge = vec2(0.5, 0.5);
  vec2 c = color.rg;
  if ((c[0] >= edge[0]))
  {
    c[0] = 1.0;
  }
  else
  {
    c[0] = 0.0;
  }
  if ((c[1] >= edge[1]))
  {
    c[1] = 1.0;
  }
  else
  {
    c[1] = 0.0;
  }
  gl_FragColor = vec4(c, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/step_vec2_frag_xvary_edgeconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/const_mat4_vert.vert
filename /home/oof/webgl_cleaned/const_mat4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:50: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:51: 'gl_Position' : undeclared identifier
ERROR: 0:51: 'assign' : l-value required (can't modify a const)
ERROR: 0:51: '=' : dimension mismatch
ERROR: 0:51: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=16.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=32.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=64.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=128.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=256.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=512.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=1024.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=2048.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4096.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8192.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=16384.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=32768.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=4369.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=4369.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=4369.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=4369.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=4369.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=4369.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=8738.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=8738.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=8738.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=8738.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=8738.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=8738.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=17476.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=17476.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=17476.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=17476.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=17476.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=17476.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=34952.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=34952.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=34952.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=34952.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=34952.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=34952.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=240.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=240.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=240.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=240.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=240.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=240.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=3840.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=3840.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3840.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3840.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=3840.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3840.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=61440.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=61440.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=61440.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=61440.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=61440.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=61440.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x;
	const mat4 a = mat4(   1.0,    2.0,     4.0,     8.0,
	                      16.0,   32.0,    64.0,   128.0,
	                     256.0,  512.0,  1024.0,  2048.0,
	                    4096.0, 8192.0, 16384.0, 32768.0);
	bool elms = true;
	if(a[0][0] !=     1.0) elms = false;
	if(a[0][1] !=     2.0) elms = false;
	if(a[0][2] !=     4.0) elms = false;
	if(a[0][3] !=     8.0) elms = false;
	if(a[1][0] !=    16.0) elms = false;
	if(a[1][1] !=    32.0) elms = false;
	if(a[1][2] !=    64.0) elms = false;
	if(a[1][3] !=   128.0) elms = false;
	if(a[2][0] !=   256.0) elms = false;
	if(a[2][1] !=   512.0) elms = false;
	if(a[2][2] !=  1024.0) elms = false;
	if(a[2][3] !=  2048.0) elms = false;
	if(a[3][0] !=  4096.0) elms = false;
	if(a[3][1] !=  8192.0) elms = false;
	if(a[3][2] != 16384.0) elms = false;
	if(a[3][3] != 32768.0) elms = false;
	bool rows = true;
	x = a[0][0] + a[1][0] + a[2][0] + a[3][0];
	if(x < 4369.0-0.1 || x > 4369.0+0.1) rows = false;
	x = a[0][1] + a[1][1] + a[2][1] + a[3][1];
	if(x < 8738.0-0.1 || x > 8738.0+0.1) rows = false;
	x = a[0][2] + a[1][2] + a[2][2] + a[3][2];
	if(x < 17476.0-0.1 || x > 17476.0+0.1) rows = false;
	x = a[0][3] + a[1][3] + a[2][3] + a[3][3];
	if(x < 34952.0-0.1 || x > 34952.0+0.1) rows = false;
	bool cols = true;
	x = a[0][0] + a[0][1] + a[0][2] + a[0][3];
	if(x < 15.0-0.1 || x > 15.0+0.1) cols = false;
	x = a[1][0] + a[1][1] + a[1][2] + a[1][3];
	if(x < 240.0-0.1 || x > 240.0+0.1) cols = false;
	x = a[2][0] + a[2][1] + a[2][2] + a[2][3];
	if(x < 3840.0-0.1 || x > 3840.0+0.1) cols = false;
	x = a[3][0] + a[3][1] + a[3][2] + a[3][3];
	if(x < 61440.0-0.1 || x > 61440.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x;
  const mat4 a = mat4(1.0, 2.0, 4.0, 8.0, 16.0, 32.0, 64.0, 128.0, 256.0, 512.0, 1024.0, 2048.0, 4096.0, 8192.0, 16384.0, 32768.0);
  bool elms = true;
  if ((a[0][0] != 1.0))
    elms = false;
  if ((a[0][1] != 2.0))
    elms = false;
  if ((a[0][2] != 4.0))
    elms = false;
  if ((a[0][3] != 8.0))
    elms = false;
  if ((a[1][0] != 16.0))
    elms = false;
  if ((a[1][1] != 32.0))
    elms = false;
  if ((a[1][2] != 64.0))
    elms = false;
  if ((a[1][3] != 128.0))
    elms = false;
  if ((a[2][0] != 256.0))
    elms = false;
  if ((a[2][1] != 512.0))
    elms = false;
  if ((a[2][2] != 1024.0))
    elms = false;
  if ((a[2][3] != 2048.0))
    elms = false;
  if ((a[3][0] != 4096.0))
    elms = false;
  if ((a[3][1] != 8192.0))
    elms = false;
  if ((a[3][2] != 16384.0))
    elms = false;
  if ((a[3][3] != 32768.0))
    elms = false;
  bool rows = true;
  x = (((a[0][0] + a[1][0]) + a[2][0]) + a[3][0]);
  if (((x < (4369.0 - 0.1)) || (x > (4369.0 + 0.1))))
    rows = false;
  x = (((a[0][1] + a[1][1]) + a[2][1]) + a[3][1]);
  if (((x < (8738.0 - 0.1)) || (x > (8738.0 + 0.1))))
    rows = false;
  x = (((a[0][2] + a[1][2]) + a[2][2]) + a[3][2]);
  if (((x < (17476.0 - 0.1)) || (x > (17476.0 + 0.1))))
    rows = false;
  x = (((a[0][3] + a[1][3]) + a[2][3]) + a[3][3]);
  if (((x < (34952.0 - 0.1)) || (x > (34952.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (((a[0][0] + a[0][1]) + a[0][2]) + a[0][3]);
  if (((x < (15.0 - 0.1)) || (x > (15.0 + 0.1))))
    cols = false;
  x = (((a[1][0] + a[1][1]) + a[1][2]) + a[1][3]);
  if (((x < (240.0 - 0.1)) || (x > (240.0 + 0.1))))
    cols = false;
  x = (((a[2][0] + a[2][1]) + a[2][2]) + a[2][3]);
  if (((x < (3840.0 - 0.1)) || (x > (3840.0 + 0.1))))
    cols = false;
  x = (((a[3][0] + a[3][1]) + a[3][2]) + a[3][3]);
  if (((x < (61440.0 - 0.1)) || (x > (61440.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/const_mat4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mod_x_large_y_large_vert.vert
filename /home/oof/webgl_cleaned/mod_x_large_y_large_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='mod'), args=[BinaryExpr(op=',', left=FloatLiteral(value=300.0), right=FloatLiteral(value=100.0))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(mod(300.0, 100.0), 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(mod(300.0, 100.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mod_x_large_y_large_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/unary_frag.frag
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=Identifier(name='m'), right=IntLiteral(value=23)), right=BinaryExpr(op='==', left=Identifier(name='k'), right=UnaryExpr(op='-', operand=IntLiteral(value=23), postfix=False)))
e.right: Identifier(name='b')
e.left: BinaryExpr(op='==', left=Identifier(name='m'), right=IntLiteral(value=23))
e.right: BinaryExpr(op='==', left=Identifier(name='k'), right=UnaryExpr(op='-', operand=IntLiteral(value=23), postfix=False))
e.left: Identifier(name='m')
e.right: IntLiteral(value=23)
e.left: Identifier(name='k')
e.right: UnaryExpr(op='-', operand=IntLiteral(value=23), postfix=False)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	int m = +23;
	int k = -m;
	bool a = false;
	bool b = !a;
	float gray;
	if( (m==23) && (k==-23) && (b) )
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  int m = +23;
  int k = -m;
  bool a = false;
  bool b = !a;
  float gray;
  if ((((m == 23) && (k == -23)) && b))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/unary_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/prefixincrement_vert.vert
filename /home/oof/webgl_cleaned/prefixincrement_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='==', left=Identifier(name='k'), right=IntLiteral(value=24))
e.right: BinaryExpr(op='==', left=Identifier(name='m'), right=IntLiteral(value=24))
e.left: Identifier(name='k')
e.right: IntLiteral(value=24)
e.left: Identifier(name='m')
e.right: IntLiteral(value=24)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	int m=23;
	int k = ++m;
	float gray;
	if( (k==24) && (m==24) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  int m = 23;
  int k = ++m;
  float gray;
  if (((k == 24) && (m == 24)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/prefixincrement_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat2_copy_frag.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main ()
{
	float x;
	mat2 a = mat2(1.0, 2.0,
	              4.0, 8.0);
	mat2 b = a;
	bool elms = true;
	if(b[0][0] != 1.0) elms = false;
	if(b[0][1] != 2.0) elms = false;
	if(b[1][0] != 4.0) elms = false;
	if(b[1][1] != 8.0) elms = false;
	bool rows = true;
	x = b[0][0] + b[1][0];
	if(x < 5.0-0.1 || x > 5.0+0.1) rows = false;
	x = b[0][1] + b[1][1];
	if(x < 10.0-0.1 || x > 10.0+0.1) rows = false;
	bool cols = true;
	x = b[0][0] + b[0][1];
	if(x < 3.0-0.1 || x > 3.0+0.1) cols = false;
	x = b[1][0] + b[1][1];
	if(x < 12.0-0.1 || x > 12.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  float x;
  mat2 a = mat2(1.0, 2.0, 4.0, 8.0);
  mat2 b = a;
  bool elms = true;
  if ((b[0][0] != 1.0))
    elms = false;
  if ((b[0][1] != 2.0))
    elms = false;
  if ((b[1][0] != 4.0))
    elms = false;
  if ((b[1][1] != 8.0))
    elms = false;
  bool rows = true;
  x = (b[0][0] + b[1][0]);
  if (((x < (5.0 - 0.1)) || (x > (5.0 + 0.1))))
    rows = false;
  x = (b[0][1] + b[1][1]);
  if (((x < (10.0 - 0.1)) || (x > (10.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (b[0][0] + b[0][1]);
  if (((x < (3.0 - 0.1)) || (x > (3.0 + 0.1))))
    cols = false;
  x = (b[1][0] + b[1][1]);
  if (((x < (12.0 - 0.1)) || (x > (12.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/mat2_copy_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sin_vec2_frag_xvary.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='color'), member='rg'))])), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='color'), member='rg'))]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='color'), member='rg'))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	gl_FragColor = vec4(0.5 * sin(2.0 * M_PI * color.rg) + 0.5, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  gl_FragColor = vec4(((0.5 * sin(((2.0 * M_PI) * color.rg))) + 0.5), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/sin_vec2_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/all_bvec3_frag_ref.frag
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_all'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bool _all(in bvec3 a)
{
	bool temp = true;
	if(!a[0]) temp = false;
	if(!a[1]) temp = false;
	if(!a[2]) temp = false;
	return temp;
}
void main ()
{
	vec3 c = floor(4.0 * color.rgb);
	gl_FragColor = vec4(vec3(_all(bvec3(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bool _all(in bvec3 a)
{
  bool temp = true;
  if (!a[0])
    temp = false;
  if (!a[1])
    temp = false;
  if (!a[2])
    temp = false;
  return temp;
}

void main()
{
  vec3 c = floor((4.0 * color.rgb));
  gl_FragColor = vec4(vec3(_all(bvec3(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/all_bvec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_vec3_vert_xconst2_yvary.vert
filename /home/oof/webgl_cleaned/pow_vec3_vert_xconst2_yvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = 2.0 * (gtf_Color.rgb - 0.5);
	color = vec4(pow(vec3(2.0), 2.0 * c) / 4.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = (2.0 * (gtf_Color.rgb - 0.5));
  color = vec4((pow(vec3(2.0), (2.0 * c)) / 4.0), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_vec3_vert_xconst2_yvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/int_empty_empty_int_array_vert.vert
filename /home/oof/webgl_cleaned/int_empty_empty_int_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=1))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
int function(int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main ()
{
	int par[3];
	int ret = 0;
	float gray = 0.0;
	set_all(par, 1);
	ret = function(par);
	if(is_all(par, 1) && (ret == 1))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
int function(int par[3])
{
	if(is_all(par, 1))
	{
		set_all(par, 0);
		return 1;
	}
	else
		return 0;
}
bool is_all(const in int array[3], const in int value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out int array[3], const in int value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

int function(int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main()
{
  int par[3];
  int ret = 0;
  float gray = 0.0;
  set_all(par, 1);
  ret = function(par);
  if ((is_all(par, 1) && (ret == 1)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

int function(int par[3])
{
  if (is_all(par, 1))
  {
    set_all(par, 0);
    return 1;
  }
  else
    return 0;
}

bool is_all(const in int array[3], const in int value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out int array[3], const in int value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/int_empty_empty_int_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/int_empty_out_int_array_vert.vert
filename /home/oof/webgl_cleaned/int_empty_out_int_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
int function(out int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main ()
{
	int par[3];
	int ret = 0;
	float gray = 0.0;
	set_all(par, 1);
	ret = function(par);
	if(is_all(par, 0) && (ret == 1))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
int function(out int par[3])
{
	set_all(par, 0);
	return 1;
}
bool is_all(const in int array[3], const in int value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out int array[3], const in int value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

int function(out int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main()
{
  int par[3];
  int ret = 0;
  float gray = 0.0;
  set_all(par, 1);
  ret = function(par);
  if ((is_all(par, 0) && (ret == 1)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

int function(out int par[3])
{
  set_all(par, 0);
  return 1;
}

bool is_all(const in int array[3], const in int value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out int array[3], const in int value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/int_empty_out_int_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equality_vert.vert
filename /home/oof/webgl_cleaned/equality_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='m')
e.right: IntLiteral(value=102)
e.left: Identifier(name='k')
e.right: IntLiteral(value=102)
e.left: Identifier(name='equalto')
e.right: Identifier(name='notequalto')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	int m = 102;
	int k = 12;
	bool equalto = (m == 102);
	bool notequalto = (k != 102);
	float gray;
	if( equalto && notequalto )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  int m = 102;
  int k = 12;
  bool equalto = (m == 102);
  bool notequalto = (k != 102);
  float gray;
  if ((equalto && notequalto))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equality_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/dot_float_vert_xvaryyone.vert
filename /home/oof/webgl_cleaned/dot_float_vert_xvaryyone.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=1.0))])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(dot(gtf_Color.r, 1.0)), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3(dot(gtf_Color.r, 1.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/dot_float_vert_xvaryyone.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log_float_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/log_float_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: Identifier(name='z')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=FloatLiteral(value=3.466)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: FloatLiteral(value=3.466)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x = 31.0 * gtf_Color.r + 1.0;
	float y = 0.0;
	float z;
	int n = 50;
	z = (x - 1.0) / (x + 1.0);
	float p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= 2.0;
	color = vec4(y / 3.466, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x = ((31.0 * gtf_Color.r) + 1.0);
  float y = 0.0;
  float z;
  int n = 50;
  z = ((x - 1.0) / (x + 1.0));
  float p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= 2.0);
  color = vec4((y / 3.466), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_float_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThan_ivec3_vert.vert
filename /home/oof/webgl_cleaned/greaterThan_ivec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(greaterThan(ivec3(c), ivec3(0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(greaterThan(ivec3(c), ivec3(0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/greaterThan_ivec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_float_vec2_vert.vert
filename /home/oof/webgl_cleaned/vec3_float_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=FloatLiteral(value=139.0))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=53.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=139.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 b = vec2(53.0, 139.0);
	vec3 a = vec3(13.0, b);
	float gray;
	if( (a[0] == 13.0) && (a[1] == 53.0) && (a[2] == 139.0) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 b = vec2(53.0, 139.0);
  vec3 a = vec3(13.0, b);
  float gray;
  if ((((a[0] == 13.0) && (a[1] == 53.0)) && (a[2] == 139.0)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec3_float_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_xyzw_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='m')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.xyzw;
	gl_FragColor = m;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.xyzw;
  gl_FragColor = m;
}


Filename: /home/oof/webgl_cleaned/vec4_xyzw_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/matrix_V100_frag.frag
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
    mat3 m;
    mat4 m1 = mat4(m);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  mat3 m;
  mat4 m1 = mat4(m);
}


Filename: /home/oof/webgl_cleaned/matrix_V100_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/fract_vec2_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = 10.0 * 2.0 * (color.rg - 0.5);
	c = abs((c - floor(c)) - 0.5) * 2.0;
	gl_FragColor = vec4(c, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = ((10.0 * 2.0) * (color.rg - 0.5));
  c = (abs(((c - floor(c)) - 0.5)) * 2.0);
  gl_FragColor = vec4(c, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/fract_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/lessThanEqual_ivec2_vert.vert
filename /home/oof/webgl_cleaned/lessThanEqual_ivec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(lessThanEqual(ivec2(c), ivec2(0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(lessThanEqual(ivec2(c), ivec2(0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThanEqual_ivec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/CorrectBuiltInOveride_frag.frag
e.left: Identifier(name='f')
e.right: CallExpr(callee=Identifier(name='radians'), args=[Identifier(name='f')])
Original source code: precision mediump float;
precision mediump int;

precision mediump int;
int radians(int f)
{
    return f;
}
void main()
{
    int f = 45;
    f = radians(f);
}





New source code: precision mediump float;
precision mediump int;

int radians(int f)
{
  return f;
}

void main()
{
  int f = 45;
  f = radians(f);
}


Filename: /home/oof/webgl_cleaned/CorrectBuiltInOveride_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_empty_empty_vec4_array_vert.vert
filename /home/oof/webgl_cleaned/vec4_empty_empty_vec4_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
vec4 function(vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main ()
{
	vec4 par[3];
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
	ret = function(par);
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
vec4 function(vec4 par[3])
{
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
	{
		set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
		return vec4(1.0, 1.0, 1.0, 1.0);
	}
	else
		return vec4(0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in vec4 array[3], const in vec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 array[3], const in vec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

vec4 function(vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main()
{
  vec4 par[3];
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
  ret = function(par);
  if ((is_all(par, vec4(1.0, 1.0, 1.0, 1.0)) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

vec4 function(vec4 par[3])
{
  if (is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
  {
    set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
    return vec4(1.0, 1.0, 1.0, 1.0);
  }
  else
    return vec4(0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in vec4 array[3], const in vec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 array[3], const in vec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_empty_vec4_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_qsp_t_1vec3_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.qsp;
	float t = al.t;
	vec4 a = vec4(m.t, t, m.p, m.s);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.qsp;
  float t = al.t;
  vec4 a = vec4(m.t, t, m.p, m.s);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_qsp_t_1vec3_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_stpq_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='m')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.stpq;
	gl_FragColor = m;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.stpq;
  gl_FragColor = m;
}


Filename: /home/oof/webgl_cleaned/vec4_stpq_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_vec3_vert_xconsthalf_yvary_ref.vert
filename /home/oof/webgl_cleaned/pow_vec3_vert_xconsthalf_yvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = -2.0 * (gtf_Color.rgb - 0.5);
	color = vec4(exp2(2.0 * c) / 4.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = (-2.0 * (gtf_Color.rgb - 0.5));
  color = vec4((exp2((2.0 * c)) / 4.0), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_vec3_vert_xconsthalf_yvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/cos_float_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='color'), member='r')])]), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: CallExpr(callee=Identifier(name='fract'), args=[CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='color'), member='r')])])
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='i')
e.right: IntLiteral(value=10)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='fact_even')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='fact_odd')
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='-', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))])), right=Identifier(name='fact_even'))
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))]))
e.right: Identifier(name='fact_even')
e.left: Identifier(name='sign')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='cos_c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))]), right=BinaryExpr(op='/', left=Identifier(name='sum'), right=Identifier(name='fact_odd')))
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))])
e.right: BinaryExpr(op='/', left=Identifier(name='sum'), right=Identifier(name='fact_odd'))
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='sum')
e.right: Identifier(name='fact_odd')
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=Identifier(name='sign'), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='cos_c')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='cos_c'))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='cos_c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 2.0 * M_PI * ( fract(abs(color.r)) - 0.5 );
	float sign =  1.0;
	float cos_c = -1.0;
	float fact_even = 1.0;
	float fact_odd  = 1.0;
	float sum;
	for(int i = 2; i <= 10; i += 2)
	{
		fact_even *= float(i);
		fact_odd  *= float(i-1);
		sum = sign * pow(abs(c), float(i/2))/fact_even;
		cos_c += pow(abs(c), float(i/2))*(sum/fact_odd);
		sign = -sign;
	}
	gl_FragColor = vec4(0.5 * cos_c + 0.5, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = ((2.0 * M_PI) * (fract(abs(color.r)) - 0.5));
  float sign = 1.0;
  float cos_c = -1.0;
  float fact_even = 1.0;
  float fact_odd = 1.0;
  float sum;
  for (int i = 2; (i <= 10); (i += 2))
  {
    (fact_even *= float(i));
    (fact_odd *= float((i - 1)));
    sum = ((sign * pow(abs(c), float((i / 2)))) / fact_even);
    (cos_c += (pow(abs(c), float((i / 2))) * (sum / fact_odd)));
    sign = -sign;
  }
  gl_FragColor = vec4(((0.5 * cos_c) + 0.5), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/cos_float_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log2_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/log2_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='z')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=FloatLiteral(value=2.0), right=Identifier(name='ln2'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='ln2')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=FloatLiteral(value=5.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
const float ln2 = 0.69314718055994530941723212145818;
void main ()
{
	vec2 x = 31.0 * gtf_Color.rg + 1.0;
	vec2 y = vec2(0.0);
	vec2 z;
	int n = 50;
	z = (x - 1.0) / (x + 1.0);
	vec2 p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= 2.0 / ln2;
	color = vec4(y / 5.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

const float ln2 = 0.6931471805599453;

void main()
{
  vec2 x = ((31.0 * gtf_Color.rg) + 1.0);
  vec2 y = vec2(0.0);
  vec2 z;
  int n = 50;
  z = ((x - 1.0) / (x + 1.0));
  vec2 p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= (2.0 / ln2));
  color = vec4((y / 5.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log2_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/notEqual_bvec3_vert.vert
filename /home/oof/webgl_cleaned/notEqual_bvec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(1.5 * gtf_Color.rgb);
	vec3 result = vec3(notEqual(bvec3(c), bvec3(true)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor((1.5 * gtf_Color.rgb));
  vec3 result = vec3(notEqual(bvec3(c), bvec3(true)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/notEqual_bvec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/int_empty_in_int_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=IntLiteral(value=1))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='par')
e.right: IntLiteral(value=0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
int function(in int par);
void main ()
{
	int par = 1;
	int ret = 0;
	float gray = 0.0;
	ret = function(par);
	if((par == 1) && (ret == 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
int function(in int par)
{
	if(par == 1)
	{
		par = 0;
		return 1;
	}
	else
		return 0;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

int function(in int par);
void main()
{
  int par = 1;
  int ret = 0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 1) && (ret == 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

int function(in int par)
{
  if ((par == 1))
  {
    par = 0;
    return 1;
  }
  else
    return 0;
}


Filename: /home/oof/webgl_cleaned/int_empty_in_int_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equal_bvec2_frag.frag
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(1.5 * color.rg);
	vec2 result = vec2(equal(bvec2(c), bvec2(true)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor((1.5 * color.rg));
  vec2 result = vec2(equal(bvec2(c), bvec2(true)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_bvec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_vec2_vert_xconsthalf_yvary_ref.vert
filename /home/oof/webgl_cleaned/pow_vec2_vert_xconsthalf_yvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = -2.0 * (gtf_Color.rg - 0.5);
	color = vec4(exp2(2.0 * c) / 4.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = (-2.0 * (gtf_Color.rg - 0.5));
  color = vec4((exp2((2.0 * c)) / 4.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_vert_xconsthalf_yvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_ps_t_1vec2_1float_vert.vert
filename /home/oof/webgl_cleaned/vec3_ps_t_1vec2_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.stp;
	vec2 t = m.ps;
	float k = m.t;
	vec4 a = vec4(t.t, k, t.s, lightloc.q);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.stp;
  vec2 t = m.ps;
  float k = m.t;
  vec4 a = vec4(t.t, k, t.s, lightloc.q);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_ps_t_1vec2_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/atan_float_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='c')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='atan_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c')), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c')), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='atan_c'))
e.right: Identifier(name='M_PI')
e.left: Identifier(name='sign')
e.right: Identifier(name='atan_c')
e.left: Identifier(name='c')
e.right: BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=Identifier(name='c'))
e.left: FloatLiteral(value=1.0)
e.right: Identifier(name='c')
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='atan_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c')))
e.right: Identifier(name='M_PI')
e.left: Identifier(name='sign')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=Identifier(name='atan_c'))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='atan_c')
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='result')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 4.0 * 2.0 * (color.r - 0.5);
	float atan_c = 0.0;
	float scale = 1.0;
	float sign = 1.0;
	vec4 result;
	if(c < 0.0)
	{
		sign = -1.0;
		c *= -1.0;
	}
	if(c <= 1.0)
	{
		for(int i = 1; i < 12; i += 2)
		{
			atan_c += scale * pow(c, float(i)) / float(i);
			scale *= -1.0;
		}
		result = vec4(sign * atan_c / M_PI + 0.5, 0.0, 0.0, 1.0);
	}
	else
	{
		c = 1.0 / c;
		for(int i = 1; i < 12; i += 2)
		{
			atan_c += scale * pow(c, float(i)) / float(i);
			scale *= -1.0;
		}
		result = vec4(sign * (M_PI / 2.0 - atan_c) / M_PI + 0.5, 0.0, 0.0, 1.0);
	}
	gl_FragColor = result;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = ((4.0 * 2.0) * (color.r - 0.5));
  float atan_c = 0.0;
  float scale = 1.0;
  float sign = 1.0;
  vec4 result;
  if ((c < 0.0))
  {
    sign = -1.0;
    (c *= -1.0);
  }
  if ((c <= 1.0))
  {
    for (int i = 1; (i < 12); (i += 2))
    {
      (atan_c += ((scale * pow(c, float(i))) / float(i)));
      (scale *= -1.0);
    }
    result = vec4((((sign * atan_c) / M_PI) + 0.5), 0.0, 0.0, 1.0);
  }
  else
  {
    c = (1.0 / c);
    for (int i = 1; (i < 12); (i += 2))
    {
      (atan_c += ((scale * pow(c, float(i))) / float(i)));
      (scale *= -1.0);
    }
    result = vec4((((sign * ((M_PI / 2.0) - atan_c)) / M_PI) + 0.5), 0.0, 0.0, 1.0);
  }
  gl_FragColor = result;
}


Filename: /home/oof/webgl_cleaned/atan_float_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/int_empty_inout_int_array_vert.vert
filename /home/oof/webgl_cleaned/int_empty_inout_int_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
int function(inout int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main ()
{
	int par[3];
	int ret = 0;
	float gray = 0.0;
	set_all(par, 1);
	ret = function(par);
	if(is_all(par, 0) && (ret == 1))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
int function(inout int par[3])
{
	if(is_all(par, 1))
	{
		set_all(par, 0);
		return 1;
	}
	else
		return 0;
}
bool is_all(const in int array[3], const in int value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out int array[3], const in int value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

int function(inout int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main()
{
  int par[3];
  int ret = 0;
  float gray = 0.0;
  set_all(par, 1);
  ret = function(par);
  if ((is_all(par, 0) && (ret == 1)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

int function(inout int par[3])
{
  if (is_all(par, 1))
  {
    set_all(par, 0);
    return 1;
  }
  else
    return 0;
}

bool is_all(const in int array[3], const in int value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out int array[3], const in int value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/int_empty_inout_int_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/clamp_vec2_vert_xvary_yconstquarter.vert
filename /home/oof/webgl_cleaned/clamp_vec2_vert_xvary_yconstquarter.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='clamp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='min_c')), right=Identifier(name='max_c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float min_c = 0.25;
	const float max_c = 0.75;
	vec2 c = gtf_Color.rg;
	color = vec4(clamp(c, min_c, max_c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float min_c = 0.25;
  const float max_c = 0.75;
  vec2 c = gtf_Color.rg;
  color = vec4(clamp(c, min_c, max_c), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/clamp_vec2_vert_xvary_yconstquarter.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/normalize_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/normalize_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='gtf_Color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[FloatLiteral(value=0.25)])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='normalize'), args=[MemberExpr(base=Identifier(name='tmp_Color'), member='rg')]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 tmp_Color = gtf_Color + vec4(0.25);
	color = vec4(normalize(tmp_Color.rg), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 tmp_Color = (gtf_Color + vec4(0.25));
  color = vec4(normalize(tmp_Color.rg), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/normalize_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/extension8_V100_frag.frag
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
}





New source code: precision mediump float;
precision mediump int;

void main()
{
}


Filename: /home/oof/webgl_cleaned/extension8_V100_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/faceforward_vec3_frag_nvaryiconst.frag
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='z')
e.right: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='phi')])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='faceforward'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=Identifier(name='v1'))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='faceforward'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=Identifier(name='v1'))]), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='faceforward'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=Identifier(name='v1'))])
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 v1;
	vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
	float theta = color.g * 2.0 * M_PI;
	float phi = color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	v1.z = cos(phi);
	gl_FragColor = vec4((faceforward(v1, v2, v1) + 1.0) / 2.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 v1;
  vec3 v2 = normalize(vec3(1.0, 1.0, 1.0));
  float theta = ((color.g * 2.0) * M_PI);
  float phi = ((color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  v1.z = cos(phi);
  gl_FragColor = vec4(((faceforward(v1, v2, v1) + 1.0) / 2.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/faceforward_vec3_frag_nvaryiconst.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/refract_vec2_vert_ivarynconst_ref.vert
filename /home/oof/webgl_cleaned/refract_vec2_vert_ivarynconst_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:24: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:25: 'gl_Position' : undeclared identifier
ERROR: 0:25: 'assign' : l-value required (can't modify a const)
ERROR: 0:25: '=' : dimension mismatch
ERROR: 0:25: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: FloatLiteral(value=1.0)
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='eta')), right=BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]))))
e.left: BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='eta'))
e.right: BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])))
e.left: Identifier(name='eta')
e.right: Identifier(name='eta')
e.left: FloatLiteral(value=1.0)
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]))
e.left: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.left: Identifier(name='k')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.0)])
e.left: Identifier(name='result')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='v1')), right=BinaryExpr(op='*', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')])), right=Identifier(name='v2')))
e.left: BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='v1'))
e.right: BinaryExpr(op='*', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')])), right=Identifier(name='v2'))
e.left: Identifier(name='eta')
e.right: Identifier(name='v1')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')]))
e.right: Identifier(name='v2')
e.left: BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]))
e.right: CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')])
e.left: Identifier(name='eta')
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='result'), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=Identifier(name='result'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='result')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 v1;
	vec2 v2 = normalize(vec2(1.0, 1.0));
	float theta = gtf_Color.g * 2.0 * M_PI;
	float phi = gtf_Color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	vec2 result;
	float eta = 0.5;
	float k = 1.0 - eta * eta * (1.0 - dot(v1, v2) * dot(v1, v2));
	if(k < 0.0)
		result = vec2(0.0);
	else
		result = eta * v1 - (eta * dot(v1, v2) + sqrt(k)) * v2;
	color = vec4((result + 1.0) / 2.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 v1;
  vec2 v2 = normalize(vec2(1.0, 1.0));
  float theta = ((gtf_Color.g * 2.0) * M_PI);
  float phi = ((gtf_Color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  vec2 result;
  float eta = 0.5;
  float k = (1.0 - ((eta * eta) * (1.0 - (dot(v1, v2) * dot(v1, v2)))));
  if ((k < 0.0))
    result = vec2(0.0);
  else
    result = ((eta * v1) - (((eta * dot(v1, v2)) + sqrt(k)) * v2));
  color = vec4(((result + 1.0) / 2.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/refract_vec2_vert_ivarynconst_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_rg_b_1vec2_1float_vert.vert
filename /home/oof/webgl_cleaned/vec3_rg_b_1vec2_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.rgb;
	vec2 t = m.rg;
	float k = m.b;
	vec4 a = vec4(t, k, lightloc.a);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.rgb;
  vec2 t = m.rg;
  float k = m.b;
  vec4 a = vec4(t, k, lightloc.a);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_rg_b_1vec2_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat3_copy_frag.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=6.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=9.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=18.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=18.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=6.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=6.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=24.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=24.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main ()
{
	float x;
	mat3 a = mat3( 1.0, 2.0, 3.0,
	               4.0, 5.0, 6.0,
	               7.0, 8.0, 9.0);
	mat3 b = a;
	bool elms = true;
	if(b[0][0] != 1.0) elms = false;
	if(b[0][1] != 2.0) elms = false;
	if(b[0][2] != 3.0) elms = false;
	if(b[1][0] != 4.0) elms = false;
	if(b[1][1] != 5.0) elms = false;
	if(b[1][2] != 6.0) elms = false;
	if(b[2][0] != 7.0) elms = false;
	if(b[2][1] != 8.0) elms = false;
	if(b[2][2] != 9.0) elms = false;
	bool rows = true;
	x = b[0][0] + b[1][0] + b[2][0];
	if( x < 12.0-0.1 || x > 12.0+0.1 ) rows = false;
	x = b[0][1] + b[1][1] + b[2][1];
	if(x < 15.0-0.1 || x > 15.0+0.1 ) rows = false;
	x = b[0][2] + b[1][2] + b[2][2];
	if(x < 18.0-0.1 || x > 18.0+0.1 ) rows = false;
	bool cols = true;
	x = b[0][0] + b[0][1] + b[0][2];
	if( x < 6.0-0.1 || x > 6.0+0.1 ) cols = false;
	x = b[1][0] + b[1][1] + b[1][2];
	if(x < 15.0-0.1 || x > 15.0+0.1) cols = false;
	x = b[2][0] + b[2][1] + b[2][2];
	if(x < 24.0-0.1 || x > 24.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  float x;
  mat3 a = mat3(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0);
  mat3 b = a;
  bool elms = true;
  if ((b[0][0] != 1.0))
    elms = false;
  if ((b[0][1] != 2.0))
    elms = false;
  if ((b[0][2] != 3.0))
    elms = false;
  if ((b[1][0] != 4.0))
    elms = false;
  if ((b[1][1] != 5.0))
    elms = false;
  if ((b[1][2] != 6.0))
    elms = false;
  if ((b[2][0] != 7.0))
    elms = false;
  if ((b[2][1] != 8.0))
    elms = false;
  if ((b[2][2] != 9.0))
    elms = false;
  bool rows = true;
  x = ((b[0][0] + b[1][0]) + b[2][0]);
  if (((x < (12.0 - 0.1)) || (x > (12.0 + 0.1))))
    rows = false;
  x = ((b[0][1] + b[1][1]) + b[2][1]);
  if (((x < (15.0 - 0.1)) || (x > (15.0 + 0.1))))
    rows = false;
  x = ((b[0][2] + b[1][2]) + b[2][2]);
  if (((x < (18.0 - 0.1)) || (x > (18.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = ((b[0][0] + b[0][1]) + b[0][2]);
  if (((x < (6.0 - 0.1)) || (x > (6.0 + 0.1))))
    cols = false;
  x = ((b[1][0] + b[1][1]) + b[1][2]);
  if (((x < (15.0 - 0.1)) || (x > (15.0 + 0.1))))
    cols = false;
  x = ((b[2][0] + b[2][1]) + b[2][2]);
  if (((x < (24.0 - 0.1)) || (x > (24.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/mat3_copy_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_xy_zw_2vec2_vert.vert
filename /home/oof/webgl_cleaned/vec4_xy_zw_2vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec2 m = lightloc.xy;
	vec2 n = lightloc.zw;
	vec4 a = vec4(m,n);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec2 m = lightloc.xy;
  vec2 n = lightloc.zw;
  vec4 a = vec4(m, n);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_xy_zw_2vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log_float_frag_xvary01_ref.frag
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='z')
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))])
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float x = (color.r + 0.01) / 1.01;
	float y = 0.0;
	float z;
	int n = 50;
	z = abs((x - 1.0) / (x + 1.0));
	float p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= -2.0;
	gl_FragColor = vec4(y / -4.61, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float x = ((color.r + 0.01) / 1.01);
  float y = 0.0;
  float z;
  int n = 50;
  z = abs(((x - 1.0) / (x + 1.0)));
  float p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= -2.0);
  gl_FragColor = vec4((y / -4.61), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log_float_frag_xvary01_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bvec4_empty_in_bvec4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='bvec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BoolLiteral(value=True), right=BoolLiteral(value=True)), right=BoolLiteral(value=True)), right=BoolLiteral(value=True))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=BoolLiteral(value=True))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec4 function(in bvec4 par[3]);
bool is_all(const in bvec4 par, const in bool value);
bool is_all(const in bvec4 array[3], const in bvec4 value);
void set_all(out bvec4 array[3], const in bvec4 value);
void main ()
{
	bvec4 par[3];
	bvec4 ret = bvec4(false, false, false, false);
	float gray = 0.0;
	set_all(par, bvec4(true, true, true, true));
	ret = function(par);
	if(is_all(par, bvec4(true, true, true, true)) && is_all(ret, true))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
bvec4 function(in bvec4 par[3])
{
	if(is_all(par, bvec4(true, true, true, true)))
	{
		set_all(par, bvec4(false, false, false, false));
		return bvec4(true, true, true, true);
	}
	else
		return bvec4(false, false, false, false);
}
bool is_all(const in bvec4 par, const in bool value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in bvec4 array[3], const in bvec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out bvec4 array[3], const in bvec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec4 function(in bvec4 par[3]);
bool is_all(const in bvec4 par, const in bool value);
bool is_all(const in bvec4 array[3], const in bvec4 value);
void set_all(out bvec4 array[3], const in bvec4 value);
void main()
{
  bvec4 par[3];
  bvec4 ret = bvec4(false, false, false, false);
  float gray = 0.0;
  set_all(par, bvec4(true, true, true, true));
  ret = function(par);
  if ((is_all(par, bvec4(true, true, true, true)) && is_all(ret, true)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

bvec4 function(in bvec4 par[3])
{
  if (is_all(par, bvec4(true, true, true, true)))
  {
    set_all(par, bvec4(false, false, false, false));
    return bvec4(true, true, true, true);
  }
  else
    return bvec4(false, false, false, false);
}

bool is_all(const in bvec4 par, const in bool value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in bvec4 array[3], const in bvec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out bvec4 array[3], const in bvec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/bvec4_empty_in_bvec4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/min_vec2_frag_xvary_yconsthalf_ref.frag
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='min_c'), index=IntLiteral(value=1))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec2 min_c = vec2(0.5, 0.5);
	vec2 c = color.rg;
	if(c[0] > min_c[0]) c[0] = min_c[0];
	if(c[1] > min_c[1]) c[1] = min_c[1];
	gl_FragColor = vec4(c, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec2 min_c = vec2(0.5, 0.5);
  vec2 c = color.rg;
  if ((c[0] > min_c[0]))
    c[0] = min_c[0];
  if ((c[1] > min_c[1]))
    c[1] = min_c[1];
  gl_FragColor = vec4(c, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/min_vec2_frag_xvary_yconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/matrixMultComp_mat3_vert_ref.vert
filename /home/oof/webgl_cleaned/matrixMultComp_mat3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:32: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:33: 'gl_Position' : undeclared identifier
ERROR: 0:33: 'assign' : l-value required (can't modify a const)
ERROR: 0:33: '=' : dimension mismatch
ERROR: 0:33: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='result'), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='result')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	mat3 m1 = mat3(gtf_Color.rgb, gtf_Color.rgb, gtf_Color.rgb);
	mat3 m2 = mat3(1.0, 0.5, 0.5, 0.5, 1.0, 0.5, 0.5, 0.5, 1.0);
	mat3 m3 = mat3(0.0);
	vec3 result = vec3(0.0, 0.0, 0.0);
	m3[0][0] = m1[0][0] * m2[0][0];
	m3[0][1] = m1[0][1] * m2[0][1];
	m3[0][2] = m1[0][2] * m2[0][2];
	m3[1][0] = m1[1][0] * m2[1][0];
	m3[1][1] = m1[1][1] * m2[1][1];
	m3[1][2] = m1[1][2] * m2[1][2];
	m3[2][0] = m1[2][0] * m2[2][0];
	m3[2][1] = m1[2][1] * m2[2][1];
	m3[2][2] = m1[2][2] * m2[2][2];
	result[0] += m3[0][0];
	result[0] += m3[0][1];
	result[0] += m3[0][2];
	result[1] += m3[1][0];
	result[1] += m3[1][1];
	result[1] += m3[1][2];
	result[2] += m3[2][0];
	result[2] += m3[2][1];
	result[2] += m3[2][2];
	color = vec4(result / 2.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  mat3 m1 = mat3(gtf_Color.rgb, gtf_Color.rgb, gtf_Color.rgb);
  mat3 m2 = mat3(1.0, 0.5, 0.5, 0.5, 1.0, 0.5, 0.5, 0.5, 1.0);
  mat3 m3 = mat3(0.0);
  vec3 result = vec3(0.0, 0.0, 0.0);
  m3[0][0] = (m1[0][0] * m2[0][0]);
  m3[0][1] = (m1[0][1] * m2[0][1]);
  m3[0][2] = (m1[0][2] * m2[0][2]);
  m3[1][0] = (m1[1][0] * m2[1][0]);
  m3[1][1] = (m1[1][1] * m2[1][1]);
  m3[1][2] = (m1[1][2] * m2[1][2]);
  m3[2][0] = (m1[2][0] * m2[2][0]);
  m3[2][1] = (m1[2][1] * m2[2][1]);
  m3[2][2] = (m1[2][2] * m2[2][2]);
  (result[0] += m3[0][0]);
  (result[0] += m3[0][1]);
  (result[0] += m3[0][2]);
  (result[1] += m3[1][0]);
  (result[1] += m3[1][1]);
  (result[1] += m3[1][2]);
  (result[2] += m3[2][0]);
  (result[2] += m3[2][1]);
  (result[2] += m3[2][2]);
  color = vec4((result / 2.0), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/matrixMultComp_mat3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/inversesqrt_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/inversesqrt_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=99.0))
e.right: FloatLiteral(value=1.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=99.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = (gtf_Color.rg * 99.0) + 1.0;
	color = vec4(1.0 / sqrt(c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = ((gtf_Color.rg * 99.0) + 1.0);
  color = vec4((1.0 / sqrt(c)), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/inversesqrt_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_empty_out_vec4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
vec4 function(out vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main ()
{
	vec4 par[3];
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
	ret = function(par);
	if(is_all(par, vec4(0.0, 0.0, 0.0, 0.0)) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
vec4 function(out vec4 par[3])
{
	set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
	return vec4(1.0, 1.0, 1.0, 1.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in vec4 array[3], const in vec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 array[3], const in vec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

vec4 function(out vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main()
{
  vec4 par[3];
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
  ret = function(par);
  if ((is_all(par, vec4(0.0, 0.0, 0.0, 0.0)) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

vec4 function(out vec4 par[3])
{
  set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
  return vec4(1.0, 1.0, 1.0, 1.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in vec4 array[3], const in vec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 array[3], const in vec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_out_vec4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/asin_float_frag_xvary_ref.frag
e.left: Identifier(name='a')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a')), right=Identifier(name='s'))
e.left: BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a'))
e.right: Identifier(name='s')
e.left: Identifier(name='b')
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.5708), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.06544), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.848062), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.675132), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.523599), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.384397), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.25268), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.125328), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))
e.right: FloatLiteral(value=0.125328)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))
e.right: FloatLiteral(value=0.25268)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))
e.right: FloatLiteral(value=0.384397)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))
e.right: FloatLiteral(value=0.523599)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))
e.right: FloatLiteral(value=0.675132)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))
e.right: FloatLiteral(value=0.848062)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))
e.right: FloatLiteral(value=1.06544)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.right: FloatLiteral(value=1.5708)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='+', left=Identifier(name='c'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='arrVal')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='arrVal')])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=0)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=1)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=2)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=3)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=4)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=5)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=6)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=7)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=8)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=9)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=10)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=11)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=12)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=13)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=14)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=15)
e.left: Identifier(name='asin_c')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))), right=Identifier(name='weight'))])
e.left: Identifier(name='arr0')
e.right: IntLiteral(value=16)
e.left: Identifier(name='asin_c')
e.right: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=Identifier(name='asin_c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=Identifier(name='asin_c'), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='asin_c')
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float lerp(float a, float b, float s)
{
	return a + (b - a) * s;
}
void main ()
{
	float asinValues[17];
	asinValues[0] = -1.5708;
	asinValues[1] = -1.06544;
	asinValues[2] = -0.848062;
	asinValues[3] = -0.675132;
	asinValues[4] = -0.523599;
	asinValues[5] = -0.384397;
	asinValues[6] = -0.25268;
	asinValues[7] = -0.125328;
	asinValues[8] = 0.0;
	asinValues[9] = 0.125328;
	asinValues[10] = 0.25268;
	asinValues[11] = 0.384397;
	asinValues[12] = 0.523599;
	asinValues[13] = 0.675132;
	asinValues[14] = 0.848062;
	asinValues[15] = 1.06544;
	asinValues[16] = 1.5708;
	const float M_PI = 3.14159265358979323846;
	float c = 2.0 * (color.r - 0.5);
	float arrVal = (c + 1.0) * 8.0;
	int arr0 = int(floor(arrVal));
	float weight = arrVal - floor(arrVal);
	float asin_c = 0.0;
	if (arr0 == 0)
		asin_c = lerp(asinValues[0], asinValues[1], weight);
	else if (arr0 == 1)
		asin_c = lerp(asinValues[1], asinValues[2], weight);
	else if (arr0 == 2)
		asin_c = lerp(asinValues[2], asinValues[3], weight);
	else if (arr0 == 3)
		asin_c = lerp(asinValues[3], asinValues[4], weight);
	else if (arr0 == 4)
		asin_c = lerp(asinValues[4], asinValues[5], weight);
	else if (arr0 == 5)
		asin_c = lerp(asinValues[5], asinValues[6], weight);
	else if (arr0 == 6)
		asin_c = lerp(asinValues[6], asinValues[7], weight);
	else if (arr0 == 7)
		asin_c = lerp(asinValues[7], asinValues[8], weight);
	else if (arr0 == 8)
		asin_c = lerp(asinValues[8], asinValues[9], weight);
	else if (arr0 == 9)
		asin_c = lerp(asinValues[9], asinValues[10], weight);
	else if (arr0 == 10)
		asin_c = lerp(asinValues[10], asinValues[11], weight);
	else if (arr0 == 11)
		asin_c = lerp(asinValues[11], asinValues[12], weight);
	else if (arr0 == 12)
		asin_c = lerp(asinValues[12], asinValues[13], weight);
	else if (arr0 == 13)
		asin_c = lerp(asinValues[13], asinValues[14], weight);
	else if (arr0 == 14)
		asin_c = lerp(asinValues[14], asinValues[15], weight);
	else if (arr0 == 15)
		asin_c = lerp(asinValues[15], asinValues[16], weight);
	else if (arr0 == 16)
		asin_c = asinValues[16];
	gl_FragColor = vec4(asin_c / M_PI + 0.5, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float lerp(float a, float b, float s)
{
  return (a + ((b - a) * s));
}

void main()
{
  float asinValues[17];
  asinValues[0] = -1.5708;
  asinValues[1] = -1.06544;
  asinValues[2] = -0.848062;
  asinValues[3] = -0.675132;
  asinValues[4] = -0.523599;
  asinValues[5] = -0.384397;
  asinValues[6] = -0.25268;
  asinValues[7] = -0.125328;
  asinValues[8] = 0.0;
  asinValues[9] = 0.125328;
  asinValues[10] = 0.25268;
  asinValues[11] = 0.384397;
  asinValues[12] = 0.523599;
  asinValues[13] = 0.675132;
  asinValues[14] = 0.848062;
  asinValues[15] = 1.06544;
  asinValues[16] = 1.5708;
  const float M_PI = 3.141592653589793;
  float c = (2.0 * (color.r - 0.5));
  float arrVal = ((c + 1.0) * 8.0);
  int arr0 = int(floor(arrVal));
  float weight = (arrVal - floor(arrVal));
  float asin_c = 0.0;
  if ((arr0 == 0))
    asin_c = lerp(asinValues[0], asinValues[1], weight);
  else
    if ((arr0 == 1))
      asin_c = lerp(asinValues[1], asinValues[2], weight);
    else
      if ((arr0 == 2))
        asin_c = lerp(asinValues[2], asinValues[3], weight);
      else
        if ((arr0 == 3))
          asin_c = lerp(asinValues[3], asinValues[4], weight);
        else
          if ((arr0 == 4))
            asin_c = lerp(asinValues[4], asinValues[5], weight);
          else
            if ((arr0 == 5))
              asin_c = lerp(asinValues[5], asinValues[6], weight);
            else
              if ((arr0 == 6))
                asin_c = lerp(asinValues[6], asinValues[7], weight);
              else
                if ((arr0 == 7))
                  asin_c = lerp(asinValues[7], asinValues[8], weight);
                else
                  if ((arr0 == 8))
                    asin_c = lerp(asinValues[8], asinValues[9], weight);
                  else
                    if ((arr0 == 9))
                      asin_c = lerp(asinValues[9], asinValues[10], weight);
                    else
                      if ((arr0 == 10))
                        asin_c = lerp(asinValues[10], asinValues[11], weight);
                      else
                        if ((arr0 == 11))
                          asin_c = lerp(asinValues[11], asinValues[12], weight);
                        else
                          if ((arr0 == 12))
                            asin_c = lerp(asinValues[12], asinValues[13], weight);
                          else
                            if ((arr0 == 13))
                              asin_c = lerp(asinValues[13], asinValues[14], weight);
                            else
                              if ((arr0 == 14))
                                asin_c = lerp(asinValues[14], asinValues[15], weight);
                              else
                                if ((arr0 == 15))
                                  asin_c = lerp(asinValues[15], asinValues[16], weight);
                                else
                                  if ((arr0 == 16))
                                    asin_c = asinValues[16];
  gl_FragColor = vec4(((asin_c / M_PI) + 0.5), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/asin_float_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/inversesqrt_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/inversesqrt_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=99.0))
e.right: FloatLiteral(value=1.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=99.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')])), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = (gtf_Color.rgb * 99.0) + 1.0;
	color = vec4(1.0 / sqrt(c), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = ((gtf_Color.rgb * 99.0) + 1.0);
  color = vec4((1.0 / sqrt(c)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/inversesqrt_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/struct_mat4_frag.frag
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=Identifier(name='sum'), right=FloatLiteral(value=995.0))]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='sum')
e.right: FloatLiteral(value=995.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
struct sabcd
{
 mat4 a;
};
void main ()
{
	sabcd s = sabcd(mat4(12.0, 29.0, 13.0, 26.0,
			     71.0, 63.0, 90.0, 118.0,
			     128.0, 44.0, 57.0, 143.0,
			     151.0, 14.0, 15.0, 21.0 ) );
	float sum=0.0;
	int i,j;
	sum = sum + s.a[0][0];
	sum = sum + s.a[0][1];
	sum = sum + s.a[0][2];
	sum = sum + s.a[0][3];
	sum = sum + s.a[1][0];
	sum = sum + s.a[1][1];
	sum = sum + s.a[1][2];
	sum = sum + s.a[1][3];
	sum = sum + s.a[2][0];
	sum = sum + s.a[2][1];
	sum = sum + s.a[2][2];
	sum = sum + s.a[2][3];
	sum = sum + s.a[3][0];
	sum = sum + s.a[3][1];
	sum = sum + s.a[3][2];
	sum = sum + s.a[3][3];
	gl_FragColor =  vec4( vec3(  sum / 995.0  ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

struct sabcd {
  mat4 a;
};

void main()
{
  sabcd s = sabcd(mat4(12.0, 29.0, 13.0, 26.0, 71.0, 63.0, 90.0, 118.0, 128.0, 44.0, 57.0, 143.0, 151.0, 14.0, 15.0, 21.0));
  float sum = 0.0;
  int i, j;
  sum = (sum + s.a[0][0]);
  sum = (sum + s.a[0][1]);
  sum = (sum + s.a[0][2]);
  sum = (sum + s.a[0][3]);
  sum = (sum + s.a[1][0]);
  sum = (sum + s.a[1][1]);
  sum = (sum + s.a[1][2]);
  sum = (sum + s.a[1][3]);
  sum = (sum + s.a[2][0]);
  sum = (sum + s.a[2][1]);
  sum = (sum + s.a[2][2]);
  sum = (sum + s.a[2][3]);
  sum = (sum + s.a[3][0]);
  sum = (sum + s.a[3][1]);
  sum = (sum + s.a[3][2]);
  sum = (sum + s.a[3][3]);
  gl_FragColor = vec4(vec3((sum / 995.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/struct_mat4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/array_const_mat3_vert.vert
filename /home/oof/webgl_cleaned/array_const_mat3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:24: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:25: 'gl_Position' : undeclared identifier
ERROR: 0:25: 'assign' : l-value required (can't modify a const)
ERROR: 0:25: '=' : dimension mismatch
ERROR: 0:25: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='b')
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0)), right=Identifier(name='a'))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1)), right=Identifier(name='b'))
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='b')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
const int array_size = 2;
void main ()
{
	const mat3 a = mat3(1.0, 2.0, 3.0,
		            4.0, 5.0, 6.0,
			    7.0, 8.0, 9.0);
	const mat3 b = mat3(10.0, 11.0, 12.0,
		            13.0, 14.0, 15.0,
			    16.0, 17.0, 18.0);
	mat3 array[array_size];
	float gray;
	array[0] = a;
	array[1] = b;
	if((array[0] == a) && (array[1] == b))
		gray = 1.0;
	else
		gray = 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

const int array_size = 2;

void main()
{
  const mat3 a = mat3(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0);
  const mat3 b = mat3(10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0, 17.0, 18.0);
  mat3 array[array_size];
  float gray;
  array[0] = a;
  array[1] = b;
  if (((array[0] == a) && (array[1] == b)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/array_const_mat3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_frag_xvary_yconst2.frag
e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=2.0)]))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=2.0)]))])
e.right: FloatLiteral(value=4.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = 4.0 * (color.rg);
	gl_FragColor = vec4(pow(c, vec2(2.0)) / 4.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = (4.0 * color.rg);
  gl_FragColor = vec4((pow(c, vec2(2.0)) / 4.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_frag_xvary_yconst2.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_xz_y_1vec2_1float_vert.vert
filename /home/oof/webgl_cleaned/vec3_xz_y_1vec2_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.xyz;
	vec2 t = m.xz;
	float k = m.y;
	vec4 a = vec4(t.x, k, t.y, lightloc.w);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.xyz;
  vec2 t = m.xz;
  float k = m.y;
  vec4 a = vec4(t.x, k, t.y, lightloc.w);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_xz_y_1vec2_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/noopUniformShader.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

void main()
{
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/noopUniformShader.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_vec2_vert_xvaryyvary.vert
filename /home/oof/webgl_cleaned/atan_vec2_vert_xvaryyvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='gg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='gg')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='bb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='bb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))])
e.right: Identifier(name='epsilon')
e.left: IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))])
e.right: Identifier(name='epsilon')
e.left: IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 x = 2.0 * (gtf_Color.gg - 0.5);
	vec2 y = 2.0 * (gtf_Color.bb - 0.5);
	const float epsilon = 1.0e-4;
	color = vec4(0.0, 0.0, 0.0, 1.0);
	if(x[0] > epsilon || abs(y[0]) > epsilon)
	{
		color[0] = atan(y[0], x[0]) / (2.0 * M_PI) + 0.5;
	}
	if(x[1] > epsilon || abs(y[1]) > epsilon)
	{
		color[1] = atan(y[1], x[1]) / (2.0 * M_PI) + 0.5;
	}
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 x = (2.0 * (gtf_Color.gg - 0.5));
  vec2 y = (2.0 * (gtf_Color.bb - 0.5));
  const float epsilon = 0.0001;
  color = vec4(0.0, 0.0, 0.0, 1.0);
  if (((x[0] > epsilon) || (abs(y[0]) > epsilon)))
  {
    color[0] = ((atan(y[0], x[0]) / (2.0 * M_PI)) + 0.5);
  }
  if (((x[1] > epsilon) || (abs(y[1]) > epsilon)))
  {
    color[1] = ((atan(y[1], x[1]) / (2.0 * M_PI)) + 0.5);
  }
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/atan_vec2_vert_xvaryyvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_vec2_vert.vert
filename /home/oof/webgl_cleaned/equal_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(equal(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(equal(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equal_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/struct_bvec2bvec3bvec4_frag.frag
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	bvec2 a;
	bvec3 b;
	bvec4 c;
};
void main ()
{
	sabcd s = sabcd( bvec2(12, 13), bvec3(14.0, 0.0, 139.0), bvec4(25.5, 17.0, 145, 163 ) );
	float gray = 0.0;
	if( (s.a[0]) && (s.a[1]) && (s.b[0]) && (!s.b[1]) && (s.b[2]) && (s.c[0]) && (s.c[1]) && (s.c[2]) )
	  gray=1.0;
	else
          gray =0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  bvec2 a;
  bvec3 b;
  bvec4 c;
};

void main()
{
  sabcd s = sabcd(bvec2(12, 13), bvec3(14.0, 0.0, 139.0), bvec4(25.5, 17.0, 145, 163));
  float gray = 0.0;
  if ((((((((s.a[0] && s.a[1]) && s.b[0]) && !s.b[1]) && s.b[2]) && s.c[0]) && s.c[1]) && s.c[2]))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/struct_bvec2bvec3bvec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/greaterThanEqual_vec2_vert.vert
filename /home/oof/webgl_cleaned/greaterThanEqual_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(greaterThanEqual(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(greaterThanEqual(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/greaterThanEqual_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/dot_vec3_frag_xvaryythird_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='r'), right=MemberExpr(base=Identifier(name='color'), member='g')), right=MemberExpr(base=Identifier(name='color'), member='b'))]), right=FloatLiteral(value=0.3333)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='r'), right=MemberExpr(base=Identifier(name='color'), member='g')), right=MemberExpr(base=Identifier(name='color'), member='b'))])
e.right: FloatLiteral(value=0.3333)
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='r'), right=MemberExpr(base=Identifier(name='color'), member='g'))
e.right: MemberExpr(base=Identifier(name='color'), member='b')
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: MemberExpr(base=Identifier(name='color'), member='g')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(color.r + color.g + color.b) * 0.3333, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4((vec3(((color.r + color.g) + color.b)) * 0.3333), 1.0);
}


Filename: /home/oof/webgl_cleaned/dot_vec3_frag_xvaryythird_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/compressed_paletted_texture.frag
e.left: Identifier(name='gl_FragColor')
e.right: BinaryExpr(op='*', left=Identifier(name='color'), right=CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='gtf_Texture0'), right=MemberExpr(base=IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0)), member='xy'))]))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=Identifier(name='gtf_Texture0'), right=MemberExpr(base=IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0)), member='xy'))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform sampler2D gtf_Texture0;
varying vec4 color;
varying vec4 gtf_TexCoord[1];
void main ()
{
	gl_FragColor = color * texture2D(gtf_Texture0, gtf_TexCoord[0].xy);
}





New source code: precision mediump float;
precision mediump int;

uniform sampler2D gtf_Texture0;

varying vec4 color;

varying vec4 gtf_TexCoord[1];

void main()
{
  gl_FragColor = (color * texture2D(gtf_Texture0, gtf_TexCoord[0].xy));
}


Filename: /home/oof/webgl_cleaned/compressed_paletted_texture.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_br_g_1vec2_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.rgb;
	float k = m.g;
	vec2 n = m.br;
	vec4 a = vec4(n.g, k, n.r, al.a);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.rgb;
  float k = m.g;
  vec2 n = m.br;
  vec4 a = vec4(n.g, k, n.r, al.a);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_br_g_1vec2_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equal_ivec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 eq(in ivec3 a, in ivec3 b)
{
	bvec3 result;
	if(a[0] == b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] == b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] == b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(eq(ivec3(c), ivec3(0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 eq(in ivec3 a, in ivec3 b)
{
  bvec3 result;
  if ((a[0] == b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] == b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] == b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(eq(ivec3(c), ivec3(0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_ivec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_vec3_float_vert.vert
filename /home/oof/webgl_cleaned/vec4_vec3_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=FloatLiteral(value=139.0)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), right=FloatLiteral(value=217.0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=FloatLiteral(value=139.0))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=FloatLiteral(value=13.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=FloatLiteral(value=53.0))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=53.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=139.0)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=217.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 b = vec3(13.0, 53.0, 139.0);
	vec4 a = vec4(b, 217.0);
	float gray;
	if( (a[0] == 13.0) && (a[1] == 53.0) && (a[2] == 139.0) && (a[3] == 217.0))
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 b = vec3(13.0, 53.0, 139.0);
  vec4 a = vec4(b, 217.0);
  float gray;
  if (((((a[0] == 13.0) && (a[1] == 53.0)) && (a[2] == 139.0)) && (a[3] == 217.0)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec4_vec3_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_st_p_1vec2_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.stp;
	float k = m.p;
	vec2 n = m.st;
	vec4 a = vec4(n, k, al.q);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.stp;
  float k = m.p;
  vec2 n = m.st;
  vec4 a = vec4(n, k, al.q);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_st_p_1vec2_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/degrees_vec2_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0)))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI'))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0))
e.right: Identifier(name='M_PI')
e.left: Identifier(name='c')
e.right: FloatLiteral(value=180.0)
e.left: FloatLiteral(value=2.0)
e.right: FloatLiteral(value=360.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * M_PI * 2.0 * (color.rg - 0.5);
	gl_FragColor = vec4((c * 180.0 / M_PI) / (2.0 * 360.0) + 0.5, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = (((2.0 * M_PI) * 2.0) * (color.rg - 0.5));
  gl_FragColor = vec4(((((c * 180.0) / M_PI) / (2.0 * 360.0)) + 0.5), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/degrees_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/2b_vert.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=1))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec2 col;
void main ()
{
	gl_FragColor = vec4 (col[0], col[1], 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec2 col;

void main()
{
  gl_FragColor = vec4(col[0], col[1], 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/2b_vert.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/floor_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/floor_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0)), right=FloatLiteral(value=20.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0))
e.right: FloatLiteral(value=20.0)
e.left: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=10.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 10.0 * 2.0 * (gtf_Color.rg - 0.5);
	color = vec4((floor(c) + 10.0) / 20.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = ((10.0 * 2.0) * (gtf_Color.rg - 0.5));
  color = vec4(((floor(c) + 10.0) / 20.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/floor_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/notEqual_bvec2_frag.frag
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(1.5 * color.rg);
	vec2 result = vec2(notEqual(bvec2(c), bvec2(true)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor((1.5 * color.rg));
  vec2 result = vec2(notEqual(bvec2(c), bvec2(true)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/notEqual_bvec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/float_empty_out_float_array_vert.vert
filename /home/oof/webgl_cleaned/float_empty_out_float_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=0.0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float function(out float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main ()
{
	float par[3];
	float ret = 0.0;
	float gray = 0.0;
	set_all(par, 1.0);
	ret = function(par);
	if(is_all(par, 0.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
float function(out float par[3])
{
	set_all(par, 0.0);
	return 1.0;
}
bool is_all(const in float array[3], const in float value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out float array[3], const in float value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float function(out float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main()
{
  float par[3];
  float ret = 0.0;
  float gray = 0.0;
  set_all(par, 1.0);
  ret = function(par);
  if ((is_all(par, 0.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

float function(out float par[3])
{
  set_all(par, 0.0);
  return 1.0;
}

bool is_all(const in float array[3], const in float value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out float array[3], const in float value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/float_empty_out_float_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_vec2_vert_xvary_yconst2_ref.vert
filename /home/oof/webgl_cleaned/pow_vec2_vert_xvary_yconst2_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c')), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c'))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='c')
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 4.0 * (gtf_Color.rg);
	color = vec4(c * c / 4.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = (4.0 * gtf_Color.rg);
  color = vec4(((c * c) / 4.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_vec2_vert_xvary_yconst2_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_pqs_t_1vec3_1float_vert.vert
filename /home/oof/webgl_cleaned/vec4_pqs_t_1vec3_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.pqs;
	float t = lightloc.t;
	vec4 a = vec4(m.p, t, m.s, m.t);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.pqs;
  float t = lightloc.t;
  vec4 a = vec4(m.p, t, m.s, m.t);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_pqs_t_1vec3_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/faceforward_vec2_frag_nvaryiconst_ref.frag
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='v1')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='v1'), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=Identifier(name='v1'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='v1')
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 v1;
	vec2 v2 = normalize(vec2(1.0, 1.0));
	float theta = color.g * 2.0 * M_PI;
	float phi = color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	if(dot(v1, v2) >= 0.0) v1 *= -1.0;
	gl_FragColor = vec4((v1 + 1.0) / 2.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 v1;
  vec2 v2 = normalize(vec2(1.0, 1.0));
  float theta = ((color.g * 2.0) * M_PI);
  float phi = ((color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  if ((dot(v1, v2) >= 0.0))
    (v1 *= -1.0);
  gl_FragColor = vec4(((v1 + 1.0) / 2.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/faceforward_vec2_frag_nvaryiconst_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log_vec2_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')]), right=FloatLiteral(value=3.466)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=3.466)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = 31.0 * color.rg + 1.0;
	gl_FragColor = vec4(log(c) / 3.466, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = ((31.0 * color.rg) + 1.0);
  gl_FragColor = vec4((log(c) / 3.466), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log_vec2_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/reflect_float_vert_ivarynconst_ref.vert
filename /home/oof/webgl_cleaned/reflect_float_vert_ivarynconst_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=1.0)
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='-', left=Identifier(name='v1'), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2'))), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='-', left=Identifier(name='v1'), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2'))), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='-', left=Identifier(name='v1'), right=BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2')))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='v1')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])), right=Identifier(name='v2'))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))]))
e.right: Identifier(name='v2')
e.left: FloatLiteral(value=2.0)
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v2'), right=Identifier(name='v1'))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float v1 = (gtf_Color.g + 1.0) / 2.0;
	float v2 = (gtf_Color.b + 1.0) / 2.0;
	color = vec4((v1 - 2.0 * dot(v2, v1) * v2 + 1.0) / 2.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float v1 = ((gtf_Color.g + 1.0) / 2.0);
  float v2 = ((gtf_Color.b + 1.0) / 2.0);
  color = vec4((((v1 - ((2.0 * dot(v2, v1)) * v2)) + 1.0) / 2.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/reflect_float_vert_ivarynconst_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fract_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/fract_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[Identifier(name='c')]), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[Identifier(name='c')]), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='fract'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = 10.0 * 2.0 * (gtf_Color.rgb - 0.5);
	c = abs(fract(c) - 0.5) * 2.0;
	color = vec4(c, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = ((10.0 * 2.0) * (gtf_Color.rgb - 0.5));
  c = (abs((fract(c) - 0.5)) * 2.0);
  color = vec4(c, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fract_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/clamp_float_frag_xvary_yconstquarter.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='clamp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='min_c')), right=Identifier(name='max_c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float min_c = 0.25;
	const float max_c = 0.75;
	float c = color.r;
	gl_FragColor = vec4(clamp(c, min_c, max_c), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float min_c = 0.25;
  const float max_c = 0.75;
  float c = color.r;
  gl_FragColor = vec4(clamp(c, min_c, max_c), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/clamp_float_frag_xvary_yconstquarter.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/2f_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='color'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform vec2 color;
void main ()
{
	gl_FragColor = vec4 (color, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform vec2 color;

void main()
{
  gl_FragColor = vec4(color, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/2f_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_empty_inout_vec4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=0.0))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
vec4 function(inout vec4 par);
bool is_all(const in vec4 par, const in float value);
void set_all(out vec4 par, const in float value);
void main ()
{
	vec4 par = vec4(1.0, 1.0, 1.0, 1.0);
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 0.0) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
vec4 function(inout vec4 par)
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return vec4(1.0, 1.0, 1.0, 1.0);
	}
	else
		return vec4(0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 par, const in float value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

vec4 function(inout vec4 par);
bool is_all(const in vec4 par, const in float value);
void set_all(out vec4 par, const in float value);
void main()
{
  vec4 par = vec4(1.0, 1.0, 1.0, 1.0);
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 0.0) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

vec4 function(inout vec4 par)
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return vec4(1.0, 1.0, 1.0, 1.0);
  }
  else
    return vec4(0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 par, const in float value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_inout_vec4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat2_4float_vert.vert
filename /home/oof/webgl_cleaned/mat2_4float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='a')
e.left: Identifier(name='result')
e.right: Identifier(name='black')
e.left: Identifier(name='color')
e.right: Identifier(name='result')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	mat2 m = mat2(gtf_Color.r, gtf_Color.g, gtf_Color.b, gtf_Color.a);
	vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
	vec4 result = vec4(1.0, 1.0, 1.0, 1.0);
	if(m[0][0] != gtf_Color.r) result = black;
	if(m[0][1] != gtf_Color.g) result = black;
	if(m[1][0] != gtf_Color.b) result = black;
	if(m[1][1] != gtf_Color.a) result = black;
	color = result;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  mat2 m = mat2(gtf_Color.r, gtf_Color.g, gtf_Color.b, gtf_Color.a);
  vec4 black = vec4(0.0, 0.0, 0.0, 1.0);
  vec4 result = vec4(1.0, 1.0, 1.0, 1.0);
  if ((m[0][0] != gtf_Color.r))
    result = black;
  if ((m[0][1] != gtf_Color.g))
    result = black;
  if ((m[1][0] != gtf_Color.b))
    result = black;
  if ((m[1][1] != gtf_Color.a))
    result = black;
  color = result;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mat2_4float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThan_ivec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 gt(in ivec3 a, in ivec3 b)
{
	bvec3 result;
	if(a[0] > b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] > b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] > b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(gt(ivec3(c), ivec3(0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 gt(in ivec3 a, in ivec3 b)
{
  bvec3 result;
  if ((a[0] > b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] > b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] > b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(gt(ivec3(c), ivec3(0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/greaterThan_ivec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_float_frag_xvary_yconsthalf_ref.frag
e.left: FloatLiteral(value=16.0)
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=4.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 16.0 * color.r;
	gl_FragColor = vec4(sqrt(c) / 4.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (16.0 * color.r);
  gl_FragColor = vec4((sqrt(c) / 4.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_float_frag_xvary_yconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/4b_lastthree_vert.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=3))), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 col;
void main ()
{
	gl_FragColor = vec4 (col[1], col[2], col[3], 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 col;

void main()
{
  gl_FragColor = vec4(col[1], col[2], col[3], 1.0);
}


Filename: /home/oof/webgl_cleaned/4b_lastthree_vert.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_grb_1vec3_vert.vert
filename /home/oof/webgl_cleaned/vec3_grb_1vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.rgb;
	vec3 t = m.grb;
	vec4 a = vec4(t.g, t.r, t.b, lightloc.a);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.rgb;
  vec3 t = m.grb;
  vec4 a = vec4(t.g, t.r, t.b, lightloc.a);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_grb_1vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/for_break_frag.frag
e.left: Identifier(name='i')
e.right: IntLiteral(value=5)
e.left: Identifier(name='count')
e.right: IntLiteral(value=3)
e.left: Identifier(name='count')
e.right: IntLiteral(value=3)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	int count = 0;
        for(int i=0;i<5;i++)
	{
	  count++;
	  if(count == 3)
            break;
	}
	float gray;
	if( count == 3)
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  int count = 0;
  for (int i = 0; (i < 5); i++)
  {
    count++;
    if ((count == 3))
      break;
  }
  float gray;
  if ((count == 3))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/for_break_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/not_bvec3_vert.vert
filename /home/oof/webgl_cleaned/not_bvec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='not'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(1.5 * gtf_Color.rgb);
	color = vec4(vec3(not(bvec3(c))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor((1.5 * gtf_Color.rgb));
  color = vec4(vec3(not(bvec3(c))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/not_bvec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/point_rasterization.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='color')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = color;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = color;
}


Filename: /home/oof/webgl_cleaned/point_rasterization.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_float_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 4.0 * 2.0 * (color.r - 0.5);
	gl_FragColor = vec4(atan(c) / M_PI + 0.5, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = ((4.0 * 2.0) * (color.r - 0.5));
  gl_FragColor = vec4(((atan(c) / M_PI) + 0.5), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/atan_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/cos_vec2_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: BinaryExpr(op='-', left=CallExpr(callee=Identifier(name='fract'), args=[CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='color'), member='rg')])]), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: CallExpr(callee=Identifier(name='fract'), args=[CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='color'), member='rg')])])
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='i')
e.right: IntLiteral(value=10)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='fact_even')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='fact_odd')
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='-', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: Identifier(name='exp')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='/', left=Identifier(name='i'), right=IntLiteral(value=2))]))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))])), right=Identifier(name='fact_even'))
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))]))
e.right: Identifier(name='fact_even')
e.left: Identifier(name='sign')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))])
e.left: Identifier(name='cos_c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))]), right=BinaryExpr(op='/', left=Identifier(name='sum'), right=Identifier(name='fact_odd')))
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=Identifier(name='exp'))])
e.right: BinaryExpr(op='/', left=Identifier(name='sum'), right=Identifier(name='fact_odd'))
e.left: Identifier(name='sum')
e.right: Identifier(name='fact_odd')
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=Identifier(name='sign'), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='cos_c')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='cos_c'))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='cos_c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * M_PI * ( fract(abs(color.rg)) - 0.5 );
	float sign =  1.0;
	vec2 cos_c = vec2(-1.0, -1.0);
	float fact_even = 1.0;
	float fact_odd  = 1.0;
	vec2 sum;
	vec2 exp;
	for(int i = 2; i <= 10; i += 2)
	{
		fact_even *= float(i);
		fact_odd  *= float(i-1);
		exp = vec2(float(i/2), float(i/2));
		sum = sign * pow(abs(c), exp)/fact_even;
		cos_c += pow(abs(c), exp)*(sum/fact_odd);
		sign = -sign;
	}
	gl_FragColor = vec4(0.5 * cos_c + 0.5, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = ((2.0 * M_PI) * (fract(abs(color.rg)) - 0.5));
  float sign = 1.0;
  vec2 cos_c = vec2(-1.0, -1.0);
  float fact_even = 1.0;
  float fact_odd = 1.0;
  vec2 sum;
  vec2 exp;
  for (int i = 2; (i <= 10); (i += 2))
  {
    (fact_even *= float(i));
    (fact_odd *= float((i - 1)));
    exp = vec2(float((i / 2)), float((i / 2)));
    sum = ((sign * pow(abs(c), exp)) / fact_even);
    (cos_c += (pow(abs(c), exp) * (sum / fact_odd)));
    sign = -sign;
  }
  gl_FragColor = vec4(((0.5 * cos_c) + 0.5), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/cos_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_vec2_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=4.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)))
e.left: FloatLiteral(value=1.0)
e.right: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))))
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=0))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)))
e.left: FloatLiteral(value=1.0)
e.right: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=1)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=3)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=5)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=7)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=9)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1)), right=CallExpr(callee=Identifier(name='float'), args=[IntLiteral(value=11)]))])
e.left: IndexExpr(base=Identifier(name='scale'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='*', left=IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1)), right=BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))))
e.right: Identifier(name='M_PI')
e.left: IndexExpr(base=Identifier(name='sign'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: IndexExpr(base=Identifier(name='atan_c'), index=IntLiteral(value=1))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='result')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 4.0 * 2.0 * (color.rg - 0.5);
	vec2 atan_c = vec2(0.0);
	vec2 scale = vec2(1.0);
	vec2 sign = vec2(1.0);
	vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
	if(c[0] < 0.0)
	{
		sign[0] = -1.0;
		c[0] *= -1.0;
	}
	if(c[0] <= 1.0)
	{
		atan_c[0] += scale[0] * pow(c[0], float(1)) / float(1);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(3)) / float(3);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(5)) / float(5);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(7)) / float(7);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(9)) / float(9);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(11)) / float(11);
		scale[0] *= -1.0;
		result[0] = sign[0] * atan_c[0] / M_PI + 0.5;
	}
	else
	{
		c[0] = 1.0 / c[0];
		atan_c[0] += scale[0] * pow(c[0], float(1)) / float(1);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(3)) / float(3);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(5)) / float(5);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(7)) / float(7);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(9)) / float(9);
		scale[0] *= -1.0;
		atan_c[0] += scale[0] * pow(c[0], float(11)) / float(11);
		scale[0] *= -1.0;
		result[0] = sign[0] * (M_PI / 2.0 - atan_c[0]) / M_PI + 0.5;
	}
	if(c[1] < 0.0)
	{
		sign[1] = -1.0;
		c[1] *= -1.0;
	}
	if(c[1] <= 1.0)
	{
		atan_c[1] += scale[1] * pow(c[1], float(1)) / float(1);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(3)) / float(3);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(5)) / float(5);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(7)) / float(7);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(9)) / float(9);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(11)) / float(11);
		scale[1] *= -1.0;
		result[1] = sign[1] * atan_c[1] / M_PI + 0.5;
	}
	else
	{
		c[1] = 1.0 / c[1];
		atan_c[1] += scale[1] * pow(c[1], float(1)) / float(1);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(3)) / float(3);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(5)) / float(5);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(7)) / float(7);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(9)) / float(9);
		scale[1] *= -1.0;
		atan_c[1] += scale[1] * pow(c[1], float(11)) / float(11);
		scale[1] *= -1.0;
		result[1] = sign[1] * (M_PI / 2.0 - atan_c[1]) / M_PI + 0.5;
	}
	gl_FragColor = result;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = ((4.0 * 2.0) * (color.rg - 0.5));
  vec2 atan_c = vec2(0.0);
  vec2 scale = vec2(1.0);
  vec2 sign = vec2(1.0);
  vec4 result = vec4(0.0, 0.0, 0.0, 1.0);
  if ((c[0] < 0.0))
  {
    sign[0] = -1.0;
    (c[0] *= -1.0);
  }
  if ((c[0] <= 1.0))
  {
    (atan_c[0] += ((scale[0] * pow(c[0], float(1))) / float(1)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(3))) / float(3)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(5))) / float(5)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(7))) / float(7)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(9))) / float(9)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(11))) / float(11)));
    (scale[0] *= -1.0);
    result[0] = (((sign[0] * atan_c[0]) / M_PI) + 0.5);
  }
  else
  {
    c[0] = (1.0 / c[0]);
    (atan_c[0] += ((scale[0] * pow(c[0], float(1))) / float(1)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(3))) / float(3)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(5))) / float(5)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(7))) / float(7)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(9))) / float(9)));
    (scale[0] *= -1.0);
    (atan_c[0] += ((scale[0] * pow(c[0], float(11))) / float(11)));
    (scale[0] *= -1.0);
    result[0] = (((sign[0] * ((M_PI / 2.0) - atan_c[0])) / M_PI) + 0.5);
  }
  if ((c[1] < 0.0))
  {
    sign[1] = -1.0;
    (c[1] *= -1.0);
  }
  if ((c[1] <= 1.0))
  {
    (atan_c[1] += ((scale[1] * pow(c[1], float(1))) / float(1)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(3))) / float(3)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(5))) / float(5)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(7))) / float(7)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(9))) / float(9)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(11))) / float(11)));
    (scale[1] *= -1.0);
    result[1] = (((sign[1] * atan_c[1]) / M_PI) + 0.5);
  }
  else
  {
    c[1] = (1.0 / c[1]);
    (atan_c[1] += ((scale[1] * pow(c[1], float(1))) / float(1)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(3))) / float(3)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(5))) / float(5)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(7))) / float(7)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(9))) / float(9)));
    (scale[1] *= -1.0);
    (atan_c[1] += ((scale[1] * pow(c[1], float(11))) / float(11)));
    (scale[1] *= -1.0);
    result[1] = (((sign[1] * ((M_PI / 2.0) - atan_c[1])) / M_PI) + 0.5);
  }
  gl_FragColor = result;
}


Filename: /home/oof/webgl_cleaned/atan_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log_float_vert_xvary01_ref.vert
filename /home/oof/webgl_cleaned/log_float_vert_xvary01_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='z')
e.right: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='/', left=BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0)), right=BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0)))])
e.left: BinaryExpr(op='-', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='+', left=Identifier(name='x'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='x')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=101)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='y')
e.right: BinaryExpr(op='/', left=Identifier(name='p'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: Identifier(name='p')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='p')
e.right: BinaryExpr(op='*', left=Identifier(name='z'), right=Identifier(name='z'))
e.left: Identifier(name='z')
e.right: Identifier(name='z')
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=2.0), postfix=False)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='y'), right=UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='y')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=4.61), postfix=False)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x = (gtf_Color.r + 0.01) / 1.01;
	float y = 0.0;
	float z;
	int n = 50;
	z = abs((x - 1.0) / (x + 1.0));
	float p = z;
	for(int i = 1; i <= 101; i += 2)
	{
		y += p / float(i);
		p *= z * z;
	}
	y *= -2.0;
	color = vec4(y / -4.61, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x = ((gtf_Color.r + 0.01) / 1.01);
  float y = 0.0;
  float z;
  int n = 50;
  z = abs(((x - 1.0) / (x + 1.0)));
  float p = z;
  for (int i = 1; (i <= 101); (i += 2))
  {
    (y += (p / float(i)));
    (p *= (z * z));
  }
  (y *= -2.0);
  color = vec4((y / -4.61), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_float_vert_xvary01_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/2i_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform ivec2 color;
void main ()
{
	gl_FragColor = vec4 (color[0], color[1], 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform ivec2 color;

void main()
{
  gl_FragColor = vec4(color[0], color[1], 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/2i_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/4b_firstthree_vert.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='col'), index=IntLiteral(value=2))), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 col;
void main ()
{
	gl_FragColor = vec4 (col[0], col[1], col[2], 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 col;

void main()
{
  gl_FragColor = vec4(col[0], col[1], col[2], 1.0);
}


Filename: /home/oof/webgl_cleaned/4b_firstthree_vert.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_vec2_frag_xvaryyvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='gg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='gg')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='bb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='bb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0))])
e.right: Identifier(name='epsilon')
e.left: IndexExpr(base=Identifier(name='gl_FragColor'), index=IntLiteral(value=0))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=0)))])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: BinaryExpr(op='>', left=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))]), right=Identifier(name='epsilon'))
e.left: IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1))
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1))])
e.right: Identifier(name='epsilon')
e.left: IndexExpr(base=Identifier(name='gl_FragColor'), index=IntLiteral(value=1))
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='y'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='x'), index=IntLiteral(value=1)))])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 x = 2.0 * (color.gg - 0.5);
	vec2 y = 2.0 * (color.bb - 0.5);
	const float epsilon = 1.0e-4;
	gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
	if(x[0] > epsilon || abs(y[0]) > epsilon)
	{
		gl_FragColor[0] = atan(y[0], x[0]) / (2.0 * M_PI) + 0.5;
	}
	if(x[1] > epsilon || abs(y[1]) > epsilon)
	{
		gl_FragColor[1] = atan(y[1], x[1]) / (2.0 * M_PI) + 0.5;
	}
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 x = (2.0 * (color.gg - 0.5));
  vec2 y = (2.0 * (color.bb - 0.5));
  const float epsilon = 0.0001;
  gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
  if (((x[0] > epsilon) || (abs(y[0]) > epsilon)))
  {
    gl_FragColor[0] = ((atan(y[0], x[0]) / (2.0 * M_PI)) + 0.5);
  }
  if (((x[1] > epsilon) || (abs(y[1]) > epsilon)))
  {
    gl_FragColor[1] = ((atan(y[1], x[1]) / (2.0 * M_PI)) + 0.5);
  }
}


Filename: /home/oof/webgl_cleaned/atan_vec2_frag_xvaryyvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/refract_vec2_frag_ivarynconst.frag
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='refract'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='refract'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='refract'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 v1;
	vec2 v2 = normalize(vec2(1.0, 1.0));
	float theta = color.g * 2.0 * M_PI;
	float phi = color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	gl_FragColor = vec4((refract(v1, v2, 0.5) + 1.0) / 2.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 v1;
  vec2 v2 = normalize(vec2(1.0, 1.0));
  float theta = ((color.g * 2.0) * M_PI);
  float phi = ((color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  gl_FragColor = vec4(((refract(v1, v2, 0.5) + 1.0) / 2.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/refract_vec2_frag_ivarynconst.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp2_vec3_frag_xvaryneg.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))]), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = -color.rgb;
	gl_FragColor = vec4(exp2(5.0 * c), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = -color.rgb;
  gl_FragColor = vec4(exp2((5.0 * c)), 1.0);
}


Filename: /home/oof/webgl_cleaned/exp2_vec3_frag_xvaryneg.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/abs_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/abs_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='c')]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 2.0 * (gtf_Color.rg - 0.5);
	color = vec4(abs(c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = (2.0 * (gtf_Color.rg - 0.5));
  color = vec4(abs(c), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/abs_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_x_y_z_w_4float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='m')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	float x = al.x;
	float y = al.y;
	float z = al.z;
	float w = al.w;
	vec4 m = vec4(x,y,z,w);
	gl_FragColor = m;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  float x = al.x;
  float y = al.y;
  float z = al.z;
  float w = al.w;
  vec4 m = vec4(x, y, z, w);
  gl_FragColor = m;
}


Filename: /home/oof/webgl_cleaned/vec4_x_y_z_w_4float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log_vec3_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')]), right=FloatLiteral(value=3.466)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=3.466)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 31.0 * color.rgb + 1.0;
	gl_FragColor = vec4(log(c) / 3.466, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((31.0 * color.rgb) + 1.0);
  gl_FragColor = vec4((log(c) / 3.466), 1.0);
}


Filename: /home/oof/webgl_cleaned/log_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/const_mat2_copy_vert.vert
filename /home/oof/webgl_cleaned/const_mat2_copy_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:29: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:30: 'gl_Position' : undeclared identifier
ERROR: 0:30: 'assign' : l-value required (can't modify a const)
ERROR: 0:30: '=' : dimension mismatch
ERROR: 0:30: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x;
	const mat2 a = mat2(1.0, 2.0,
	                    4.0, 8.0);
	mat2 b = a;
	bool elms = true;
	if(b[0][0] != 1.0) elms = false;
	if(b[0][1] != 2.0) elms = false;
	if(b[1][0] != 4.0) elms = false;
	if(b[1][1] != 8.0) elms = false;
	bool rows = true;
	x = b[0][0] + b[1][0];
	if(x < 5.0-0.1 || x > 5.0+0.1) rows = false;
	x = b[0][1] + b[1][1];
	if(x < 10.0-0.1 || x > 10.0+0.1) rows = false;
	bool cols = true;
	x = b[0][0] + b[0][1];
	if(x < 3.0-0.1 || x > 3.0+0.1) cols = false;
	x = b[1][0] + b[1][1];
	if(x < 12.0-0.1 || x > 12.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x;
  const mat2 a = mat2(1.0, 2.0, 4.0, 8.0);
  mat2 b = a;
  bool elms = true;
  if ((b[0][0] != 1.0))
    elms = false;
  if ((b[0][1] != 2.0))
    elms = false;
  if ((b[1][0] != 4.0))
    elms = false;
  if ((b[1][1] != 8.0))
    elms = false;
  bool rows = true;
  x = (b[0][0] + b[1][0]);
  if (((x < (5.0 - 0.1)) || (x > (5.0 + 0.1))))
    rows = false;
  x = (b[0][1] + b[1][1]);
  if (((x < (10.0 - 0.1)) || (x > (10.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (b[0][0] + b[0][1]);
  if (((x < (3.0 - 0.1)) || (x > (3.0 + 0.1))))
    cols = false;
  x = (b[1][0] + b[1][1]);
  if (((x < (12.0 - 0.1)) || (x > (12.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/const_mat2_copy_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/ceil_vec3_frag_xvary.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='ceil'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0)), right=FloatLiteral(value=20.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='ceil'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0))
e.right: FloatLiteral(value=20.0)
e.left: CallExpr(callee=Identifier(name='ceil'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=10.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 10.0 * 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4((ceil(c) + 10.0) / 20.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((10.0 * 2.0) * (color.rgb - 0.5));
  gl_FragColor = vec4(((ceil(c) + 10.0) / 20.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/ceil_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/simple.vert
filename /home/oof/webgl_cleaned/simple.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "tc")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='tc')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gtf_Color'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
attribute float gtf_Color;
varying vec4 tc;
void main ()
{
	tc = vec4(gtf_Color, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

float gtf_Color;

varying vec4 tc;

void main()
{
  tc = vec4(gtf_Color, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/simple.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/notEqual_vec3_vert.vert
filename /home/oof/webgl_cleaned/notEqual_vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(notEqual(c, vec3(0.0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(notEqual(c, vec3(0.0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/notEqual_vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat3arrayindirect0_vert.vert
filename /home/oof/webgl_cleaned/mat3arrayindirect0_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='j')
e.right: IntLiteral(value=3)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=0)), index=Identifier(name='j')), right=IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=1)), index=Identifier(name='j')))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=0)), index=Identifier(name='j'))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='testmat3'), index=IntLiteral(value=1)), index=Identifier(name='j'))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='result'), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.5))])
e.left: Identifier(name='result')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
uniform mat3 testmat3[2];
varying vec4  color;
void main()
{
     vec3 result = vec3(0.0, 0.0, 0.0);
     for(int j = 0; j < 3; j++)
     {
	result += testmat3[0][j] + testmat3[1][j];
     }
     color = vec4(result/2.0, 0.5);
     gl_Position     = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

uniform mat3 testmat3[2];

varying vec4 color;

void main()
{
  vec3 result = vec3(0.0, 0.0, 0.0);
  for (int j = 0; (j < 3); j++)
  {
    (result += (testmat3[0][j] + testmat3[1][j]));
  }
  color = vec4((result / 2.0), 0.5);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mat3arrayindirect0_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/float_empty_inout_float_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=0.0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float function(inout float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main ()
{
	float par[3];
	float ret = 0.0;
	float gray = 0.0;
	set_all(par, 1.0);
	ret = function(par);
	if(is_all(par, 0.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
float function(inout float par[3])
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return 1.0;
	}
	else
		return 0.0;
}
bool is_all(const in float array[3], const in float value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out float array[3], const in float value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float function(inout float par[3]);
bool is_all(const in float array[3], const in float value);
void set_all(out float array[3], const in float value);
void main()
{
  float par[3];
  float ret = 0.0;
  float gray = 0.0;
  set_all(par, 1.0);
  ret = function(par);
  if ((is_all(par, 0.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

float function(inout float par[3])
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return 1.0;
  }
  else
    return 0.0;
}

bool is_all(const in float array[3], const in float value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out float array[3], const in float value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/float_empty_inout_float_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_arb_g_1vec3_1float_vert.vert
filename /home/oof/webgl_cleaned/vec4_arb_g_1vec3_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.arb;
	float g = lightloc.g;
	vec4 a = vec4(m.g, g, m.b, m.r);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.arb;
  float g = lightloc.g;
  vec4 a = vec4(m.g, g, m.b, m.r);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_arb_g_1vec3_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fwidth_frag.vert
filename /home/oof/webgl_cleaned/fwidth_frag.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "vertXY")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='vertXY')
e.right: MemberExpr(base=Identifier(name='gtf_Vertex'), member='xy')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec2 vertXY;
void main ()
{
	vertXY = gtf_Vertex.xy;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec2 vertXY;

void main()
{
  vertXY = gtf_Vertex.xy;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fwidth_frag.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_bvec2_vert_ref.vert
filename /home/oof/webgl_cleaned/equal_bvec2_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec2 eq(in bvec2 a, in bvec2 b)
{
	bvec2 result;
	if(a[0] == b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] == b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(1.5 * gtf_Color.rg);
	vec2 result = vec2(eq(bvec2(c), bvec2(true)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec2 eq(in bvec2 a, in bvec2 b)
{
  bvec2 result;
  if ((a[0] == b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] == b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor((1.5 * gtf_Color.rg));
  vec2 result = vec2(eq(bvec2(c), bvec2(true)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equal_bvec2_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/any_bvec3_vert_ref.vert
filename /home/oof/webgl_cleaned/any_bvec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:19: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:20: 'gl_Position' : undeclared identifier
ERROR: 0:20: 'assign' : l-value required (can't modify a const)
ERROR: 0:20: '=' : dimension mismatch
ERROR: 0:20: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_any'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bool _any(in bvec3 a)
{
	bool temp = false;
	if(a[0]) temp = true;
	if(a[1]) temp = true;
	if(a[2]) temp = true;
	return temp;
}
void main ()
{
	vec3 c = floor(1.5 * gtf_Color.rgb);
	color = vec4(vec3(_any(bvec3(c))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bool _any(in bvec3 a)
{
  bool temp = false;
  if (a[0])
    temp = true;
  if (a[1])
    temp = true;
  if (a[2])
    temp = true;
  return temp;
}

void main()
{
  vec3 c = floor((1.5 * gtf_Color.rgb));
  color = vec4(vec3(_any(bvec3(c))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/any_bvec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat4_frag.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=6.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=9.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=10.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=11.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=12.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=13.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=14.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=15.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: FloatLiteral(value=16.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=28.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=28.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=28.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=32.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=32.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=32.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=36.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=36.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=36.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=40.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=40.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=40.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=26.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=26.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=26.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=42.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=42.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=42.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3)))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=58.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=58.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=58.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main ()
{
	float x;
	mat4 a = mat4( 1.0,  2.0,  3.0,  4.0,
	               5.0,  6.0,  7.0,  8.0,
	               9.0, 10.0, 11.0, 12.0,
	              13.0, 14.0, 15.0, 16.0);
	bool elms = true;
	if(a[0][0] !=  1.0) elms = false;
	if(a[0][1] !=  2.0) elms = false;
	if(a[0][2] !=  3.0) elms = false;
	if(a[0][3] !=  4.0) elms = false;
	if(a[1][0] !=  5.0) elms = false;
	if(a[1][1] !=  6.0) elms = false;
	if(a[1][2] !=  7.0) elms = false;
	if(a[1][3] !=  8.0) elms = false;
	if(a[2][0] !=  9.0) elms = false;
	if(a[2][1] != 10.0) elms = false;
	if(a[2][2] != 11.0) elms = false;
	if(a[2][3] != 12.0) elms = false;
	if(a[3][0] != 13.0) elms = false;
	if(a[3][1] != 14.0) elms = false;
	if(a[3][2] != 15.0) elms = false;
	if(a[3][3] != 16.0) elms = false;
	bool rows = true;
	x = a[0][0] + a[1][0] + a[2][0] + a[3][0];
	if(x < 28.0-0.1 || x > 28.0+0.1) rows = false;
	x = a[0][1] + a[1][1] + a[2][1] + a[3][1];
	if(x < 32.0-0.1 || x > 32.0+0.1) rows = false;
	x = a[0][2] + a[1][2] + a[2][2] + a[3][2];
	if(x < 36.0-0.1 || x > 36.0+0.1) rows = false;
	x = a[0][3] + a[1][3] + a[2][3] + a[3][3];
	if(x < 40.0-0.1 || x > 40.0+0.1) rows = false;
	bool cols = true;
	x = a[0][0] + a[0][1] + a[0][2] + a[0][3];
	if(x < 10.0-0.1 || x > 10.0+0.1) cols = false;
	x = a[1][0] + a[1][1] + a[1][2] + a[1][3];
	if(x < 26.0-0.1 || x > 26.0+0.1) cols = false;
	x = a[2][0] + a[2][1] + a[2][2] + a[2][3];
	if(x < 42.0-0.1 || x > 42.0+0.1) cols = false;
	x = a[3][0] + a[3][1] + a[3][2] + a[3][3];
	if(x < 58.0-0.1 || x > 58.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  float x;
  mat4 a = mat4(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0, 16.0);
  bool elms = true;
  if ((a[0][0] != 1.0))
    elms = false;
  if ((a[0][1] != 2.0))
    elms = false;
  if ((a[0][2] != 3.0))
    elms = false;
  if ((a[0][3] != 4.0))
    elms = false;
  if ((a[1][0] != 5.0))
    elms = false;
  if ((a[1][1] != 6.0))
    elms = false;
  if ((a[1][2] != 7.0))
    elms = false;
  if ((a[1][3] != 8.0))
    elms = false;
  if ((a[2][0] != 9.0))
    elms = false;
  if ((a[2][1] != 10.0))
    elms = false;
  if ((a[2][2] != 11.0))
    elms = false;
  if ((a[2][3] != 12.0))
    elms = false;
  if ((a[3][0] != 13.0))
    elms = false;
  if ((a[3][1] != 14.0))
    elms = false;
  if ((a[3][2] != 15.0))
    elms = false;
  if ((a[3][3] != 16.0))
    elms = false;
  bool rows = true;
  x = (((a[0][0] + a[1][0]) + a[2][0]) + a[3][0]);
  if (((x < (28.0 - 0.1)) || (x > (28.0 + 0.1))))
    rows = false;
  x = (((a[0][1] + a[1][1]) + a[2][1]) + a[3][1]);
  if (((x < (32.0 - 0.1)) || (x > (32.0 + 0.1))))
    rows = false;
  x = (((a[0][2] + a[1][2]) + a[2][2]) + a[3][2]);
  if (((x < (36.0 - 0.1)) || (x > (36.0 + 0.1))))
    rows = false;
  x = (((a[0][3] + a[1][3]) + a[2][3]) + a[3][3]);
  if (((x < (40.0 - 0.1)) || (x > (40.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (((a[0][0] + a[0][1]) + a[0][2]) + a[0][3]);
  if (((x < (10.0 - 0.1)) || (x > (10.0 + 0.1))))
    cols = false;
  x = (((a[1][0] + a[1][1]) + a[1][2]) + a[1][3]);
  if (((x < (26.0 - 0.1)) || (x > (26.0 + 0.1))))
    cols = false;
  x = (((a[2][0] + a[2][1]) + a[2][2]) + a[2][3]);
  if (((x < (42.0 - 0.1)) || (x > (42.0 + 0.1))))
    cols = false;
  x = (((a[3][0] + a[3][1]) + a[3][2]) + a[3][3]);
  if (((x < (58.0 - 0.1)) || (x > (58.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/mat4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/intUniformShader.vert
filename /home/oof/webgl_cleaned/intUniformShader.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=Identifier(name='ival4'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='ival3'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=Identifier(name='ival'), right=IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=1))
e.left: Identifier(name='ival')
e.right: IndexExpr(base=Identifier(name='ival2'), index=IntLiteral(value=0))
e.left: Identifier(name='gl_Position')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='sum'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

uniform int ival;
uniform ivec2 ival2;
uniform ivec3 ival3;
uniform ivec4 ival4;
void main()
{
    int sum = ival
            + ival2[0] + ival2[1]
            + ival3[0] + ival3[1] + ival3[2]
            + ival4[0] + ival4[1] + ival4[2] + ival4[3];
    gl_Position = vec4(sum, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform int ival;

uniform ivec2 ival2;

uniform ivec3 ival3;

uniform ivec4 ival4;

void main()
{
  int sum = (((((((((ival + ival2[0]) + ival2[1]) + ival3[0]) + ival3[1]) + ival3[2]) + ival4[0]) + ival4[1]) + ival4[2]) + ival4[3]);
  gl_Position = vec4(sum, 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/intUniformShader.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_float_frag_xconsthalf_yvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=FloatLiteral(value=0.5), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=FloatLiteral(value=0.5), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 2.0 * (color.r - 0.5);
	gl_FragColor = vec4(pow(0.5, 2.0 * c) / 4.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (2.0 * (color.r - 0.5));
  gl_FragColor = vec4((pow(0.5, (2.0 * c)) / 4.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_float_frag_xconsthalf_yvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equal_vec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 eq(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] == b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] == b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] == b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(eq(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 eq(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] == b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] == b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] == b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(eq(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_vec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/precision_specifiers.vert
filename /home/oof/webgl_cleaned/precision_specifiers.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=Identifier(name='x'), right=Identifier(name='y')), right=BinaryExpr(op='*', left=Identifier(name='x2'), right=Identifier(name='y2'))), right=Identifier(name='x')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='x')
e.right: Identifier(name='y')
e.left: Identifier(name='x2')
e.right: Identifier(name='y2')
e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute mediump vec4 gtf_Color;
attribute mediump vec4 gtf_Vertex;
uniform mediump mat4 gtf_ModelViewProjectionMatrix;
varying mediump vec4 color;
void main ()
{
	mediump int x = 5;
	lowp int y = 3;
	mediump float x2 = 5.0;
	lowp float y2 = 1.0;
	color = vec4(x + y, x2 * y2, x, 1.0);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

mediump vec4 gtf_Color;

mediump vec4 gtf_Vertex;

uniform mediump mat4 gtf_ModelViewProjectionMatrix;

varying mediump vec4 color;

void main()
{
  mediump int x = 5;
  lowp int y = 3;
  mediump float x2 = 5.0;
  lowp float y2 = 1.0;
  color = vec4((x + y), (x2 * y2), x, 1.0);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/precision_specifiers.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/abs_vec3_frag_xvary_ref.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 2.0 * (color.rgb - 0.5);
	if((c[0] < 0.0)) c[0] *= -1.0;
	if((c[1] < 0.0)) c[1] *= -1.0;
	if((c[2] < 0.0)) c[2] *= -1.0;
	gl_FragColor = vec4(c, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = (2.0 * (color.rgb - 0.5));
  if ((c[0] < 0.0))
    (c[0] *= -1.0);
  if ((c[1] < 0.0))
    (c[1] *= -1.0);
  if ((c[2] < 0.0))
    (c[2] *= -1.0);
  gl_FragColor = vec4(c, 1.0);
}


Filename: /home/oof/webgl_cleaned/abs_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/acos_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/acos_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:37: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:38: 'gl_Position' : undeclared identifier
ERROR: 0:38: 'assign' : l-value required (can't modify a const)
ERROR: 0:38: '=' : dimension mismatch
ERROR: 0:38: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='c'), member='r')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='r')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: MemberExpr(base=Identifier(name='c'), member='r')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='i')
e.right: IntLiteral(value=1000)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='acos_c'), member='r')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='r'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='r'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='r'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='r'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: MemberExpr(base=Identifier(name='scale'), member='r')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='r'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: MemberExpr(base=Identifier(name='scale'), member='r')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))]))
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='acos_c'), member='r')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='sign'), member='r'), right=MemberExpr(base=Identifier(name='acos_c'), member='r')))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='sign'), member='r'), right=MemberExpr(base=Identifier(name='acos_c'), member='r'))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='r')
e.right: MemberExpr(base=Identifier(name='acos_c'), member='r')
e.left: MemberExpr(base=Identifier(name='c'), member='g')
e.right: FloatLiteral(value=0.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='g')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: MemberExpr(base=Identifier(name='c'), member='g')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='i')
e.right: IntLiteral(value=1000)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='acos_c'), member='g')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='g'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='g'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='scale'), member='g'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='g'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: MemberExpr(base=Identifier(name='scale'), member='g')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='c'), member='g'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: MemberExpr(base=Identifier(name='scale'), member='g')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))]))
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='acos_c'), member='g')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='sign'), member='g'), right=MemberExpr(base=Identifier(name='acos_c'), member='g')))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='sign'), member='g'), right=MemberExpr(base=Identifier(name='acos_c'), member='g'))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='sign'), member='g')
e.right: MemberExpr(base=Identifier(name='acos_c'), member='g')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='acos_c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='acos_c')
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * (gtf_Color.rg - 0.5);
	vec2 acos_c = vec2(0.0);
	vec2 scale = vec2(1.0);
	vec2 sign = vec2(1.0);
	if(c.r < 0.0)
	{
		sign.r = -1.0;
		c.r *= -1.0;
	}
	for(int i = 1; i < 1000; i += 2)
	{
		acos_c.r += scale.r * pow(c.r, float(i)) / float(i);
		scale.r *= float(i) / float(i + 1);
	}
	acos_c.r = M_PI / 2.0 - sign.r * acos_c.r;
	if(c.g < 0.0)
	{
		sign.g = -1.0;
		c.g *= -1.0;
	}
	for(int i = 1; i < 1000; i += 2)
	{
		acos_c.g += scale.g * pow(c.g, float(i)) / float(i);
		scale.g *= float(i) / float(i + 1);
	}
	acos_c.g = M_PI / 2.0 - sign.g * acos_c.g;
	color = vec4(acos_c / M_PI, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = (2.0 * (gtf_Color.rg - 0.5));
  vec2 acos_c = vec2(0.0);
  vec2 scale = vec2(1.0);
  vec2 sign = vec2(1.0);
  if ((c.r < 0.0))
  {
    sign.r = -1.0;
    (c.r *= -1.0);
  }
  for (int i = 1; (i < 1000); (i += 2))
  {
    (acos_c.r += ((scale.r * pow(c.r, float(i))) / float(i)));
    (scale.r *= (float(i) / float((i + 1))));
  }
  acos_c.r = ((M_PI / 2.0) - (sign.r * acos_c.r));
  if ((c.g < 0.0))
  {
    sign.g = -1.0;
    (c.g *= -1.0);
  }
  for (int i = 1; (i < 1000); (i += 2))
  {
    (acos_c.g += ((scale.g * pow(c.g, float(i))) / float(i)));
    (scale.g *= (float(i) / float((i + 1))));
  }
  acos_c.g = ((M_PI / 2.0) - (sign.g * acos_c.g));
  color = vec4((acos_c / M_PI), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/acos_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/float_empty_out_float_empty_vert.vert
filename /home/oof/webgl_cleaned/float_empty_out_float_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:18: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float function(out float par);
void main ()
{
	float par = 1.0;
	float ret = 0.0;
	float gray = 0.0;
	ret = function(par);
	if((par == 0.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
float function(out float par)
{
	par = 0.0;
	return 1.0;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float function(out float par);
void main()
{
  float par = 1.0;
  float ret = 0.0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 0.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

float function(out float par)
{
  par = 0.0;
  return 1.0;
}


Filename: /home/oof/webgl_cleaned/float_empty_out_float_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThan_vec2_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * color.rg - 4.5);
	vec2 result = vec2(greaterThan(c, vec2(0.0)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * color.rg) - 4.5));
  vec2 result = vec2(greaterThan(c, vec2(0.0)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/greaterThan_vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/degrees_float_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/degrees_float_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0)))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI'))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0))
e.right: Identifier(name='M_PI')
e.left: Identifier(name='c')
e.right: FloatLiteral(value=180.0)
e.left: FloatLiteral(value=2.0)
e.right: FloatLiteral(value=360.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 2.0 * M_PI * 2.0 * (gtf_Color.r - 0.5);
	color = vec4((c * 180.0 / M_PI) / (2.0 * 360.0) + 0.5, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = (((2.0 * M_PI) * 2.0) * (gtf_Color.r - 0.5));
  color = vec4(((((c * 180.0) / M_PI) / (2.0 * 360.0)) + 0.5), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/degrees_float_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/distance_float_frag_xvaryyhalf.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='distance'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(distance(color.r, 0.5)), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4(vec3(distance(color.r, 0.5)), 1.0);
}


Filename: /home/oof/webgl_cleaned/distance_float_frag_xvaryyhalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structcopy_vec2_frag.frag
e.left: Identifier(name='s2')
e.right: Identifier(name='s1')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))), right=FloatLiteral(value=80.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1)))
e.right: FloatLiteral(value=80.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	vec2 a;
	vec2 b;
};
void main ()
{
	sabcd s1 = sabcd(vec2(12.0, 29.0), vec2(13.0, 26.0) );
	sabcd s2 = sabcd(vec2(0.0, 0.0), vec2(0.0, 0.0) );
	s2 = s1;
	gl_FragColor =  vec4( vec3(  (s2.a[0] + s2.a[1] + s2.b[0] + s2.b[1]) / 80.0  ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  vec2 a;
  vec2 b;
};

void main()
{
  sabcd s1 = sabcd(vec2(12.0, 29.0), vec2(13.0, 26.0));
  sabcd s2 = sabcd(vec2(0.0, 0.0), vec2(0.0, 0.0));
  s2 = s1;
  gl_FragColor = vec4(vec3(((((s2.a[0] + s2.a[1]) + s2.b[0]) + s2.b[1]) / 80.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/structcopy_vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/equal_bvec2_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
bvec2 eq(in bvec2 a, in bvec2 b)
{
	bvec2 result;
	if(a[0] == b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] == b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(1.5 * color.rg);
	vec2 result = vec2(eq(bvec2(c), bvec2(true)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec2 eq(in bvec2 a, in bvec2 b)
{
  bvec2 result;
  if ((a[0] == b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] == b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor((1.5 * color.rg));
  vec2 result = vec2(eq(bvec2(c), bvec2(true)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_bvec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat4_empty_empty_mat4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=Identifier(name='mat_ones'))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0);
const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
mat4 function(mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main ()
{
	mat4 par[2];
	mat4 ret = mat_zeros;
	float gray = 0.0;
	set_all(par, mat_ones);
	ret = function(par);
	if(is_all(par, mat_ones) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
mat4 function(mat4 par[2])
{
	if(is_all(par, mat_ones))
	{
		set_all(par, mat_zeros);
		return mat_ones;
	}
	else
		return mat_zeros;
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
bool is_all(const in mat4 array[2], const in mat4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 array[2], const in mat4 value)
{
	array[0] = value;
	array[1] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);

const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);

mat4 function(mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main()
{
  mat4 par[2];
  mat4 ret = mat_zeros;
  float gray = 0.0;
  set_all(par, mat_ones);
  ret = function(par);
  if ((is_all(par, mat_ones) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

mat4 function(mat4 par[2])
{
  if (is_all(par, mat_ones))
  {
    set_all(par, mat_zeros);
    return mat_ones;
  }
  else
    return mat_zeros;
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

bool is_all(const in mat4 array[2], const in mat4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 array[2], const in mat4 value)
{
  array[0] = value;
  array[1] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_empty_mat4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/copy_texture.frag
e.left: MemberExpr(base=IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0)), member='s')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='color')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='texture2D'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gtf_Texture0'), right=MemberExpr(base=IndexExpr(base=Identifier(name='gtf_TexCoord'), index=IntLiteral(value=0)), member='st')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform sampler2D gtf_Texture0;
varying vec4 color;
varying vec4 gtf_TexCoord[1];
void main ()
{
	if (gtf_TexCoord[0].s == 1.0)
		gl_FragColor = color;
	else
		gl_FragColor = texture2D(gtf_Texture0, gtf_TexCoord[0].st, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform sampler2D gtf_Texture0;

varying vec4 color;

varying vec4 gtf_TexCoord[1];

void main()
{
  if ((gtf_TexCoord[0].s == 1.0))
    gl_FragColor = color;
  else
    gl_FragColor = texture2D(gtf_Texture0, gtf_TexCoord[0].st, 1.0);
}


Filename: /home/oof/webgl_cleaned/copy_texture.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/matrixMultComp_mat3_frag.frag
e.left: Identifier(name='m3')
e.right: CallExpr(callee=Identifier(name='matrixCompMult'), args=[BinaryExpr(op=',', left=Identifier(name='m1'), right=Identifier(name='m2'))])
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='result'), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='result')
e.right: FloatLiteral(value=2.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	mat3 m1 = mat3(color.rgb, color.rgb, color.rgb);
	mat3 m2 = mat3(1.0, 0.5, 0.5, 0.5, 1.0, 0.5, 0.5, 0.5, 1.0);
	mat3 m3 = mat3(0.0);
	vec3 result = vec3(0.0, 0.0, 0.0);
	m3 = matrixCompMult(m1, m2);
	result[0] += m3[0][0];
	result[0] += m3[0][1];
	result[0] += m3[0][2];
	result[1] += m3[1][0];
	result[1] += m3[1][1];
	result[1] += m3[1][2];
	result[2] += m3[2][0];
	result[2] += m3[2][1];
	result[2] += m3[2][2];
	gl_FragColor = vec4(result / 2.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  mat3 m1 = mat3(color.rgb, color.rgb, color.rgb);
  mat3 m2 = mat3(1.0, 0.5, 0.5, 0.5, 1.0, 0.5, 0.5, 0.5, 1.0);
  mat3 m3 = mat3(0.0);
  vec3 result = vec3(0.0, 0.0, 0.0);
  m3 = matrixCompMult(m1, m2);
  (result[0] += m3[0][0]);
  (result[0] += m3[0][1]);
  (result[0] += m3[0][2]);
  (result[1] += m3[1][0]);
  (result[1] += m3[1][1]);
  (result[1] += m3[1][2]);
  (result[2] += m3[2][0]);
  (result[2] += m3[2][1]);
  (result[2] += m3[2][2]);
  gl_FragColor = vec4((result / 2.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/matrixMultComp_mat3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/for_nested_break_frag.frag
e.left: IntLiteral(value=0)
e.right: BinaryExpr(op='=', left=Identifier(name='count2'), right=IntLiteral(value=0))
e.left: Identifier(name='count2')
e.right: IntLiteral(value=0)
e.left: Identifier(name='i')
e.right: IntLiteral(value=4)
e.left: Identifier(name='count2')
e.right: IntLiteral(value=0)
e.left: Identifier(name='j')
e.right: IntLiteral(value=4)
e.left: Identifier(name='count2')
e.right: IntLiteral(value=3)
e.left: Identifier(name='count1')
e.right: IntLiteral(value=2)
e.left: BinaryExpr(op='==', left=Identifier(name='count1'), right=IntLiteral(value=2))
e.right: BinaryExpr(op='==', left=Identifier(name='count2'), right=IntLiteral(value=3))
e.left: Identifier(name='count1')
e.right: IntLiteral(value=2)
e.left: Identifier(name='count2')
e.right: IntLiteral(value=3)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	int count1 = 0, count2 = 0;
        for(int i=0;i<4;i++)
	{
	  count1++;
	  count2 = 0;
	  for(int j=0;j<4;j++)
	  {
	     count2++;
	     if(count2 == 3)
		break;
	  }
	  if(count1 == 2)
            break;
	}
	float gray;
	if( (count1 == 2) && (count2 == 3))
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  int count1 = 0 , count2 = 0;
  for (int i = 0; (i < 4); i++)
  {
    count1++;
    count2 = 0;
    for (int j = 0; (j < 4); j++)
    {
      count2++;
      if ((count2 == 3))
        break;
    }
    if ((count1 == 2))
      break;
  }
  float gray;
  if (((count1 == 2) && (count2 == 3)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/for_nested_break_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/logical_frag.frag
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='b')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='b')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='b')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='a')
e.right: Identifier(name='b')
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
bool result = true;
	bool a = true;
	bool b = true;
	if( (a&&b) )
		result = result && true;
	else
		result = result && false;
	if( (a||b) )
		result = result && true;
	else
		result = result && false;
	if( !(a^^b) )
		result = result && true;
	else
		result = result && false;
	a = true;
	b = false;
	if( !(a&&b) )
		result = result && true;
	else
		result = result && false;
	if( (a||b) )
		result = result && true;
	else
		result = result && false;
	if( (a^^b) )
		result = result && true;
	else
		result = result && false;
	a = false;
	b = true;
	if( !(a&&b) )
		result = result && true;
	else
		result = result && false;
	if( (a||b) )
		result = result && true;
	else
		result = result && false;
	if( (a^^b) )
		result = result && true;
	else
		result = result && false;
	a = false;
	b = false;
	if( !(a&&b) )
		result = result && true;
	else
		result = result && false;
	if( !(a||b) )
		result = result && true;
	else
		result = result && false;
	if( !(a^^b) )
		result = result && true;
	else
		result = result && false;
	float gray;
	if( result )
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  bool result = true;
  bool a = true;
  bool b = true;
  if ((a && b))
    result = (result && true);
  else
    result = (result && false);
  if ((a || b))
    result = (result && true);
  else
    result = (result && false);
  if (!(a ^^ b))
    result = (result && true);
  else
    result = (result && false);
  a = true;
  b = false;
  if (!(a && b))
    result = (result && true);
  else
    result = (result && false);
  if ((a || b))
    result = (result && true);
  else
    result = (result && false);
  if ((a ^^ b))
    result = (result && true);
  else
    result = (result && false);
  a = false;
  b = true;
  if (!(a && b))
    result = (result && true);
  else
    result = (result && false);
  if ((a || b))
    result = (result && true);
  else
    result = (result && false);
  if ((a ^^ b))
    result = (result && true);
  else
    result = (result && false);
  a = false;
  b = false;
  if (!(a && b))
    result = (result && true);
  else
    result = (result && false);
  if (!(a || b))
    result = (result && true);
  else
    result = (result && false);
  if (!(a ^^ b))
    result = (result && true);
  else
    result = (result && false);
  float gray;
  if (result)
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/logical_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/length_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/length_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='rg')]), right=FloatLiteral(value=2.0))]), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='rg')])
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(length(gtf_Color.rg) / 2.0), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3((length(gtf_Color.rg) / 2.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/length_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/CorrectExtension4_V100_frag.frag
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
}





New source code: precision mediump float;
precision mediump int;

void main()
{
}


Filename: /home/oof/webgl_cleaned/CorrectExtension4_V100_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/clamp_vec3_vert_xvary_yconstquarter_ref.vert
filename /home/oof/webgl_cleaned/clamp_vec3_vert_xvary_yconstquarter_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:19: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:20: 'gl_Position' : undeclared identifier
ERROR: 0:20: 'assign' : l-value required (can't modify a const)
ERROR: 0:20: '=' : dimension mismatch
ERROR: 0:20: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: Identifier(name='max_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: Identifier(name='max_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: Identifier(name='min_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: Identifier(name='min_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: Identifier(name='max_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: Identifier(name='max_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: Identifier(name='min_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: Identifier(name='min_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: Identifier(name='max_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: Identifier(name='max_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: Identifier(name='min_c')
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: Identifier(name='min_c')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float min_c = 0.25;
	const float max_c = 0.75;
	vec3 c = gtf_Color.rgb;
	if(c[0] > max_c) c[0] = max_c;
	if(c[0] < min_c) c[0] = min_c;
	if(c[1] > max_c) c[1] = max_c;
	if(c[1] < min_c) c[1] = min_c;
	if(c[2] > max_c) c[2] = max_c;
	if(c[2] < min_c) c[2] = min_c;
	color = vec4(c, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float min_c = 0.25;
  const float max_c = 0.75;
  vec3 c = gtf_Color.rgb;
  if ((c[0] > max_c))
    c[0] = max_c;
  if ((c[0] < min_c))
    c[0] = min_c;
  if ((c[1] > max_c))
    c[1] = max_c;
  if ((c[1] < min_c))
    c[1] = min_c;
  if ((c[2] > max_c))
    c[2] = max_c;
  if ((c[2] < min_c))
    c[2] = min_c;
  color = vec4(c, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/clamp_vec3_vert_xvary_yconstquarter_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lessThanEqual_vec2_vert.vert
filename /home/oof/webgl_cleaned/lessThanEqual_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(lessThanEqual(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(lessThanEqual(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThanEqual_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/sin_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/sin_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))])), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	color = vec4(0.5 * sin(2.0 * M_PI * gtf_Color.rg) + 0.5, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  color = vec4(((0.5 * sin(((2.0 * M_PI) * gtf_Color.rg))) + 0.5), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/sin_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/structnest_bvec2bvec3bvec4_frag.frag
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=2))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=0)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=2)))
e.right: UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=3)), postfix=False)
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=2))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=0)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=2))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=0)), postfix=False))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=2)))
e.right: UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='c2'), index=IntLiteral(value=0)), postfix=False)
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=1)), postfix=False))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False))
e.right: UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=1)), postfix=False)
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False))
e.right: UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b2'), index=IntLiteral(value=0)), postfix=False)
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0)))
e.right: UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=1)), postfix=False)
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='a2'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='c1'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))), right=UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0)))
e.right: UnaryExpr(op='!', operand=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=1)), postfix=False)
e.left: BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='b1'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a1'), index=IntLiteral(value=1))
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
struct nestb
{
	bvec2 a2;
	bvec3 b2;
	bvec4 c2;
};
struct nesta
{
	bvec2 a1;
	bvec3 b1;
	bvec4 c1;
	nestb nest_b;
};
struct nest
{
	nesta nest_a;
};
void main ()
{
	nest s = nest( nesta( bvec2(12, 13), bvec3(14.0, 0.0, 139.0), bvec4(25.5, 17.0, 145, 163 ),
                       nestb( bvec2(28, 0), bvec3(0.0, 0.0, 1.0), bvec4(0.0, 17.0, 145, 0 )
                            )
                            )
                      );
	float gray = 0.0;
	if( ( s.nest_a.a1[0] ) && ( s.nest_a.a1[1] ) &&
            ( s.nest_a.b1[0] ) && (! (s.nest_a.b1[1]) ) && ( s.nest_a.b1[2] ) &&
            ( s.nest_a.c1[0] ) && ( s.nest_a.c1[1] ) && ( s.nest_a.c1[2] ) && ( s.nest_a.c1[3] ) &&
            ( s.nest_a.nest_b.a2[0] ) && ( !( s.nest_a.nest_b.a2[1] ) ) &&
            (! ( s.nest_a.nest_b.b2[0] ) ) && (! ( s.nest_a.nest_b.b2[1] ) ) && (s.nest_a.nest_b.b2[2]) &&
            (! ( s.nest_a.nest_b.c2[0] ) ) && (s.nest_a.nest_b.c2[1]) && (s.nest_a.nest_b.c2[2]) && (! ( s.nest_a.nest_b.c2[3] ) )
          )
	  gray=1.0;
	else
          gray =0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

struct nestb {
  bvec2 a2;
  bvec3 b2;
  bvec4 c2;
};

struct nesta {
  bvec2 a1;
  bvec3 b1;
  bvec4 c1;
  nestb nest_b;
};

struct nest {
  nesta nest_a;
};

void main()
{
  nest s = nest(nesta(bvec2(12, 13), bvec3(14.0, 0.0, 139.0), bvec4(25.5, 17.0, 145, 163), nestb(bvec2(28, 0), bvec3(0.0, 0.0, 1.0), bvec4(0.0, 17.0, 145, 0))));
  float gray = 0.0;
  if ((((((((((((((((((s.nest_a.a1[0] && s.nest_a.a1[1]) && s.nest_a.b1[0]) && !s.nest_a.b1[1]) && s.nest_a.b1[2]) && s.nest_a.c1[0]) && s.nest_a.c1[1]) && s.nest_a.c1[2]) && s.nest_a.c1[3]) && s.nest_a.nest_b.a2[0]) && !s.nest_a.nest_b.a2[1]) && !s.nest_a.nest_b.b2[0]) && !s.nest_a.nest_b.b2[1]) && s.nest_a.nest_b.b2[2]) && !s.nest_a.nest_b.c2[0]) && s.nest_a.nest_b.c2[1]) && s.nest_a.nest_b.c2[2]) && !s.nest_a.nest_b.c2[3]))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/structnest_bvec2bvec3bvec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bool_empty_inout_bool_empty_vert.vert
filename /home/oof/webgl_cleaned/bool_empty_inout_bool_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:18: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: UnaryExpr(op='!', operand=Identifier(name='par'), postfix=False)
e.right: Identifier(name='ret')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='par')
e.right: BoolLiteral(value=False)
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bool function(inout bool par);
void main ()
{
	bool par = true;
	bool ret = false;
	float gray = 0.0;
	ret = function(par);
	if(!par && ret)
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
bool function(inout bool par)
{
	if(par)
	{
		par = false;
		return true;
	}
	else
		return false;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bool function(inout bool par);
void main()
{
  bool par = true;
  bool ret = false;
  float gray = 0.0;
  ret = function(par);
  if ((!par && ret))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

bool function(inout bool par)
{
  if (par)
  {
    par = false;
    return true;
  }
  else
    return false;
}


Filename: /home/oof/webgl_cleaned/bool_empty_inout_bool_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/asin_vec2_vert_xvary.vert
filename /home/oof/webgl_cleaned/asin_vec2_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * (gtf_Color.rg - 0.5);
	color = vec4(asin(c) / M_PI + 0.5, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = (2.0 * (gtf_Color.rg - 0.5));
  color = vec4(((asin(c) / M_PI) + 0.5), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/asin_vec2_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/gl_MaxVertexUniformVectors_vert.vert
filename /home/oof/webgl_cleaned/gl_MaxVertexUniformVectors_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='gl_MaxVertexUniformVectors')]), right=FloatLiteral(value=128.0))])
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='gl_MaxVertexUniformVectors')])
e.right: FloatLiteral(value=128.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(float(gl_MaxVertexUniformVectors) / 128.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4((float(gl_MaxVertexUniformVectors) / 128.0));
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/gl_MaxVertexUniformVectors_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/sqrt_float_frag_xvary.frag
e.left: FloatLiteral(value=100.0)
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c')), right=FloatLiteral(value=100.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c'))
e.right: FloatLiteral(value=100.0)
e.left: Identifier(name='c')
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = sqrt(100.0 * color.r);
	gl_FragColor = vec4(c * c / 100.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = sqrt((100.0 * color.r));
  gl_FragColor = vec4(((c * c) / 100.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/sqrt_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structcopy_float_frag.frag
e.left: Identifier(name='s2')
e.right: Identifier(name='s')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d')), right=FloatLiteral(value=15.0)), right=BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b')), right=MemberExpr(base=Identifier(name='s2'), member='c')), right=MemberExpr(base=Identifier(name='s2'), member='d')), right=FloatLiteral(value=15.0))), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d'))
e.right: FloatLiteral(value=15.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c'))
e.right: MemberExpr(base=Identifier(name='s'), member='d')
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b'))
e.right: MemberExpr(base=Identifier(name='s'), member='c')
e.left: MemberExpr(base=Identifier(name='s'), member='a')
e.right: MemberExpr(base=Identifier(name='s'), member='b')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b')), right=MemberExpr(base=Identifier(name='s2'), member='c')), right=MemberExpr(base=Identifier(name='s2'), member='d'))
e.right: FloatLiteral(value=15.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b')), right=MemberExpr(base=Identifier(name='s2'), member='c'))
e.right: MemberExpr(base=Identifier(name='s2'), member='d')
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s2'), member='a'), right=MemberExpr(base=Identifier(name='s2'), member='b'))
e.right: MemberExpr(base=Identifier(name='s2'), member='c')
e.left: MemberExpr(base=Identifier(name='s2'), member='a')
e.right: MemberExpr(base=Identifier(name='s2'), member='b')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	float a;
	float b;
	float c;
	float d;
};
void main ()
{
	sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
	sabcd s2 = sabcd(0.0, 0.0, 0.0, 0.0);
	s2 = s;
	gl_FragColor = vec4((s.a + s.b + s.c + s.d) / 15.0, (s2.a + s2.b + s2.c + s2.d) / 15.0, 1.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  float a;
  float b;
  float c;
  float d;
};

void main()
{
  sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
  sabcd s2 = sabcd(0.0, 0.0, 0.0, 0.0);
  s2 = s;
  gl_FragColor = vec4(((((s.a + s.b) + s.c) + s.d) / 15.0), ((((s2.a + s2.b) + s2.c) + s2.d) / 15.0), 1.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/structcopy_float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3array_vert.vert
filename /home/oof/webgl_cleaned/vec3array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1))
e.right: CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=MemberExpr(base=Identifier(name='gtf_Color'), member='g')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='b'))])
e.left: IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='lightPosition'), index=IntLiteral(value=1))
e.left: Identifier(name='color')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1))), right=FloatLiteral(value=0.0))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1))), right=FloatLiteral(value=0.0))])
e.right: FloatLiteral(value=2.0)
e.left: IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='v'), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
uniform vec3 lightPosition[2];
void main()
{
    vec3 v[2];
    v[1] = vec3(gtf_Color.r, gtf_Color.g, gtf_Color.b);
    v[0] = lightPosition[1];
    color =  vec4(v[1] + v[1], 0.0)/2.0;
    gl_Position     = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

uniform vec3 lightPosition[2];

void main()
{
  vec3 v[2];
  v[1] = vec3(gtf_Color.r, gtf_Color.g, gtf_Color.b);
  v[0] = lightPosition[1];
  color = (vec4((v[1] + v[1]), 0.0) / 2.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/vec3array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/step_float_vert_xvary_edgeconsthalf_ref.vert
filename /home/oof/webgl_cleaned/step_float_vert_xvary_edgeconsthalf_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='c')
e.right: Identifier(name='edge')
e.left: Identifier(name='c')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float edge = 0.5;
	float c = gtf_Color.r;
	if(c >= edge) c = 1.0;
	else c = 0.0;
	color = vec4(c, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float edge = 0.5;
  float c = gtf_Color.r;
  if ((c >= edge))
    c = 1.0;
  else
    c = 0.0;
  color = vec4(c, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/step_float_vert_xvary_edgeconsthalf_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lessThan_vec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 lt(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] < b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] < b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] < b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(lt(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 lt(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] < b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] < b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] < b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(lt(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/lessThan_vec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bvec4_2int_2float_vert.vert
filename /home/oof/webgl_cleaned/bvec4_2int_2float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=BoolLiteral(value=False)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=BoolLiteral(value=True))), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=BoolLiteral(value=False)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), right=BoolLiteral(value=True))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=BoolLiteral(value=False)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=BoolLiteral(value=True)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=BoolLiteral(value=False))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=BoolLiteral(value=False))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=BoolLiteral(value=True))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3))
e.right: BoolLiteral(value=True)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	bvec4 a = bvec4(0, 23, 0.0, 23.0);
	float gray;
	if( (a[0] == false) && (a[1] == true) && (a[2] == false) && (a[3] == true) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  bvec4 a = bvec4(0, 23, 0.0, 23.0);
  float gray;
  if (((((a[0] == false) && (a[1] == true)) && (a[2] == false)) && (a[3] == true)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/bvec4_2int_2float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lessThan_vec2_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
bvec2 lt(in vec2 a, in vec2 b)
{
	bvec2 result;
	if(a[0] < b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] < b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(10.0 * color.rg - 4.5);
	vec2 result = vec2(lt(c, vec2(0.0)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec2 lt(in vec2 a, in vec2 b)
{
  bvec2 result;
  if ((a[0] < b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] < b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor(((10.0 * color.rg) - 4.5));
  vec2 result = vec2(lt(c, vec2(0.0)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/lessThan_vec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/refract_vec2_frag_ivarynconst_ref.frag
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: FloatLiteral(value=1.0)
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='eta')), right=BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]))))
e.left: BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='eta'))
e.right: BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])))
e.left: Identifier(name='eta')
e.right: Identifier(name='eta')
e.left: FloatLiteral(value=1.0)
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]))
e.left: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.left: Identifier(name='k')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='result')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.0)])
e.left: Identifier(name='result')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='v1')), right=BinaryExpr(op='*', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')])), right=Identifier(name='v2')))
e.left: BinaryExpr(op='*', left=Identifier(name='eta'), right=Identifier(name='v1'))
e.right: BinaryExpr(op='*', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')])), right=Identifier(name='v2'))
e.left: Identifier(name='eta')
e.right: Identifier(name='v1')
e.left: BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])), right=CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')]))
e.right: Identifier(name='v2')
e.left: BinaryExpr(op='*', left=Identifier(name='eta'), right=CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))]))
e.right: CallExpr(callee=Identifier(name='sqrt'), args=[Identifier(name='k')])
e.left: Identifier(name='eta')
e.right: CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2'))])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=Identifier(name='result'), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=Identifier(name='result'), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='result')
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 v1;
	vec2 v2 = normalize(vec2(1.0, 1.0));
	float theta = color.g * 2.0 * M_PI;
	float phi = color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	vec2 result;
	float eta = 0.5;
	float k = 1.0 - eta * eta * (1.0 - dot(v1, v2) * dot(v1, v2));
	if(k < 0.0)
		result = vec2(0.0);
	else
		result = eta * v1 - (eta * dot(v1, v2) + sqrt(k)) * v2;
	gl_FragColor = vec4((result + 1.0) / 2.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 v1;
  vec2 v2 = normalize(vec2(1.0, 1.0));
  float theta = ((color.g * 2.0) * M_PI);
  float phi = ((color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  vec2 result;
  float eta = 0.5;
  float k = (1.0 - ((eta * eta) * (1.0 - (dot(v1, v2) * dot(v1, v2)))));
  if ((k < 0.0))
    result = vec2(0.0);
  else
    result = ((eta * v1) - (((eta * dot(v1, v2)) + sqrt(k)) * v2));
  gl_FragColor = vec4(((result + 1.0) / 2.0), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/refract_vec2_frag_ivarynconst_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/smoothstep_vec3_frag_xvary_edgeconstquarter.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='smoothstep'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='edge0'), right=Identifier(name='edge1')), right=MemberExpr(base=Identifier(name='color'), member='rgb'))]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec3 edge0 = vec3(0.25, 0.25, 0.25);
	const vec3 edge1 = vec3(0.75, 0.75, 0.75);
	gl_FragColor = vec4(smoothstep(edge0, edge1, color.rgb), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec3 edge0 = vec3(0.25, 0.25, 0.25);
  const vec3 edge1 = vec3(0.75, 0.75, 0.75);
  gl_FragColor = vec4(smoothstep(edge0, edge1, color.rgb), 1.0);
}


Filename: /home/oof/webgl_cleaned/smoothstep_vec3_frag_xvary_edgeconstquarter.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/all_bvec3_frag.frag
e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='all'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(4.0 * color.rgb);
	gl_FragColor = vec4(vec3(all(bvec3(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor((4.0 * color.rgb));
  gl_FragColor = vec4(vec3(all(bvec3(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/all_bvec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp2_vec2_vert_xvaryneg_ref.vert
filename /home/oof/webgl_cleaned/exp2_vec2_vert_xvaryneg_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = gtf_Color.rg;
	color = vec4(1.0 / pow(vec2(2.0), 5.0 * c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = gtf_Color.rg;
  color = vec4((1.0 / pow(vec2(2.0), (5.0 * c))), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp2_vec2_vert_xvaryneg_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/bvec_tests.vert
filename /home/oof/webgl_cleaned/bvec_tests.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='||', left=Identifier(name='vuni1'), right=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=2))))
e.right: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=2))), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=3)))
e.left: Identifier(name='vuni1')
e.right: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='vuni3'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='vuni2'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1))), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='&&', left=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='vuni4'), index=IntLiteral(value=1))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
uniform bool vuni1;
uniform bvec2 vuni2;
uniform bvec3 vuni3;
uniform bvec4 vuni4;
varying vec4 color;
void main ()
{
	if(vuni1 || vuni2[0] && vuni2[1] && vuni3[0] && vuni3[1] && vuni3[2] || vuni4[0] && vuni4[1] && vuni4[2] && vuni4[3])
	color = vec4(1.0, 0.0, 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

uniform bool vuni1;

uniform bvec2 vuni2;

uniform bvec3 vuni3;

uniform bvec4 vuni4;

varying vec4 color;

void main()
{
  if (((vuni1 || ((((vuni2[0] && vuni2[1]) && vuni3[0]) && vuni3[1]) && vuni3[2])) || (((vuni4[0] && vuni4[1]) && vuni4[2]) && vuni4[3])))
    color = vec4(1.0, 0.0, 0.5, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/bvec_tests.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_bvec2_vert.vert
filename /home/oof/webgl_cleaned/equal_bvec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(1.5 * gtf_Color.rg);
	vec2 result = vec2(equal(bvec2(c), bvec2(true)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor((1.5 * gtf_Color.rg));
  vec2 result = vec2(equal(bvec2(c), bvec2(true)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equal_bvec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/notEqual_vec3_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(notEqual(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(notEqual(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/notEqual_vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/3f_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='color'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform vec3 color;
void main ()
{
	gl_FragColor = vec4 (color, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform vec3 color;

void main()
{
  gl_FragColor = vec4(color, 1.0);
}


Filename: /home/oof/webgl_cleaned/3f_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/float_empty_inout_float_empty_vert.vert
filename /home/oof/webgl_cleaned/float_empty_inout_float_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:18: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=FloatLiteral(value=0.0))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='par')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float function(inout float par);
void main ()
{
	float par = 1.0;
	float ret = 0.0;
	float gray = 0.0;
	ret = function(par);
	if((par == 0.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
float function(inout float par)
{
	if(par == 1.0)
	{
		par = 0.0;
		return 1.0;
	}
	else
		return 0.0;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float function(inout float par);
void main()
{
  float par = 1.0;
  float ret = 0.0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 0.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

float function(inout float par)
{
  if ((par == 1.0))
  {
    par = 0.0;
    return 1.0;
  }
  else
    return 0.0;
}


Filename: /home/oof/webgl_cleaned/float_empty_inout_float_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lessThanEqual_vec2_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
bvec2 lte(in vec2 a, in vec2 b)
{
	bvec2 result;
	if(a[0] <= b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] <= b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(10.0 * color.rg - 4.5);
	vec2 result = vec2(lte(c, vec2(0.0)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec2 lte(in vec2 a, in vec2 b)
{
  bvec2 result;
  if ((a[0] <= b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] <= b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor(((10.0 * color.rg) - 4.5));
  vec2 result = vec2(lte(c, vec2(0.0)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/lessThanEqual_vec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_empty_in_vec4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=1.0))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
vec4 function(in vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main ()
{
	vec4 par[3];
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
	ret = function(par);
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
vec4 function(in vec4 par[3])
{
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
	{
		set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
		return vec4(1.0, 1.0, 1.0, 1.0);
	}
	else
		return vec4(0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in vec4 array[3], const in vec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 array[3], const in vec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

vec4 function(in vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main()
{
  vec4 par[3];
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
  ret = function(par);
  if ((is_all(par, vec4(1.0, 1.0, 1.0, 1.0)) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

vec4 function(in vec4 par[3])
{
  if (is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
  {
    set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
    return vec4(1.0, 1.0, 1.0, 1.0);
  }
  else
    return vec4(0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in vec4 array[3], const in vec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 array[3], const in vec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_in_vec4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/matrixMultComp_mat2_frag_ref.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: BinaryExpr(op='*', left=IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='m1'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='m2'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='m3'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	mat2 m1 = mat2(color.rg, color.ba);
	mat2 m2 = mat2(1.0, 0.5, 0.5, 1.0);
	mat2 m3 = mat2(0.0);
	m3[0][0] = m1[0][0] * m2[0][0];
	m3[0][1] = m1[0][1] * m2[0][1];
	m3[1][0] = m1[1][0] * m2[1][0];
	m3[1][1] = m1[1][1] * m2[1][1];
	gl_FragColor = vec4(m3[0][0], m3[1][0], m3[0][1], m3[1][1]);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  mat2 m1 = mat2(color.rg, color.ba);
  mat2 m2 = mat2(1.0, 0.5, 0.5, 1.0);
  mat2 m3 = mat2(0.0);
  m3[0][0] = (m1[0][0] * m2[0][0]);
  m3[0][1] = (m1[0][1] * m2[0][1]);
  m3[1][0] = (m1[1][0] * m2[1][0]);
  m3[1][1] = (m1[1][1] * m2[1][1]);
  gl_FragColor = vec4(m3[0][0], m3[1][0], m3[0][1], m3[1][1]);
}


Filename: /home/oof/webgl_cleaned/matrixMultComp_mat2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_float_vert_xvary_yconsthalf.vert
filename /home/oof/webgl_cleaned/pow_float_vert_xvary_yconsthalf.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=16.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 16.0 * gtf_Color.r;
	color = vec4(pow(c, 0.5) / 4.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = (16.0 * gtf_Color.r);
  color = vec4((pow(c, 0.5) / 4.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_float_vert_xvary_yconsthalf.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/2i_vert.vert
filename /home/oof/webgl_cleaned/2i_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:6: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "col")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='col')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='color')])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
attribute vec4 gtf_Color;
uniform ivec2 color;
varying vec2 col;
void main ()
{
	col = vec2(color);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

vec4 gtf_Color;

uniform ivec2 color;

varying vec2 col;

void main()
{
  col = vec2(color);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/2i_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/acos_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/acos_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='acos'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='acos'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 2.0 * (gtf_Color.r - 0.5);
	color = vec4(acos(c) / M_PI, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = (2.0 * (gtf_Color.r - 0.5));
  color = vec4((acos(c) / M_PI), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/acos_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_float_vert_xvaryneg.vert
filename /home/oof/webgl_cleaned/exp_float_vert_xvaryneg.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='exp'), args=[BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = -gtf_Color.r;
	color = vec4(exp(3.0 * c), 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = -gtf_Color.r;
  color = vec4(exp((3.0 * c)), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp_float_vert_xvaryneg.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp2_vec2_frag_xvaryneg.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec2 c = -color.rg;
	gl_FragColor = vec4(exp2(5.0 * c), 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec2 c = -color.rg;
  gl_FragColor = vec4(exp2((5.0 * c)), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/exp2_vec2_frag_xvaryneg.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/prefixdecrement_vert.vert
filename /home/oof/webgl_cleaned/prefixdecrement_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='==', left=Identifier(name='k'), right=IntLiteral(value=22))
e.right: BinaryExpr(op='==', left=Identifier(name='m'), right=IntLiteral(value=22))
e.left: Identifier(name='k')
e.right: IntLiteral(value=22)
e.left: Identifier(name='m')
e.right: IntLiteral(value=22)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	int m=23;
	int k = --m;
	float gray;
	if( (k==22) && (m==22) )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  int m = 23;
  int k = --m;
  float gray;
  if (((k == 22) && (m == 22)))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/prefixdecrement_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_empty_inout_vec4_array_vert.vert
filename /home/oof/webgl_cleaned/vec4_empty_inout_vec4_array_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:22: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:23: 'gl_Position' : undeclared identifier
ERROR: 0:23: 'assign' : l-value required (can't modify a const)
ERROR: 0:23: '=' : dimension mismatch
ERROR: 0:23: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
vec4 function(inout vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main ()
{
	vec4 par[3];
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
	ret = function(par);
	if(is_all(par, vec4(0.0, 0.0, 0.0, 0.0)) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
vec4 function(inout vec4 par[3])
{
	if(is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
	{
		set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
		return vec4(1.0, 1.0, 1.0, 1.0);
	}
	else
		return vec4(0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in vec4 array[3], const in vec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 array[3], const in vec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

vec4 function(inout vec4 par[3]);
bool is_all(const in vec4 par, const in float value);
bool is_all(const in vec4 array[3], const in vec4 value);
void set_all(out vec4 array[3], const in vec4 value);
void main()
{
  vec4 par[3];
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  set_all(par, vec4(1.0, 1.0, 1.0, 1.0));
  ret = function(par);
  if ((is_all(par, vec4(0.0, 0.0, 0.0, 0.0)) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

vec4 function(inout vec4 par[3])
{
  if (is_all(par, vec4(1.0, 1.0, 1.0, 1.0)))
  {
    set_all(par, vec4(0.0, 0.0, 0.0, 0.0));
    return vec4(1.0, 1.0, 1.0, 1.0);
  }
  else
    return vec4(0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in vec4 array[3], const in vec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 array[3], const in vec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_inout_vec4_array_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/lessThan_vec2_vert_ref.vert
filename /home/oof/webgl_cleaned/lessThan_vec2_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec2 lt(in vec2 a, in vec2 b)
{
	bvec2 result;
	if(a[0] < b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] < b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(lt(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec2 lt(in vec2 a, in vec2 b)
{
  bvec2 result;
  if ((a[0] < b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] < b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(lt(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThan_vec2_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/int_empty_in_int_empty_vert.vert
filename /home/oof/webgl_cleaned/int_empty_in_int_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:18: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=IntLiteral(value=1))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='par')
e.right: IntLiteral(value=0)
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
int function(in int par);
void main ()
{
	int par = 1;
	int ret = 0;
	float gray = 0.0;
	ret = function(par);
	if((par == 1) && (ret == 1))
	{
		gray = 1.0;
	}
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
int function(in int par)
{
	if(par == 1)
	{
		par = 0;
		return 1;
	}
	else
		return 0;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

int function(in int par);
void main()
{
  int par = 1;
  int ret = 0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 1) && (ret == 1)))
  {
    gray = 1.0;
  }
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

int function(in int par)
{
  if ((par == 1))
  {
    par = 0;
    return 1;
  }
  else
    return 0;
}


Filename: /home/oof/webgl_cleaned/int_empty_in_int_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/sqrt_vec3_frag_xvary_ref.frag
e.left: FloatLiteral(value=100.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='c'), right=FloatLiteral(value=100.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='c')
e.right: FloatLiteral(value=100.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 100.0 * color.rgb;
	gl_FragColor = vec4(c / 100.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = (100.0 * color.rgb);
  gl_FragColor = vec4((c / 100.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/sqrt_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mix_vec3_frag_xvary_yconsthalf_aconsthalf_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='c'), right=BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=Identifier(name='a'))), right=BinaryExpr(op='*', left=Identifier(name='y'), right=Identifier(name='a'))), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=Identifier(name='a')))
e.right: BinaryExpr(op='*', left=Identifier(name='y'), right=Identifier(name='a'))
e.left: Identifier(name='c')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=Identifier(name='a'))
e.left: FloatLiteral(value=1.0)
e.right: Identifier(name='a')
e.left: Identifier(name='y')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec3 y = vec3(0.5, 0.5, 0.5);
	const vec3 a = vec3(0.5, 0.5, 0.5);
	vec3 c = color.rgb;
	gl_FragColor = vec4(c * (1.0 - a) + y * a, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec3 y = vec3(0.5, 0.5, 0.5);
  const vec3 a = vec3(0.5, 0.5, 0.5);
  vec3 c = color.rgb;
  gl_FragColor = vec4(((c * (1.0 - a)) + (y * a)), 1.0);
}


Filename: /home/oof/webgl_cleaned/mix_vec3_frag_xvary_yconsthalf_aconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/abs_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/abs_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = 2.0 * (gtf_Color.rgb - 0.5);
	if((c[0] < 0.0)) c[0] *= -1.0;
	if((c[1] < 0.0)) c[1] *= -1.0;
	if((c[2] < 0.0)) c[2] *= -1.0;
	color = vec4(c, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = (2.0 * (gtf_Color.rgb - 0.5));
  if ((c[0] < 0.0))
    (c[0] *= -1.0);
  if ((c[1] < 0.0))
    (c[1] *= -1.0);
  if ((c[2] < 0.0))
    (c[2] *= -1.0);
  color = vec4(c, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/abs_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/acos_vec2_frag_xvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='acos'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='acos'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * (color.rg - 0.5);
	gl_FragColor = vec4(acos(c) / M_PI, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = (2.0 * (color.rg - 0.5));
  gl_FragColor = vec4((acos(c) / M_PI), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/acos_vec2_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec3_st_p_1vec2_1float_vert.vert
filename /home/oof/webgl_cleaned/vec3_st_p_1vec2_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.stp;
	vec2 t = m.st;
	float k = m.p;
	vec4 a = vec4(t, k, lightloc.q);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.stp;
  vec2 t = m.st;
  float k = m.p;
  vec4 a = vec4(t, k, lightloc.q);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_st_p_1vec2_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_tsp_1vec3_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.stp;
	vec3 t = m.tsp;
	vec4 a = vec4(t.t, t.s, t.p ,al.q);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.stp;
  vec3 t = m.tsp;
  vec4 a = vec4(t.t, t.s, t.p, al.q);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_tsp_1vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/structnest_mat2_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=FloatLiteral(value=277.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: FloatLiteral(value=277.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct nestb
{
	mat2 b;
};
struct nesta
{
	mat2 a;
	nestb nest_b;
};
struct nest
{
	nesta nest_a;
};
void main ()
{
	nest s = nest(nesta( mat2(11, 13, 29, 33), nestb( mat2(12, 19, 79, 81) ) ) );
	gl_FragColor = vec4( vec3(  (s.nest_a.a[0][0] + s.nest_a.a[0][1] + s.nest_a.a[1][0] + s.nest_a.a[1][1] + s.nest_a.nest_b.b[0][0] + s.nest_a.nest_b.b[0][1] + s.nest_a.nest_b.b[1][0] + s.nest_a.nest_b.b[1][1] ) / 277.0 ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct nestb {
  mat2 b;
};

struct nesta {
  mat2 a;
  nestb nest_b;
};

struct nest {
  nesta nest_a;
};

void main()
{
  nest s = nest(nesta(mat2(11, 13, 29, 33), nestb(mat2(12, 19, 79, 81))));
  gl_FragColor = vec4(vec3(((((((((s.nest_a.a[0][0] + s.nest_a.a[0][1]) + s.nest_a.a[1][0]) + s.nest_a.a[1][1]) + s.nest_a.nest_b.b[0][0]) + s.nest_a.nest_b.b[0][1]) + s.nest_a.nest_b.b[1][0]) + s.nest_a.nest_b.b[1][1]) / 277.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/structnest_mat2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sign_float_frag_xvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='*', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='sign'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='sign'), args=[Identifier(name='c')])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 2.0 * (color.r - 0.5);
	gl_FragColor = vec4(c * sign(c), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = (2.0 * (color.r - 0.5));
  gl_FragColor = vec4((c * sign(c)), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/sign_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_gra_b_1vec3_1float_vert.vert
filename /home/oof/webgl_cleaned/vec4_gra_b_1vec3_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:15: 'gl_Position' : undeclared identifier
ERROR: 0:15: 'assign' : l-value required (can't modify a const)
ERROR: 0:15: '=' : dimension mismatch
ERROR: 0:15: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.gra;
	float b = lightloc.b;
	vec4 a = vec4(m.g, m.r, b, m.b);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.gra;
  float b = lightloc.b;
  vec4 a = vec4(m.g, m.r, b, m.b);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec4_gra_b_1vec3_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_r_g_b_a_4float_vert.vert
filename /home/oof/webgl_cleaned/vec4_r_g_b_a_4float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:16: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:17: 'gl_Position' : undeclared identifier
ERROR: 0:17: 'assign' : l-value required (can't modify a const)
ERROR: 0:17: '=' : dimension mismatch
ERROR: 0:17: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='m'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='m')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	float r = lightloc.r;
	float g = lightloc.g;
	float b = lightloc.b;
	float a = lightloc.a;
	vec4 m = vec4(r, g, b, a);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * m;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  float r = lightloc.r;
  float g = lightloc.g;
  float b = lightloc.b;
  float a = lightloc.a;
  vec4 m = vec4(r, g, b, a);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * m);
}


Filename: /home/oof/webgl_cleaned/vec4_r_g_b_a_4float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/notEqual_bvec2_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rg')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
precision mediump float;
varying vec4 color;
bvec2 ne(in bvec2 a, in bvec2 b)
{
	bvec2 result;
	if(a[0] != b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] != b[1]) result[1] = true;
	else result[1] = false;
	return result;
}
void main ()
{
	vec2 c = floor(1.5 * color.rg);
	vec2 result = vec2(ne(bvec2(c), bvec2(true)));
	gl_FragColor = vec4(result, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec2 ne(in bvec2 a, in bvec2 b)
{
  bvec2 result;
  if ((a[0] != b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] != b[1]))
    result[1] = true;
  else
    result[1] = false;
  return result;
}

void main()
{
  vec2 c = floor((1.5 * color.rg));
  vec2 result = vec2(ne(bvec2(c), bvec2(true)));
  gl_FragColor = vec4(result, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/notEqual_bvec2_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_mat3_vert.vert
filename /home/oof/webgl_cleaned/struct_mat3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:24: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:25: 'gl_Position' : undeclared identifier
ERROR: 0:25: 'assign' : l-value required (can't modify a const)
ERROR: 0:25: '=' : dimension mismatch
ERROR: 0:25: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: Identifier(name='sum')
e.right: BinaryExpr(op='+', left=Identifier(name='sum'), right=IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: Identifier(name='sum')
e.right: IndexExpr(base=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=Identifier(name='sum'), right=FloatLiteral(value=550.0))]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='sum')
e.right: FloatLiteral(value=550.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
 mat3 a;
};
void main ()
{
	sabcd s = sabcd(mat3(12.0, 29.0, 13.0, 26.0, 71.0, 63.0, 90.0, 118.0, 128.0) );
	float sum=0.0;
	sum = sum + s.a[0][0];
	sum = sum + s.a[0][1];
	sum = sum + s.a[0][2];
	sum = sum + s.a[1][0];
	sum = sum + s.a[1][1];
	sum = sum + s.a[1][2];
	sum = sum + s.a[2][0];
	sum = sum + s.a[2][1];
	sum = sum + s.a[2][2];
	color = vec4( vec3(  sum / 550.0  ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  mat3 a;
};

void main()
{
  sabcd s = sabcd(mat3(12.0, 29.0, 13.0, 26.0, 71.0, 63.0, 90.0, 118.0, 128.0));
  float sum = 0.0;
  sum = (sum + s.a[0][0]);
  sum = (sum + s.a[0][1]);
  sum = (sum + s.a[0][2]);
  sum = (sum + s.a[1][0]);
  sum = (sum + s.a[1][1]);
  sum = (sum + s.a[1][2]);
  sum = (sum + s.a[2][0]);
  sum = (sum + s.a[2][1]);
  sum = (sum + s.a[2][2]);
  color = vec4(vec3((sum / 550.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/struct_mat3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_zx_y_1vec2_1float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec3 m = al.xyz;
	float k = m.y;
	vec2 n = m.zx;
	vec4 a = vec4(n.y, k, n.x, al.w);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec3 m = al.xyz;
  float k = m.y;
  vec2 n = m.zx;
  vec4 a = vec4(n.y, k, n.x, al.w);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec3_zx_y_1vec2_1float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/void_empty_empty_void_empty_vert.vert
filename /home/oof/webgl_cleaned/void_empty_empty_void_empty_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float gray = 0.0;
void function();
void main ()
{
	gray = 0.0;
	function();
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}
void function()
{
	gray = 1.0;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float gray = 0.0;

void function();
void main()
{
  gray = 0.0;
  function();
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}

void function()
{
  gray = 1.0;
}


Filename: /home/oof/webgl_cleaned/void_empty_empty_void_empty_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp2_vec3_frag_xvary.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))]), right=FloatLiteral(value=32.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=32.0)
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = color.rgb;
	gl_FragColor = vec4(exp2(5.0 * c) / 32.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = color.rgb;
  gl_FragColor = vec4((exp2((5.0 * c)) / 32.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/exp2_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat2_copy_vert.vert
filename /home/oof/webgl_cleaned/mat2_copy_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:29: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:30: 'gl_Position' : undeclared identifier
ERROR: 0:30: 'assign' : l-value required (can't modify a const)
ERROR: 0:30: '=' : dimension mismatch
ERROR: 0:30: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=5.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=5.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=10.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=3.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=3.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float x;
	mat2 a = mat2(1.0, 2.0,
	              4.0, 8.0);
	mat2 b = a;
	bool elms = true;
	if(b[0][0] != 1.0) elms = false;
	if(b[0][1] != 2.0) elms = false;
	if(b[1][0] != 4.0) elms = false;
	if(b[1][1] != 8.0) elms = false;
	bool rows = true;
	x = b[0][0] + b[1][0];
	if(x < 5.0-0.1 || x > 5.0+0.1) rows = false;
	x = b[0][1] + b[1][1];
	if(x < 10.0-0.1 || x > 10.0+0.1) rows = false;
	bool cols = true;
	x = b[0][0] + b[0][1];
	if(x < 3.0-0.1 || x > 3.0+0.1) cols = false;
	x = b[1][0] + b[1][1];
	if(x < 12.0-0.1 || x > 12.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float x;
  mat2 a = mat2(1.0, 2.0, 4.0, 8.0);
  mat2 b = a;
  bool elms = true;
  if ((b[0][0] != 1.0))
    elms = false;
  if ((b[0][1] != 2.0))
    elms = false;
  if ((b[1][0] != 4.0))
    elms = false;
  if ((b[1][1] != 8.0))
    elms = false;
  bool rows = true;
  x = (b[0][0] + b[1][0]);
  if (((x < (5.0 - 0.1)) || (x > (5.0 + 0.1))))
    rows = false;
  x = (b[0][1] + b[1][1]);
  if (((x < (10.0 - 0.1)) || (x > (10.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = (b[0][0] + b[0][1]);
  if (((x < (3.0 - 0.1)) || (x > (3.0 + 0.1))))
    cols = false;
  x = (b[1][0] + b[1][1]);
  if (((x < (12.0 - 0.1)) || (x > (12.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mat2_copy_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/log2_float_frag_xvary01.frag
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.01))
e.right: FloatLiteral(value=1.01)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.01)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')]), right=UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log2'), args=[Identifier(name='c')])
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=8.0), postfix=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = (color.r + 0.01) / 1.01;
	gl_FragColor = vec4(log2(c) / -8.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = ((color.r + 0.01) / 1.01);
  gl_FragColor = vec4((log2(c) / -8.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/log2_float_frag_xvary01.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_zx_wy_2vec2_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec2 m = al.zx;
	vec2 n = al.wy;
	vec4 a = vec4(m.y, n.y, m.x, n.x);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec2 m = al.zx;
  vec2 n = al.wy;
  vec4 a = vec4(m.y, n.y, m.x, n.x);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_zx_wy_2vec2_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sin_float_frag_xvary.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='color'), member='r'))])), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='color'), member='r'))]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='sin'), args=[BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=MemberExpr(base=Identifier(name='color'), member='r'))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='color'), member='r')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	gl_FragColor = vec4(0.5 * sin(2.0 * M_PI * color.r) + 0.5, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  gl_FragColor = vec4(((0.5 * sin(((2.0 * M_PI) * color.r))) + 0.5), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/sin_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/float_empty_empty_float_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=FloatLiteral(value=1.0))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))
e.left: Identifier(name='par')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='ret')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='par')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='par')
e.right: FloatLiteral(value=0.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float function(float par);
void main ()
{
	float par = 1.0;
	float ret = 0.0;
	float gray = 0.0;
	ret = function(par);
	if((par == 1.0) && (ret == 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
float function(float par)
{
	if(par == 1.0)
	{
		par = 0.0;
		return 1.0;
	}
	else
		return 0.0;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float function(float par);
void main()
{
  float par = 1.0;
  float ret = 0.0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 1.0) && (ret == 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

float function(float par)
{
  if ((par == 1.0))
  {
    par = 0.0;
    return 1.0;
  }
  else
    return 0.0;
}


Filename: /home/oof/webgl_cleaned/float_empty_empty_float_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp_vec2_vert_xvaryneg_ref.vert
filename /home/oof/webgl_cleaned/exp_vec2_vert_xvaryneg_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	vec2 c = gtf_Color.rg;
	color = vec4(1.0 / pow(vec2(exp1), 3.0 * c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  vec2 c = gtf_Color.rg;
  color = vec4((1.0 / pow(vec2(exp1), (3.0 * c))), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp_vec2_vert_xvaryneg_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fwidth_frag_dx.vert
filename /home/oof/webgl_cleaned/fwidth_frag_dx.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "vertXY")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='vertXY')
e.right: MemberExpr(base=Identifier(name='gtf_Vertex'), member='xy')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec2 vertXY;
void main ()
{
	vertXY = gtf_Vertex.xy;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec2 vertXY;

void main()
{
  vertXY = gtf_Vertex.xy;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fwidth_frag_dx.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/any_bvec3_frag_ref.frag
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='temp')
e.right: BoolLiteral(value=True)
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='_any'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bool _any(in bvec3 a)
{
	bool temp = false;
	if(a[0]) temp = true;
	if(a[1]) temp = true;
	if(a[2]) temp = true;
	return temp;
}
void main ()
{
	vec3 c = floor(1.5 * color.rgb);
	gl_FragColor = vec4(vec3(_any(bvec3(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bool _any(in bvec3 a)
{
  bool temp = false;
  if (a[0])
    temp = true;
  if (a[1])
    temp = true;
  if (a[2])
    temp = true;
  return temp;
}

void main()
{
  vec3 c = floor((1.5 * color.rgb));
  gl_FragColor = vec4(vec3(_any(bvec3(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/any_bvec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_pqst_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.pqst;
	vec4 a = vec4(m.p, m.q, m.s, m.t);
	gl_FragColor = a;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.pqst;
  vec4 a = vec4(m.p, m.q, m.s, m.t);
  gl_FragColor = a;
}


Filename: /home/oof/webgl_cleaned/vec4_pqst_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/dataType9_frag.frag
filename /home/oof/webgl_cleaned/dataType9_frag.frag errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:10: '++' : l-value required (can't modify a varying "f")

#### END COMPILER 0 INFO LOG ####



Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying float f;
void main()
{
    float flt = 1.0;
    flt++;
    f++;
}





New source code: precision mediump float;
precision mediump int;

varying float f;

void main()
{
  float flt = 1.0;
  flt++;
  f++;
}


Filename: /home/oof/webgl_cleaned/dataType9_frag.frag passed with orig: False and new: False
Running /home/oof/webgl_cleaned/tan_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/tan_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:25: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:26: 'gl_Position' : undeclared identifier
ERROR: 0:26: 'assign' : l-value required (can't modify a const)
ERROR: 0:26: '=' : dimension mismatch
ERROR: 0:26: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='c'), member='r')])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='o'), member='r')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])
e.left: MemberExpr(base=Identifier(name='o'), member='r')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])
e.left: CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='c'), member='g')])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='o'), member='g')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])
e.left: MemberExpr(base=Identifier(name='o'), member='g')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])
e.left: CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='c'), member='b')])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='o'), member='b')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])
e.left: MemberExpr(base=Identifier(name='o'), member='b')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='o'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 0.5 * M_PI * 2.0 * (gtf_Color.rgb - 0.5);
	vec3 o;
	if(abs(c.r) < 0.5)
		o.r = 0.5 * tan(c.r) + 0.5;
	else
		o.r = 0.5 / tan(c.r) + 0.5;
	if(abs(c.g) < 0.5)
		o.g = 0.5 * tan(c.g) + 0.5;
	else
		o.g = 0.5 / tan(c.g) + 0.5;
	if(abs(c.b) < 0.5)
		o.b = 0.5 * tan(c.b) + 0.5;
	else
		o.b = 0.5 / tan(c.b) + 0.5;
	color = vec4(o, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = (((0.5 * M_PI) * 2.0) * (gtf_Color.rgb - 0.5));
  vec3 o;
  if ((abs(c.r) < 0.5))
    o.r = ((0.5 * tan(c.r)) + 0.5);
  else
    o.r = ((0.5 / tan(c.r)) + 0.5);
  if ((abs(c.g) < 0.5))
    o.g = ((0.5 * tan(c.g)) + 0.5);
  else
    o.g = ((0.5 / tan(c.g)) + 0.5);
  if ((abs(c.b) < 0.5))
    o.b = ((0.5 * tan(c.b)) + 0.5);
  else
    o.b = ((0.5 / tan(c.b)) + 0.5);
  color = vec4(o, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/tan_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fwidth_frag_ref_dx.vert
filename /home/oof/webgl_cleaned/fwidth_frag_ref_dx.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "vertXY")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='vertXY')
e.right: MemberExpr(base=Identifier(name='gtf_Vertex'), member='xy')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec2 vertXY;
void main ()
{
	vertXY = gtf_Vertex.xy;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec2 vertXY;

void main()
{
  vertXY = gtf_Vertex.xy;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fwidth_frag_ref_dx.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/webgl_struct.vert
Original source code: precision mediump float;
precision mediump int;

struct webgl_Foo {
  int bar;
};
void main() {
  webgl_Foo foo = webgl_Foo(1);
}





New source code: precision mediump float;
precision mediump int;

struct webgl_Foo {
  int bar;
};

void main()
{
  webgl_Foo foo = webgl_Foo(1);
}


Filename: /home/oof/webgl_cleaned/webgl_struct.vert passed with orig: True and new: True
Running /home/oof/webgl_cleaned/4m_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=3))), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=3)))), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=3)))), right=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=3))))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform mat4 color;
void main ()
{
	gl_FragColor = vec4 (color[0][0] + color[0][1] + color[0][2] + color[0][3],
						 color[1][0] + color[1][1] + color[1][2] + color[1][3],
						 color[2][0] + color[2][1] + color[2][2] + color[2][3],
						 color[3][0] + color[3][1] + color[3][2] + color[3][3]);
}





New source code: precision mediump float;
precision mediump int;

uniform mat4 color;

void main()
{
  gl_FragColor = vec4((((color[0][0] + color[0][1]) + color[0][2]) + color[0][3]), (((color[1][0] + color[1][1]) + color[1][2]) + color[1][3]), (((color[2][0] + color[2][1]) + color[2][2]) + color[2][3]), (((color[3][0] + color[3][1]) + color[3][2]) + color[3][3]));
}


Filename: /home/oof/webgl_cleaned/4m_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/notEqual_vec3_frag_ref.frag
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec3 ne(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] != b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] != b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] != b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(ne(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec3 ne(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] != b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] != b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] != b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(ne(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/notEqual_vec3_frag_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/clamp_float_vert_xvary_yconstquarter.vert
filename /home/oof/webgl_cleaned/clamp_float_vert_xvary_yconstquarter.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='clamp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='min_c')), right=Identifier(name='max_c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float min_c = 0.25;
	const float max_c = 0.75;
	float c = gtf_Color.r;
	color = vec4(clamp(c, min_c, max_c), 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float min_c = 0.25;
  const float max_c = 0.75;
  float c = gtf_Color.r;
  color = vec4(clamp(c, min_c, max_c), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/clamp_float_vert_xvary_yconstquarter.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/matrix2VSU.vert
filename /home/oof/webgl_cleaned/matrix2VSU.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='transforms')), right=Identifier(name='anotherMatrix')), right=Identifier(name='gtf_Vertex'))
e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='transforms')), right=Identifier(name='anotherMatrix'))
e.right: Identifier(name='gtf_Vertex')
e.left: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='transforms'))
e.right: Identifier(name='anotherMatrix')
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='transforms')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
uniform mat4 transforms;
uniform mat4 anotherMatrix;
varying vec4 color;
void main()
{
  color = gtf_Color;
   gl_Position = gtf_ModelViewProjectionMatrix* transforms * anotherMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

uniform mat4 transforms;

uniform mat4 anotherMatrix;

varying vec4 color;

void main()
{
  color = gtf_Color;
  gl_Position = (((gtf_ModelViewProjectionMatrix * transforms) * anotherMatrix) * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/matrix2VSU.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/degrees_vec3_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/degrees_vec3_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI')), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0)))
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0)), right=Identifier(name='M_PI'))
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=FloatLiteral(value=360.0))
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=FloatLiteral(value=180.0))
e.right: Identifier(name='M_PI')
e.left: Identifier(name='c')
e.right: FloatLiteral(value=180.0)
e.left: FloatLiteral(value=2.0)
e.right: FloatLiteral(value=360.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 2.0 * M_PI * 2.0 * (gtf_Color.rgb - 0.5);
	color = vec4((c * 180.0 / M_PI) / (2.0 * 360.0) + 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = (((2.0 * M_PI) * 2.0) * (gtf_Color.rgb - 0.5));
  color = vec4(((((c * 180.0) / M_PI) / (2.0 * 360.0)) + 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/degrees_vec3_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/structcopy_vec3_frag.frag
e.left: Identifier(name='s2')
e.right: Identifier(name='s')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=2))), right=FloatLiteral(value=150.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=2)))
e.right: FloatLiteral(value=150.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	vec3 a;
	vec3 b;
};
void main ()
{
	sabcd s = sabcd(vec3(12.0, 29.0, 32.0), vec3(13.0, 26.0, 38.0 ) );
	sabcd s2 = sabcd(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0 ) );
	s2 = s;
	gl_FragColor = vec4( vec3(  (s2.a[0] + s2.a[1] + s2.a[2] + s2.b[0] + s2.b[1] + s2.b[2]) / 150.0  ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  vec3 a;
  vec3 b;
};

void main()
{
  sabcd s = sabcd(vec3(12.0, 29.0, 32.0), vec3(13.0, 26.0, 38.0));
  sabcd s2 = sabcd(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));
  s2 = s;
  gl_FragColor = vec4(vec3(((((((s2.a[0] + s2.a[1]) + s2.a[2]) + s2.b[0]) + s2.b[1]) + s2.b[2]) / 150.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/structcopy_vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/min_vec2_frag_xvary_yconsthalf.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='min'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='min_c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec2 min_c = vec2(0.5, 0.5);
	vec2 c = color.rg;
	gl_FragColor = vec4(min(c, min_c), 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec2 min_c = vec2(0.5, 0.5);
  vec2 c = color.rg;
  gl_FragColor = vec4(min(c, min_c), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/min_vec2_frag_xvary_yconsthalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/gl_MaxCombinedTextureImageUnits_vert.vert
filename /home/oof/webgl_cleaned/gl_MaxCombinedTextureImageUnits_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='gl_MaxCombinedTextureImageUnits')]), right=FloatLiteral(value=8.0))])
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='gl_MaxCombinedTextureImageUnits')])
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(float(gl_MaxCombinedTextureImageUnits) / 8.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4((float(gl_MaxCombinedTextureImageUnits) / 8.0));
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/gl_MaxCombinedTextureImageUnits_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/dot_vec2_frag_xvaryyhalf.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='dot'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]))])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(dot(color.rg, vec2(0.5))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4(vec3(dot(color.rg, vec2(0.5))), 1.0);
}


Filename: /home/oof/webgl_cleaned/dot_vec2_frag_xvaryyhalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/atan_float_vert_xvaryyvary.vert
filename /home/oof/webgl_cleaned/atan_float_vert_xvaryyvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:14: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:19: 'gl_Position' : undeclared identifier
ERROR: 0:19: 'assign' : l-value required (can't modify a const)
ERROR: 0:19: '=' : dimension mismatch
ERROR: 0:19: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='>', left=Identifier(name='x'), right=Identifier(name='epsilon'))
e.right: BinaryExpr(op='>', left=CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')]), right=Identifier(name='epsilon'))
e.left: Identifier(name='x')
e.right: Identifier(name='epsilon')
e.left: CallExpr(callee=Identifier(name='abs'), args=[Identifier(name='y')])
e.right: Identifier(name='epsilon')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=Identifier(name='y'), right=Identifier(name='x'))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=Identifier(name='y'), right=Identifier(name='x'))]), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='atan'), args=[BinaryExpr(op=',', left=Identifier(name='y'), right=Identifier(name='x'))])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float x = 2.0 * (gtf_Color.g - 0.5);
	float y = 2.0 * (gtf_Color.b - 0.5);
	const float epsilon = 1.0e-4;
	color = vec4(0.0, 0.0, 0.0, 1.0);
	if(x > epsilon || abs(y) > epsilon)
	{
		color = vec4(atan(y, x) / (2.0 * M_PI) + 0.5, 0.0, 0.0, 1.0);
	}
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float x = (2.0 * (gtf_Color.g - 0.5));
  float y = (2.0 * (gtf_Color.b - 0.5));
  const float epsilon = 0.0001;
  color = vec4(0.0, 0.0, 0.0, 1.0);
  if (((x > epsilon) || (abs(y) > epsilon)))
  {
    color = vec4(((atan(y, x) / (2.0 * M_PI)) + 0.5), 0.0, 0.0, 1.0);
  }
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/atan_float_vert_xvaryyvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/for_continue_vert.vert
filename /home/oof/webgl_cleaned/for_continue_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='i')
e.right: IntLiteral(value=10)
e.left: Identifier(name='count')
e.right: IntLiteral(value=5)
e.left: Identifier(name='val')
e.right: Identifier(name='count')
e.left: Identifier(name='val')
e.right: IntLiteral(value=50)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	int count=0;
	int val=0;
    	for(int i=0;i<10;i++)
	{
	  count++;
	  if(count == 5)
            continue;
	  else
	    val += count;
	}
	float gray;
	if( val == 50)
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  int count = 0;
  int val = 0;
  for (int i = 0; (i < 10); i++)
  {
    count++;
    if ((count == 5))
      continue;
    else
      (val += count);
  }
  float gray;
  if ((val == 50))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/for_continue_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/asin_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/asin_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 2.0 * (gtf_Color.r - 0.5);
	color = vec4(asin(c) / M_PI + 0.5, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = (2.0 * (gtf_Color.r - 0.5));
  color = vec4(((asin(c) / M_PI) + 0.5), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/asin_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/any_bvec3_frag.frag
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='any'), args=[CallExpr(callee=Identifier(name='bvec3'), args=[Identifier(name='c')])])]), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(1.5 * color.rgb);
	gl_FragColor = vec4(vec3(any(bvec3(c))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor((1.5 * color.rgb));
  gl_FragColor = vec4(vec3(any(bvec3(c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/any_bvec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/21f_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='color'), index=IntLiteral(value=1))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
uniform float color[2];
void main ()
{
	gl_FragColor = vec4 (color[0], color[1], 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

uniform float color[2];

void main()
{
  gl_FragColor = vec4(color[0], color[1], 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/21f_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/sign_float_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/sign_float_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=1.0), right=Identifier(name='c'))
e.left: FloatLiteral(value=1.0)
e.right: Identifier(name='c')
e.left: Identifier(name='c')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False), right=Identifier(name='c'))
e.left: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.right: Identifier(name='c')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 2.0 * (gtf_Color.r - 0.5);
	if(c > 0.0) c = 1.0 * c;
	if(c < 0.0) c = -1.0 * c;
	color = vec4(c, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = (2.0 * (gtf_Color.r - 0.5));
  if ((c > 0.0))
    c = (1.0 * c);
  if ((c < 0.0))
    c = (-1.0 * c);
  color = vec4(c, 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/sign_float_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/structcopy_vec3_vert.vert
filename /home/oof/webgl_cleaned/structcopy_vec3_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='s2')
e.right: Identifier(name='s1')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=2))), right=FloatLiteral(value=150.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=2)))
e.right: FloatLiteral(value=150.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='b'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=2))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s2'), member='a'), index=IntLiteral(value=1))
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
	vec3 a;
	vec3 b;
};
void main ()
{
	sabcd s1 = sabcd(vec3(12.0, 29.0, 32.0), vec3(13.0, 26.0, 38.0 ) );
	sabcd s2 = sabcd(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0 ) );
	s2 = s1;
	color = vec4( vec3(  (s2.a[0] + s2.a[1] + s2.a[2] + s2.b[0] + s2.b[1] + s2.b[2]) / 150.0  ), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  vec3 a;
  vec3 b;
};

void main()
{
  sabcd s1 = sabcd(vec3(12.0, 29.0, 32.0), vec3(13.0, 26.0, 38.0));
  sabcd s2 = sabcd(vec3(0.0, 0.0, 0.0), vec3(0.0, 0.0, 0.0));
  s2 = s1;
  color = vec4(vec3(((((((s2.a[0] + s2.a[1]) + s2.a[2]) + s2.b[0]) + s2.b[1]) + s2.b[2]) / 150.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/structcopy_vec3_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_bigarray_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=CallExpr(callee=Identifier(name='bvec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BoolLiteral(value=False), right=BoolLiteral(value=False)), right=BoolLiteral(value=False)), right=BoolLiteral(value=False))]))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=BoolLiteral(value=True))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=4))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=5))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=6))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=7))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=8))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=9))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=4))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=5))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=6))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=7))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=8))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=9))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bvec4 function(inout bvec4 par[10]);
bool is_all(const in bvec4 par, const in bool value);
bool is_all(const in bvec4 array[10], const in bvec4 value);
void set_all(out bvec4 array[10], const in bvec4 value);
void main ()
{
	bvec4 par[10];
	bvec4 ret = bvec4(false, false, false, false);
	float gray = 0.0;
	set_all(par, bvec4(true, true, true, true));
	ret = function(par);
	if(is_all(par, bvec4(false, false, false, false)) && is_all(ret, true))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
bvec4 function(inout bvec4 par[10])
{
	if(is_all(par, bvec4(true, true, true, true)))
	{
		set_all(par, bvec4(false, false, false, false));
		return bvec4(true, true, true, true);
	}
	else
		return bvec4(false, false, false, false);
}
bool is_all(const in bvec4 par, const in bool value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
bool is_all(const in bvec4 array[10], const in bvec4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	if(array[3] != value)
		ret = false;
	if(array[4] != value)
		ret = false;
	if(array[5] != value)
		ret = false;
	if(array[6] != value)
		ret = false;
	if(array[7] != value)
		ret = false;
	if(array[8] != value)
		ret = false;
	if(array[9] != value)
		ret = false;
	return ret;
}
void set_all(out bvec4 array[10], const in bvec4 value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
	array[3] = value;
	array[4] = value;
	array[5] = value;
	array[6] = value;
	array[7] = value;
	array[8] = value;
	array[9] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bvec4 function(inout bvec4 par[10]);
bool is_all(const in bvec4 par, const in bool value);
bool is_all(const in bvec4 array[10], const in bvec4 value);
void set_all(out bvec4 array[10], const in bvec4 value);
void main()
{
  bvec4 par[10];
  bvec4 ret = bvec4(false, false, false, false);
  float gray = 0.0;
  set_all(par, bvec4(true, true, true, true));
  ret = function(par);
  if ((is_all(par, bvec4(false, false, false, false)) && is_all(ret, true)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

bvec4 function(inout bvec4 par[10])
{
  if (is_all(par, bvec4(true, true, true, true)))
  {
    set_all(par, bvec4(false, false, false, false));
    return bvec4(true, true, true, true);
  }
  else
    return bvec4(false, false, false, false);
}

bool is_all(const in bvec4 par, const in bool value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

bool is_all(const in bvec4 array[10], const in bvec4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  if ((array[3] != value))
    ret = false;
  if ((array[4] != value))
    ret = false;
  if ((array[5] != value))
    ret = false;
  if ((array[6] != value))
    ret = false;
  if ((array[7] != value))
    ret = false;
  if ((array[8] != value))
    ret = false;
  if ((array[9] != value))
    ret = false;
  return ret;
}

void set_all(out bvec4 array[10], const in bvec4 value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
  array[3] = value;
  array[4] = value;
  array[5] = value;
  array[6] = value;
  array[7] = value;
  array[8] = value;
  array[9] = value;
}


Filename: /home/oof/webgl_cleaned/bvec4_empty_inout_bvec4_bigarray_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/matrixVSU.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='color')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = color;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = color;
}


Filename: /home/oof/webgl_cleaned/matrixVSU.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_vec3_frag_xconst2_yvary_ref.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4(exp2(2.0 * c) / 4.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = (2.0 * (color.rgb - 0.5));
  gl_FragColor = vec4((exp2((2.0 * c)) / 4.0), 1.0);
}


Filename: /home/oof/webgl_cleaned/pow_vec3_frag_xconst2_yvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/notEqual_bvec3_frag.frag
e.left: FloatLiteral(value=1.5)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(1.5 * color.rgb);
	vec3 result = vec3(notEqual(bvec3(c), bvec3(true)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor((1.5 * color.rgb));
  vec3 result = vec3(notEqual(bvec3(c), bvec3(true)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/notEqual_bvec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/faceforward_vec2_vert_nvaryiconst.vert
filename /home/oof/webgl_cleaned/faceforward_vec2_vert_nvaryiconst.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='g'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='g')
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='*', left=MemberExpr(base=Identifier(name='gtf_Color'), member='b'), right=FloatLiteral(value=2.0))
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='b')
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='v1'), member='x')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='cos'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: MemberExpr(base=Identifier(name='v1'), member='y')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')]), right=CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')]))
e.left: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='theta')])
e.right: CallExpr(callee=Identifier(name='sin'), args=[Identifier(name='phi')])
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='faceforward'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=Identifier(name='v1'))]), right=FloatLiteral(value=1.0)), right=FloatLiteral(value=2.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='faceforward'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=Identifier(name='v1'))]), right=FloatLiteral(value=1.0))
e.right: FloatLiteral(value=2.0)
e.left: CallExpr(callee=Identifier(name='faceforward'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='v1'), right=Identifier(name='v2')), right=Identifier(name='v1'))])
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 v1;
	vec2 v2 = normalize(vec2(1.0, 1.0));
	float theta = gtf_Color.g * 2.0 * M_PI;
	float phi = gtf_Color.b * 2.0 * M_PI;
	v1.x = cos(theta) * sin(phi);
	v1.y = sin(theta) * sin(phi);
	color = vec4((faceforward(v1, v2, v1) + 1.0) / 2.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 v1;
  vec2 v2 = normalize(vec2(1.0, 1.0));
  float theta = ((gtf_Color.g * 2.0) * M_PI);
  float phi = ((gtf_Color.b * 2.0) * M_PI);
  v1.x = (cos(theta) * sin(phi));
  v1.y = (sin(theta) * sin(phi));
  color = vec4(((faceforward(v1, v2, v1) + 1.0) / 2.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/faceforward_vec2_vert_nvaryiconst.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/buffer_objects_pointSize.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='color')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = color;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = color;
}


Filename: /home/oof/webgl_cleaned/buffer_objects_pointSize.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mat4_empty_in_mat4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=1.0))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
mat4 function(in mat4 par);
bool is_all(const in mat4 par, const in float value);
void set_all(out mat4 par, const in float value);
void main ()
{
	mat4 par = mat4(1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0,
			1.0, 1.0, 1.0, 1.0);
	mat4 ret = mat4(0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0,
			0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 1.0) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
mat4 function(in mat4 par)
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return mat4(1.0, 1.0, 1.0, 1.0,
			    1.0, 1.0, 1.0, 1.0,
			    1.0, 1.0, 1.0, 1.0,
			    1.0, 1.0, 1.0, 1.0);
	}
	else
		return mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 par, const in float value)
{
	par[0][0] = value;
	par[0][1] = value;
	par[0][2] = value;
	par[0][3] = value;
	par[1][0] = value;
	par[1][1] = value;
	par[1][2] = value;
	par[1][3] = value;
	par[2][0] = value;
	par[2][1] = value;
	par[2][2] = value;
	par[2][3] = value;
	par[3][0] = value;
	par[3][1] = value;
	par[3][2] = value;
	par[3][3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

mat4 function(in mat4 par);
bool is_all(const in mat4 par, const in float value);
void set_all(out mat4 par, const in float value);
void main()
{
  mat4 par = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);
  mat4 ret = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 1.0) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

mat4 function(in mat4 par)
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);
  }
  else
    return mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 par, const in float value)
{
  par[0][0] = value;
  par[0][1] = value;
  par[0][2] = value;
  par[0][3] = value;
  par[1][0] = value;
  par[1][1] = value;
  par[1][2] = value;
  par[1][3] = value;
  par[2][0] = value;
  par[2][1] = value;
  par[2][2] = value;
  par[2][3] = value;
  par[3][0] = value;
  par[3][1] = value;
  par[3][2] = value;
  par[3][3] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_in_mat4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_float_vert.vert
filename /home/oof/webgl_cleaned/struct_float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:17: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d')), right=FloatLiteral(value=15.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d'))
e.right: FloatLiteral(value=15.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c'))
e.right: MemberExpr(base=Identifier(name='s'), member='d')
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b'))
e.right: MemberExpr(base=Identifier(name='s'), member='c')
e.left: MemberExpr(base=Identifier(name='s'), member='a')
e.right: MemberExpr(base=Identifier(name='s'), member='b')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
	float a;
	float b;
	float c;
	float d;
};
void main ()
{
	sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
	color = vec4(vec3((s.a + s.b + s.c + s.d) / 15.0), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  float a;
  float b;
  float c;
  float d;
};

void main()
{
  sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
  color = vec4(vec3(((((s.a + s.b) + s.c) + s.d) / 15.0)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/struct_float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec3_tp_s_1vec2_1float_vert.vert
filename /home/oof/webgl_cleaned/vec3_tp_s_1vec2_1float_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:15: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:16: 'gl_Position' : undeclared identifier
ERROR: 0:16: 'assign' : l-value required (can't modify a const)
ERROR: 0:16: '=' : dimension mismatch
ERROR: 0:16: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: Identifier(name='gtf_Color')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='a'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec4 lightloc = gtf_Vertex;
	vec3 m = lightloc.stp;
	vec2 t = m.tp;
	float k = m.s;
	vec4 a = vec4(k, t.s, t.t,  lightloc.q);
	color = gtf_Color;
	gl_Position = gtf_ModelViewProjectionMatrix * a;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec4 lightloc = gtf_Vertex;
  vec3 m = lightloc.stp;
  vec2 t = m.tp;
  float k = m.s;
  vec4 a = vec4(k, t.s, t.t, lightloc.q);
  color = gtf_Color;
  gl_Position = (gtf_ModelViewProjectionMatrix * a);
}


Filename: /home/oof/webgl_cleaned/vec3_tp_s_1vec2_1float_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/acos_vec2_frag_xvary_ref.frag
e.left: Identifier(name='a')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a')), right=Identifier(name='s'))
e.left: BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a'))
e.right: Identifier(name='s')
e.left: Identifier(name='b')
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.5708), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.06544), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.848062), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.675132), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.523599), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.384397), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.25268), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.125328), postfix=False)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))
e.right: FloatLiteral(value=0.125328)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))
e.right: FloatLiteral(value=0.25268)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))
e.right: FloatLiteral(value=0.384397)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))
e.right: FloatLiteral(value=0.523599)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))
e.right: FloatLiteral(value=0.675132)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))
e.right: FloatLiteral(value=0.848062)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))
e.right: FloatLiteral(value=1.06544)
e.left: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.right: FloatLiteral(value=1.5708)
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: BinaryExpr(op='+', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0))]))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op=',', left=FloatLiteral(value=1.0), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='arrVal')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='arrVal')])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=0)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=3)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=4)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=6)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=7)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=8)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=9)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=10)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=11)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=12)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=13)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=14)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=15)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))), right=MemberExpr(base=Identifier(name='weight'), member='x'))])
e.left: Identifier(name='arr0x')
e.right: IntLiteral(value=16)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='x')
e.right: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=0)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=0)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=1)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=1)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=2)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=2)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=3)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=3)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=4)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=4)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=5)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=5)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=6)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=6)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=7)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=7)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=8)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=8)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=9)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=9)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=10)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=10)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=11)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=11)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=12)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=12)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=13)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=13)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=14)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=14)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=15)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: CallExpr(callee=Identifier(name='lerp'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=15)), right=IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))), right=MemberExpr(base=Identifier(name='weight'), member='y'))])
e.left: Identifier(name='arr0y')
e.right: IntLiteral(value=16)
e.left: MemberExpr(base=Identifier(name='asin_c'), member='y')
e.right: IndexExpr(base=Identifier(name='asinValues'), index=IntLiteral(value=16))
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='-', left=FloatLiteral(value=0.5), right=BinaryExpr(op='/', left=Identifier(name='asin_c'), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=0.5)
e.right: BinaryExpr(op='/', left=Identifier(name='asin_c'), right=Identifier(name='M_PI'))
e.left: Identifier(name='asin_c')
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float lerp(float a, float b, float s)
{
	return a + (b - a) * s;
}
void main ()
{
	float asinValues[17];
	asinValues[0] = -1.5708;
	asinValues[1] = -1.06544;
	asinValues[2] = -0.848062;
	asinValues[3] = -0.675132;
	asinValues[4] = -0.523599;
	asinValues[5] = -0.384397;
	asinValues[6] = -0.25268;
	asinValues[7] = -0.125328;
	asinValues[8] = 0.0;
	asinValues[9] = 0.125328;
	asinValues[10] = 0.25268;
	asinValues[11] = 0.384397;
	asinValues[12] = 0.523599;
	asinValues[13] = 0.675132;
	asinValues[14] = 0.848062;
	asinValues[15] = 1.06544;
	asinValues[16] = 1.5708;
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * (color.rg - 0.5);
	vec2 arrVal = (c + vec2(1.0, 1.0)) * 8.0;
	int arr0x = int(floor(arrVal.x));
	int arr0y = int(floor(arrVal.y));
	vec2 weight = arrVal - floor(arrVal);
	vec2 asin_c = vec2(0.0);
	if (arr0x == 0)
		asin_c.x = lerp(asinValues[0], asinValues[1], weight.x);
	else if (arr0x == 1)
		asin_c.x = lerp(asinValues[1], asinValues[2], weight.x);
	else if (arr0x == 2)
		asin_c.x = lerp(asinValues[2], asinValues[3], weight.x);
	else if (arr0x == 3)
		asin_c.x = lerp(asinValues[3], asinValues[4], weight.x);
	else if (arr0x == 4)
		asin_c.x = lerp(asinValues[4], asinValues[5], weight.x);
	else if (arr0x == 5)
		asin_c.x = lerp(asinValues[5], asinValues[6], weight.x);
	else if (arr0x == 6)
		asin_c.x = lerp(asinValues[6], asinValues[7], weight.x);
	else if (arr0x == 7)
		asin_c.x = lerp(asinValues[7], asinValues[8], weight.x);
	else if (arr0x == 8)
		asin_c.x = lerp(asinValues[8], asinValues[9], weight.x);
	else if (arr0x == 9)
		asin_c.x = lerp(asinValues[9], asinValues[10], weight.x);
	else if (arr0x == 10)
		asin_c.x = lerp(asinValues[10], asinValues[11], weight.x);
	else if (arr0x == 11)
		asin_c.x = lerp(asinValues[11], asinValues[12], weight.x);
	else if (arr0x == 12)
		asin_c.x = lerp(asinValues[12], asinValues[13], weight.x);
	else if (arr0x == 13)
		asin_c.x = lerp(asinValues[13], asinValues[14], weight.x);
	else if (arr0x == 14)
		asin_c.x = lerp(asinValues[14], asinValues[15], weight.x);
	else if (arr0x == 15)
		asin_c.x = lerp(asinValues[15], asinValues[16], weight.x);
        else if (arr0x == 16)
                asin_c.x = asinValues[16];
	if (arr0y == 0)
		asin_c.y = lerp(asinValues[0], asinValues[1], weight.y);
	else if (arr0y == 1)
		asin_c.y = lerp(asinValues[1], asinValues[2], weight.y);
	else if (arr0y == 2)
		asin_c.y = lerp(asinValues[2], asinValues[3], weight.y);
	else if (arr0y == 3)
		asin_c.y = lerp(asinValues[3], asinValues[4], weight.y);
	else if (arr0y == 4)
		asin_c.y = lerp(asinValues[4], asinValues[5], weight.y);
	else if (arr0y == 5)
		asin_c.y = lerp(asinValues[5], asinValues[6], weight.y);
	else if (arr0y == 6)
		asin_c.y = lerp(asinValues[6], asinValues[7], weight.y);
	else if (arr0y == 7)
		asin_c.y = lerp(asinValues[7], asinValues[8], weight.y);
	else if (arr0y == 8)
		asin_c.y = lerp(asinValues[8], asinValues[9], weight.y);
	else if (arr0y == 9)
		asin_c.y = lerp(asinValues[9], asinValues[10], weight.y);
	else if (arr0y == 10)
		asin_c.y = lerp(asinValues[10], asinValues[11], weight.y);
	else if (arr0y == 11)
		asin_c.y = lerp(asinValues[11], asinValues[12], weight.y);
	else if (arr0y == 12)
		asin_c.y = lerp(asinValues[12], asinValues[13], weight.y);
	else if (arr0y == 13)
		asin_c.y = lerp(asinValues[13], asinValues[14], weight.y);
	else if (arr0y == 14)
		asin_c.y = lerp(asinValues[14], asinValues[15], weight.y);
	else if (arr0y == 15)
		asin_c.y = lerp(asinValues[15], asinValues[16], weight.y);
        else if (arr0y == 16)
                asin_c.y = asinValues[16];
	gl_FragColor = vec4(0.5 - asin_c / M_PI, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float lerp(float a, float b, float s)
{
  return (a + ((b - a) * s));
}

void main()
{
  float asinValues[17];
  asinValues[0] = -1.5708;
  asinValues[1] = -1.06544;
  asinValues[2] = -0.848062;
  asinValues[3] = -0.675132;
  asinValues[4] = -0.523599;
  asinValues[5] = -0.384397;
  asinValues[6] = -0.25268;
  asinValues[7] = -0.125328;
  asinValues[8] = 0.0;
  asinValues[9] = 0.125328;
  asinValues[10] = 0.25268;
  asinValues[11] = 0.384397;
  asinValues[12] = 0.523599;
  asinValues[13] = 0.675132;
  asinValues[14] = 0.848062;
  asinValues[15] = 1.06544;
  asinValues[16] = 1.5708;
  const float M_PI = 3.141592653589793;
  vec2 c = (2.0 * (color.rg - 0.5));
  vec2 arrVal = ((c + vec2(1.0, 1.0)) * 8.0);
  int arr0x = int(floor(arrVal.x));
  int arr0y = int(floor(arrVal.y));
  vec2 weight = (arrVal - floor(arrVal));
  vec2 asin_c = vec2(0.0);
  if ((arr0x == 0))
    asin_c.x = lerp(asinValues[0], asinValues[1], weight.x);
  else
    if ((arr0x == 1))
      asin_c.x = lerp(asinValues[1], asinValues[2], weight.x);
    else
      if ((arr0x == 2))
        asin_c.x = lerp(asinValues[2], asinValues[3], weight.x);
      else
        if ((arr0x == 3))
          asin_c.x = lerp(asinValues[3], asinValues[4], weight.x);
        else
          if ((arr0x == 4))
            asin_c.x = lerp(asinValues[4], asinValues[5], weight.x);
          else
            if ((arr0x == 5))
              asin_c.x = lerp(asinValues[5], asinValues[6], weight.x);
            else
              if ((arr0x == 6))
                asin_c.x = lerp(asinValues[6], asinValues[7], weight.x);
              else
                if ((arr0x == 7))
                  asin_c.x = lerp(asinValues[7], asinValues[8], weight.x);
                else
                  if ((arr0x == 8))
                    asin_c.x = lerp(asinValues[8], asinValues[9], weight.x);
                  else
                    if ((arr0x == 9))
                      asin_c.x = lerp(asinValues[9], asinValues[10], weight.x);
                    else
                      if ((arr0x == 10))
                        asin_c.x = lerp(asinValues[10], asinValues[11], weight.x);
                      else
                        if ((arr0x == 11))
                          asin_c.x = lerp(asinValues[11], asinValues[12], weight.x);
                        else
                          if ((arr0x == 12))
                            asin_c.x = lerp(asinValues[12], asinValues[13], weight.x);
                          else
                            if ((arr0x == 13))
                              asin_c.x = lerp(asinValues[13], asinValues[14], weight.x);
                            else
                              if ((arr0x == 14))
                                asin_c.x = lerp(asinValues[14], asinValues[15], weight.x);
                              else
                                if ((arr0x == 15))
                                  asin_c.x = lerp(asinValues[15], asinValues[16], weight.x);
                                else
                                  if ((arr0x == 16))
                                    asin_c.x = asinValues[16];
  if ((arr0y == 0))
    asin_c.y = lerp(asinValues[0], asinValues[1], weight.y);
  else
    if ((arr0y == 1))
      asin_c.y = lerp(asinValues[1], asinValues[2], weight.y);
    else
      if ((arr0y == 2))
        asin_c.y = lerp(asinValues[2], asinValues[3], weight.y);
      else
        if ((arr0y == 3))
          asin_c.y = lerp(asinValues[3], asinValues[4], weight.y);
        else
          if ((arr0y == 4))
            asin_c.y = lerp(asinValues[4], asinValues[5], weight.y);
          else
            if ((arr0y == 5))
              asin_c.y = lerp(asinValues[5], asinValues[6], weight.y);
            else
              if ((arr0y == 6))
                asin_c.y = lerp(asinValues[6], asinValues[7], weight.y);
              else
                if ((arr0y == 7))
                  asin_c.y = lerp(asinValues[7], asinValues[8], weight.y);
                else
                  if ((arr0y == 8))
                    asin_c.y = lerp(asinValues[8], asinValues[9], weight.y);
                  else
                    if ((arr0y == 9))
                      asin_c.y = lerp(asinValues[9], asinValues[10], weight.y);
                    else
                      if ((arr0y == 10))
                        asin_c.y = lerp(asinValues[10], asinValues[11], weight.y);
                      else
                        if ((arr0y == 11))
                          asin_c.y = lerp(asinValues[11], asinValues[12], weight.y);
                        else
                          if ((arr0y == 12))
                            asin_c.y = lerp(asinValues[12], asinValues[13], weight.y);
                          else
                            if ((arr0y == 13))
                              asin_c.y = lerp(asinValues[13], asinValues[14], weight.y);
                            else
                              if ((arr0y == 14))
                                asin_c.y = lerp(asinValues[14], asinValues[15], weight.y);
                              else
                                if ((arr0y == 15))
                                  asin_c.y = lerp(asinValues[15], asinValues[16], weight.y);
                                else
                                  if ((arr0y == 16))
                                    asin_c.y = asinValues[16];
  gl_FragColor = vec4((0.5 - (asin_c / M_PI)), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/acos_vec2_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/distance_vec2_vert_xvaryyhalf.vert
filename /home/oof/webgl_cleaned/distance_vec2_vert_xvaryyhalf.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='distance'), args=[BinaryExpr(op=',', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=CallExpr(callee=Identifier(name='vec2'), args=[FloatLiteral(value=0.5)]))])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(distance(gtf_Color.rg, vec2(0.5))), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3(distance(gtf_Color.rg, vec2(0.5))), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/distance_vec2_vert_xvaryyhalf.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/length_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/length_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:10: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:11: 'gl_Position' : undeclared identifier
ERROR: 0:11: 'assign' : l-value required (can't modify a const)
ERROR: 0:11: '=' : dimension mismatch
ERROR: 0:11: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='length'), args=[MemberExpr(base=Identifier(name='gtf_Color'), member='r')])]), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	color = vec4(vec3(length(gtf_Color.r)), 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  color = vec4(vec3(length(gtf_Color.r)), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/length_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fract_vec3_frag_xvary_ref.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))
e.left: CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])), right=FloatLiteral(value=0.5))])
e.right: FloatLiteral(value=2.0)
e.left: BinaryExpr(op='-', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')]))
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: CallExpr(callee=Identifier(name='floor'), args=[Identifier(name='c')])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = 10.0 * 2.0 * (color.rgb - 0.5);
	c = abs((c - floor(c)) - 0.5) * 2.0;
	gl_FragColor = vec4(c, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = ((10.0 * 2.0) * (color.rgb - 0.5));
  c = (abs(((c - floor(c)) - 0.5)) * 2.0);
  gl_FragColor = vec4(c, 1.0);
}


Filename: /home/oof/webgl_cleaned/fract_vec3_frag_xvary_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d')), right=FloatLiteral(value=15.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c')), right=MemberExpr(base=Identifier(name='s'), member='d'))
e.right: FloatLiteral(value=15.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b')), right=MemberExpr(base=Identifier(name='s'), member='c'))
e.right: MemberExpr(base=Identifier(name='s'), member='d')
e.left: BinaryExpr(op='+', left=MemberExpr(base=Identifier(name='s'), member='a'), right=MemberExpr(base=Identifier(name='s'), member='b'))
e.right: MemberExpr(base=Identifier(name='s'), member='c')
e.left: MemberExpr(base=Identifier(name='s'), member='a')
e.right: MemberExpr(base=Identifier(name='s'), member='b')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct sabcd
{
	float a;
	float b;
	float c;
	float d;
};
void main ()
{
	sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
	gl_FragColor = vec4(vec3((s.a + s.b + s.c + s.d) / 15.0), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct sabcd {
  float a;
  float b;
  float c;
  float d;
};

void main()
{
  sabcd s = sabcd(1.0, 2.0, 4.0, 8.0);
  gl_FragColor = vec4(vec3(((((s.a + s.b) + s.c) + s.d) / 15.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/struct_float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/noopUniformShaderES3.vert
filename /home/oof/webgl_cleaned/noopUniformShaderES3.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:6: 'gl_Position' : undeclared identifier
ERROR: 0:6: 'assign' : l-value required (can't modify a const)
ERROR: 0:6: '=' : dimension mismatch
ERROR: 0:6: 'assign' : cannot convert from 'const 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='gl_Position')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=FloatLiteral(value=0.0), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

void main()
{
    gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/noopUniformShaderES3.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/vec4_rgba_1vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: Identifier(name='m')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec4 al = color;
	vec4 m = al.rgba;
	gl_FragColor = m;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec4 al = color;
  vec4 m = al.rgba;
  gl_FragColor = m;
}


Filename: /home/oof/webgl_cleaned/vec4_rgba_1vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/assignments_vert.vert
filename /home/oof/webgl_cleaned/assignments_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:41: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:42: 'gl_Position' : undeclared identifier
ERROR: 0:42: 'assign' : l-value required (can't modify a const)
ERROR: 0:42: '=' : dimension mismatch
ERROR: 0:42: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='r')
e.right: IntLiteral(value=12)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='r')
e.right: Identifier(name='m')
e.left: Identifier(name='r')
e.right: IntLiteral(value=24)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='r')
e.right: Identifier(name='m')
e.left: Identifier(name='r')
e.right: IntLiteral(value=12)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='r')
e.right: Identifier(name='m')
e.left: Identifier(name='r')
e.right: IntLiteral(value=144)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='r')
e.right: Identifier(name='m')
e.left: BinaryExpr(op='>=', left=Identifier(name='r'), right=IntLiteral(value=11))
e.right: BinaryExpr(op='<=', left=Identifier(name='r'), right=IntLiteral(value=13))
e.left: Identifier(name='r')
e.right: IntLiteral(value=11)
e.left: Identifier(name='r')
e.right: IntLiteral(value=13)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=True))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=True)
e.left: Identifier(name='result')
e.right: BinaryExpr(op='&&', left=Identifier(name='result'), right=BoolLiteral(value=False))
e.left: Identifier(name='result')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	int m = 12;
	int n = 102;
	bool result = true;
	int r = m;
	if( r==12 )
		result = result && true;
	else
		result = result && false;
	r += m;
	if( r == 24 )
		result = result && true;
	else
		result = result && false;
	r-= m;
	if( r == 12 )
		result = result && true;
	else
		result = result && false;
	r*= m;
	if ( r == 144 )
		result = result && true;
	else
		result = result && false;
	r/= m;
	if( r >= 11 && r <= 13 )
		result = result && true;
	else
		result = result && false;
	float gray;
	if( result )
	gray=1.0;
	else gray=0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  int m = 12;
  int n = 102;
  bool result = true;
  int r = m;
  if ((r == 12))
    result = (result && true);
  else
    result = (result && false);
  (r += m);
  if ((r == 24))
    result = (result && true);
  else
    result = (result && false);
  (r -= m);
  if ((r == 12))
    result = (result && true);
  else
    result = (result && false);
  (r *= m);
  if ((r == 144))
    result = (result && true);
  else
    result = (result && false);
  (r /= m);
  if (((r >= 11) && (r <= 13)))
    result = (result && true);
  else
    result = (result && false);
  float gray;
  if (result)
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/assignments_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/int_empty_inout_int_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: BinaryExpr(op='==', left=Identifier(name='par'), right=IntLiteral(value=0))
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='par')
e.right: IntLiteral(value=0)
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='par')
e.right: IntLiteral(value=1)
e.left: Identifier(name='par')
e.right: IntLiteral(value=0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
int function(inout int par);
void main ()
{
	int par = 1;
	int ret = 0;
	float gray = 0.0;
	ret = function(par);
	if((par == 0) && (ret == 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
int function(inout int par)
{
	if(par == 1)
	{
		par = 0;
		return 1;
	}
	else
		return 0;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

int function(inout int par);
void main()
{
  int par = 1;
  int ret = 0;
  float gray = 0.0;
  ret = function(par);
  if (((par == 0) && (ret == 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

int function(inout int par)
{
  if ((par == 1))
  {
    par = 0;
    return 1;
  }
  else
    return 0;
}


Filename: /home/oof/webgl_cleaned/int_empty_inout_int_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/CorrectFuncOverload_vert.vert
filename /home/oof/webgl_cleaned/CorrectFuncOverload_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:18: 'gl_Position' : undeclared identifier
ERROR: 0:18: 'assign' : l-value required (can't modify a const)
ERROR: 0:18: '=' : dimension mismatch
ERROR: 0:18: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='gl_Position')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[CallExpr(callee=Identifier(name='process'), args=[Identifier(name='s1')])])
e.left: MemberExpr(base=Identifier(name='s1'), member='f')
e.right: CallExpr(callee=Identifier(name='process'), args=[MemberExpr(base=Identifier(name='s1'), member='s2')])
Original source code: precision mediump float;
precision mediump int;

struct S2
{
        float f;
};
struct S1
{
        float f;
        S2 s2;
};
float process(S1 s1);
float process(S2 s2);
void main()
{
        S1 s1 = S1(1.0, S2(1.0));
        gl_Position = vec4(process(s1));
}
float process(S1 s1)
{
        return s1.f + process(s1.s2);
}
float process(S2 s2)
{
        return s2.f;
}





New source code: precision mediump float;
precision mediump int;

struct S2 {
  float f;
};

struct S1 {
  float f;
  S2 s2;
};

float process(S1 s1);
float process(S2 s2);
void main()
{
  S1 s1 = S1(1.0, S2(1.0));
  gl_Position = vec4(process(s1));
}

float process(S1 s1)
{
  return (s1.f + process(s1.s2));
}

float process(S2 s2)
{
  return s2.f;
}


Filename: /home/oof/webgl_cleaned/CorrectFuncOverload_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/greaterThan_vec2_vert.vert
filename /home/oof/webgl_cleaned/greaterThan_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(greaterThan(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(greaterThan(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/greaterThan_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mix_float_frag_xvary_yconsthalf_aconsthalf_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=Identifier(name='c'), right=BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=Identifier(name='a'))), right=BinaryExpr(op='*', left=Identifier(name='y'), right=Identifier(name='a'))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=Identifier(name='a')))
e.right: BinaryExpr(op='*', left=Identifier(name='y'), right=Identifier(name='a'))
e.left: Identifier(name='c')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=1.0), right=Identifier(name='a'))
e.left: FloatLiteral(value=1.0)
e.right: Identifier(name='a')
e.left: Identifier(name='y')
e.right: Identifier(name='a')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float y = 0.5;
	const float a = 0.5;
	float c = color.r;
	gl_FragColor = vec4(c * (1.0 - a) + y * a, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float y = 0.5;
  const float a = 0.5;
  float c = color.r;
  gl_FragColor = vec4(((c * (1.0 - a)) + (y * a)), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/mix_float_frag_xvary_yconsthalf_aconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/smoothstep_float_frag_xvary_edgeconstquarter_ref.frag
e.left: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=Identifier(name='edge0'))
e.right: BinaryExpr(op='-', left=Identifier(name='edge1'), right=Identifier(name='edge0'))
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: Identifier(name='edge0')
e.left: Identifier(name='edge1')
e.right: Identifier(name='edge0')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='*', left=BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c')), right=BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=Identifier(name='c'), right=Identifier(name='c'))
e.right: BinaryExpr(op='-', left=FloatLiteral(value=3.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))
e.left: Identifier(name='c')
e.right: Identifier(name='c')
e.left: FloatLiteral(value=3.0)
e.right: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c'))
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float edge0 = 0.25;
	const float edge1 = 0.75;
	float c = clamp((color.r - edge0) / (edge1 - edge0), 0.0, 1.0);
	gl_FragColor = vec4(c * c * (3.0 - 2.0 * c), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float edge0 = 0.25;
  const float edge1 = 0.75;
  float c = clamp(((color.r - edge0) / (edge1 - edge0)), 0.0, 1.0);
  gl_FragColor = vec4(((c * c) * (3.0 - (2.0 * c))), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/smoothstep_float_frag_xvary_edgeconstquarter_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/distance_vec2_frag_xvaryyhalf_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[CallExpr(callee=Identifier(name='sqrt'), args=[BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))]), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))]))])]), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))])
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='abs'), args=[BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='g'), right=FloatLiteral(value=0.5))]), right=FloatLiteral(value=2.0))])
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='color'), member='g')
e.right: FloatLiteral(value=0.5)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	gl_FragColor = vec4(vec3(sqrt(pow(abs(color.r - 0.5), 2.0) + pow(abs(color.g - 0.5), 2.0))), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  gl_FragColor = vec4(vec3(sqrt((pow(abs((color.r - 0.5)), 2.0) + pow(abs((color.g - 0.5)), 2.0)))), 1.0);
}


Filename: /home/oof/webgl_cleaned/distance_vec2_frag_xvaryyhalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/lessThan_vec2_vert.vert
filename /home/oof/webgl_cleaned/lessThan_vec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(lessThan(c, vec2(0.0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(lessThan(c, vec2(0.0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/lessThan_vec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/fragmentOnly4_vert.vert
Original source code: precision mediump float;
precision mediump int;

void main()
{
    discard;
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  discard;
}


Filename: /home/oof/webgl_cleaned/fragmentOnly4_vert.vert passed with orig: True and new: True
Running /home/oof/webgl_cleaned/CorrectExtension10_V100_frag.frag
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main()
{
}





New source code: precision mediump float;
precision mediump int;

void main()
{
}


Filename: /home/oof/webgl_cleaned/CorrectExtension10_V100_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp2_float_frag_xvaryneg_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=FloatLiteral(value=2.0), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=FloatLiteral(value=2.0), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = color.r;
	gl_FragColor = vec4(1.0 / pow(2.0, 5.0 * c), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = color.r;
  gl_FragColor = vec4((1.0 / pow(2.0, (5.0 * c))), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/exp2_float_frag_xvaryneg_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mod_vec2_vert_xvary_yconst1.vert
filename /home/oof/webgl_cleaned/mod_vec2_vert_xvary_yconst1.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='mod'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = 10.0 * 2.0 * (gtf_Color.rg - 0.5);
	color = vec4(mod(c, 1.0), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = ((10.0 * 2.0) * (gtf_Color.rg - 0.5));
  color = vec4(mod(c, 1.0), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mod_vec2_vert_xvary_yconst1.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/void_empty_empty_void_empty_frag.frag
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
float gray = 0.0;
void function();
void main ()
{
	gray = 0.0;
	function();
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
void function()
{
	gray = 1.0;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

float gray = 0.0;

void function();
void main()
{
  gray = 0.0;
  function();
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

void function()
{
  gray = 1.0;
}


Filename: /home/oof/webgl_cleaned/void_empty_empty_void_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/webgl_variable.vert
Original source code: precision mediump float;
precision mediump int;

void main() {
  vec4 webgl_foo;
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  vec4 webgl_foo;
}


Filename: /home/oof/webgl_cleaned/webgl_variable.vert passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_vec4_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=3))), right=FloatLiteral(value=250.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=3)))
e.right: FloatLiteral(value=250.0)
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=3))
e.left: BinaryExpr(op='+', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=2))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
struct sabcd
{
	vec4 a;
	vec4 b;
};
void main ()
{
	sabcd s = sabcd(vec4(12.0, 29.0, 32.0, 47.0), vec4(13.0, 26.0, 38.0, 53.0 ) );
	gl_FragColor = vec4( vec3(  (s.a[0] + s.a[1] + s.a[2] + s.a[3] + s.b[0] + s.b[1] + s.b[2] + s.b[3]) / 250.0  ), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

struct sabcd {
  vec4 a;
  vec4 b;
};

void main()
{
  sabcd s = sabcd(vec4(12.0, 29.0, 32.0, 47.0), vec4(13.0, 26.0, 38.0, 53.0));
  gl_FragColor = vec4(vec3(((((((((s.a[0] + s.a[1]) + s.a[2]) + s.a[3]) + s.b[0]) + s.b[1]) + s.b[2]) + s.b[3]) / 250.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/struct_vec4_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/asin_vec3_frag_xvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 2.0 * (color.rgb - 0.5);
	gl_FragColor = vec4(asin(c) / M_PI + 0.5, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = (2.0 * (color.rgb - 0.5));
  gl_FragColor = vec4(((asin(c) / M_PI) + 0.5), 1.0);
}


Filename: /home/oof/webgl_cleaned/asin_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/log_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/log_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=31.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='r'))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=31.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')]), right=FloatLiteral(value=3.466)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='log'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=3.466)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 31.0 * gtf_Color.r + 1.0;
	color = vec4(log(c) / 3.466, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = ((31.0 * gtf_Color.r) + 1.0);
  color = vec4((log(c) / 3.466), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/log_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_vec3_frag.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='color'), member='rgb')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = floor(10.0 * color.rgb - 4.5);
	vec3 result = vec3(equal(c, vec3(0.0)));
	gl_FragColor = vec4(result, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = floor(((10.0 * color.rgb) - 4.5));
  vec3 result = vec3(equal(c, vec3(0.0)));
  gl_FragColor = vec4(result, 1.0);
}


Filename: /home/oof/webgl_cleaned/equal_vec3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/const_mat3_frag.frag
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=3.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=5.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=6.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: FloatLiteral(value=7.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: FloatLiteral(value=8.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: FloatLiteral(value=9.0)
e.left: Identifier(name='elms')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=12.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=12.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=18.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=18.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=18.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='rows')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=6.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=6.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=6.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=15.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=15.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2)))
e.left: BinaryExpr(op='+', left=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0)), right=IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1)))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: IndexExpr(base=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.left: BinaryExpr(op='<', left=Identifier(name='x'), right=BinaryExpr(op='-', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1)))
e.right: BinaryExpr(op='>', left=Identifier(name='x'), right=BinaryExpr(op='+', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1)))
e.left: Identifier(name='x')
e.right: BinaryExpr(op='-', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=24.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='x')
e.right: BinaryExpr(op='+', left=FloatLiteral(value=24.0), right=FloatLiteral(value=0.1))
e.left: FloatLiteral(value=24.0)
e.right: FloatLiteral(value=0.1)
e.left: Identifier(name='cols')
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='&&', left=Identifier(name='elms'), right=Identifier(name='rows'))
e.right: Identifier(name='cols')
e.left: Identifier(name='elms')
e.right: Identifier(name='rows')
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
void main ()
{
	float x;
	const mat3 a = mat3( 1.0, 2.0, 3.0,
	                     4.0, 5.0, 6.0,
	                     7.0, 8.0, 9.0);
	bool elms = true;
	if(a[0][0] != 1.0) elms = false;
	if(a[0][1] != 2.0) elms = false;
	if(a[0][2] != 3.0) elms = false;
	if(a[1][0] != 4.0) elms = false;
	if(a[1][1] != 5.0) elms = false;
	if(a[1][2] != 6.0) elms = false;
	if(a[2][0] != 7.0) elms = false;
	if(a[2][1] != 8.0) elms = false;
	if(a[2][2] != 9.0) elms = false;
	bool rows = true;
	x = a[0][0] + a[1][0] + a[2][0];
	if( x < 12.0-0.1 || x > 12.0+0.1 ) rows = false;
	x = a[0][1] + a[1][1] + a[2][1];
	if(x < 15.0-0.1 || x > 15.0+0.1 ) rows = false;
	x = a[0][2] + a[1][2] + a[2][2];
	if(x < 18.0-0.1 || x > 18.0+0.1 ) rows = false;
	bool cols = true;
	x = a[0][0] + a[0][1] + a[0][2];
	if( x < 6.0-0.1 || x > 6.0+0.1 ) cols = false;
	x = a[1][0] + a[1][1] + a[1][2];
	if(x < 15.0-0.1 || x > 15.0+0.1) cols = false;
	x = a[2][0] + a[2][1] + a[2][2];
	if(x < 24.0-0.1 || x > 24.0+0.1) cols = false;
	float gray = elms && rows && cols ? 1.0 : 0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

void main()
{
  float x;
  const mat3 a = mat3(1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0);
  bool elms = true;
  if ((a[0][0] != 1.0))
    elms = false;
  if ((a[0][1] != 2.0))
    elms = false;
  if ((a[0][2] != 3.0))
    elms = false;
  if ((a[1][0] != 4.0))
    elms = false;
  if ((a[1][1] != 5.0))
    elms = false;
  if ((a[1][2] != 6.0))
    elms = false;
  if ((a[2][0] != 7.0))
    elms = false;
  if ((a[2][1] != 8.0))
    elms = false;
  if ((a[2][2] != 9.0))
    elms = false;
  bool rows = true;
  x = ((a[0][0] + a[1][0]) + a[2][0]);
  if (((x < (12.0 - 0.1)) || (x > (12.0 + 0.1))))
    rows = false;
  x = ((a[0][1] + a[1][1]) + a[2][1]);
  if (((x < (15.0 - 0.1)) || (x > (15.0 + 0.1))))
    rows = false;
  x = ((a[0][2] + a[1][2]) + a[2][2]);
  if (((x < (18.0 - 0.1)) || (x > (18.0 + 0.1))))
    rows = false;
  bool cols = true;
  x = ((a[0][0] + a[0][1]) + a[0][2]);
  if (((x < (6.0 - 0.1)) || (x > (6.0 + 0.1))))
    cols = false;
  x = ((a[1][0] + a[1][1]) + a[1][2]);
  if (((x < (15.0 - 0.1)) || (x > (15.0 + 0.1))))
    cols = false;
  x = ((a[2][0] + a[2][1]) + a[2][2]);
  if (((x < (24.0 - 0.1)) || (x > (24.0 + 0.1))))
    cols = false;
  float gray = (((elms && rows) && cols) ? 1.0 : 0.0);
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/const_mat3_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/struct_bvec2bvec3bvec4_vert.vert
filename /home/oof/webgl_cleaned/struct_bvec2bvec3bvec4_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:21: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:22: 'gl_Position' : undeclared identifier
ERROR: 0:22: 'assign' : l-value required (can't modify a const)
ERROR: 0:22: '=' : dimension mismatch
ERROR: 0:22: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='c'), index=IntLiteral(value=0))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))), right=IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=2))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0)))
e.right: IndexExpr(base=MemberExpr(base=UnaryExpr(op='!', operand=Identifier(name='s'), postfix=False), member='b'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='&&', left=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0)), right=IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1)))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=MemberExpr(base=Identifier(name='s'), member='a'), index=IntLiteral(value=1))
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
struct sabcd
{
	bvec2 a;
	bvec3 b;
	bvec4 c;
};
void main ()
{
	sabcd s = sabcd( bvec2(12, 13), bvec3(14.0, 0.0, 139.0), bvec4(25.5, 17.0, 145, 163 ) );
	float gray = 0.0;
	if( (s.a[0]) && (s.a[1]) && (s.b[0]) && (!s.b[1]) && (s.b[2]) && (s.c[0]) && (s.c[1]) && (s.c[2]) )
	  gray=1.0;
	else
          gray =0.0;
	color = vec4(gray, gray, gray, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

struct sabcd {
  bvec2 a;
  bvec3 b;
  bvec4 c;
};

void main()
{
  sabcd s = sabcd(bvec2(12, 13), bvec3(14.0, 0.0, 139.0), bvec4(25.5, 17.0, 145, 163));
  float gray = 0.0;
  if ((((((((s.a[0] && s.a[1]) && s.b[0]) && !s.b[1]) && s.b[2]) && s.c[0]) && s.c[1]) && s.c[2]))
    gray = 1.0;
  else
    gray = 0.0;
  color = vec4(gray, gray, gray, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/struct_bvec2bvec3bvec4_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/exp_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:13: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:14: 'gl_Position' : undeclared identifier
ERROR: 0:14: 'assign' : l-value required (can't modify a const)
ERROR: 0:14: '=' : dimension mismatch
ERROR: 0:14: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))]), right=Identifier(name='exp3')), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec2'), args=[Identifier(name='exp1')]), right=BinaryExpr(op='*', left=FloatLiteral(value=3.0), right=Identifier(name='c')))])
e.right: Identifier(name='exp3')
e.left: FloatLiteral(value=3.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float exp1 = 2.7183;
	const float exp3 = 20.0855;
	vec2 c = gtf_Color.rg;
	color = vec4(pow(vec2(exp1), 3.0 * c) / exp3, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float exp1 = 2.7183;
  const float exp3 = 20.0855;
  vec2 c = gtf_Color.rg;
  color = vec4((pow(vec2(exp1), (3.0 * c)) / exp3), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/sin_vec2_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/sin_vec2_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:47: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:48: 'gl_Position' : undeclared identifier
ERROR: 0:48: 'assign' : l-value required (can't modify a const)
ERROR: 0:48: '=' : dimension mismatch
ERROR: 0:48: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='a')
e.right: BinaryExpr(op='*', left=BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a')), right=Identifier(name='s'))
e.left: BinaryExpr(op='-', left=Identifier(name='b'), right=Identifier(name='a'))
e.right: Identifier(name='s')
e.left: Identifier(name='b')
e.right: Identifier(name='a')
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.382683)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.707107)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=3))
e.right: FloatLiteral(value=0.92388)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=4))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=5))
e.right: FloatLiteral(value=0.92388)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=6))
e.right: FloatLiteral(value=0.707107)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=7))
e.right: FloatLiteral(value=0.382683)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=8))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=9))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.382683), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=10))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.707107), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=11))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.92388), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=12))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=13))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.923879), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=14))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.707107), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=15))
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=0.382683), postfix=False)
e.left: IndexExpr(base=Identifier(name='sinValues'), index=IntLiteral(value=16))
e.right: FloatLiteral(value=0.0)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='M_PI'))
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='i')
e.right: IntLiteral(value=12)
e.left: Identifier(name='fact')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='j')
e.right: IntLiteral(value=23)
e.left: Identifier(name='j')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=IntLiteral(value=2), right=Identifier(name='i')), right=IntLiteral(value=1))
e.left: BinaryExpr(op='*', left=IntLiteral(value=2), right=Identifier(name='i'))
e.right: IntLiteral(value=1)
e.left: IntLiteral(value=2)
e.right: Identifier(name='i')
e.left: Identifier(name='fact')
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='j')])
e.left: Identifier(name='sin_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])), right=FloatLiteral(value=1.0))]))])), right=Identifier(name='fact'))
e.left: BinaryExpr(op='*', left=Identifier(name='sign'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])), right=FloatLiteral(value=1.0))]))]))
e.right: Identifier(name='fact')
e.left: Identifier(name='sign')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='vec2'), args=[BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])), right=FloatLiteral(value=1.0))]))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.right: FloatLiteral(value=1.0)
e.left: FloatLiteral(value=2.0)
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='sin_c')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='sin_c'))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='sin_c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
float lerp(float a, float b, float s)
{
	return a + (b - a) * s;
}
void main ()
{
	float sinValues[17];
	sinValues[0] = 0.0;
	sinValues[1] = 0.382683;
	sinValues[2] = 0.707107;
	sinValues[3] = 0.92388;
	sinValues[4] = 1.0;
	sinValues[5] = 0.92388;
	sinValues[6] = 0.707107;
	sinValues[7] = 0.382683;
	sinValues[8] = 0.0;
	sinValues[9] = -0.382683;
	sinValues[10] = -0.707107;
	sinValues[11] = -0.92388;
	sinValues[12] = -1.0;
	sinValues[13] = -0.923879;
	sinValues[14] = -0.707107;
	sinValues[15] = -0.382683;
	sinValues[16] = 0.0;
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * M_PI * gtf_Color.rg;
	float sign = 1.0;
	vec2 sin_c = vec2(0.0);
	float fact;
	float fact_of;
	for(int i = 0; i < 12; i++)
	{
		fact = 1.0;
		for(int j = 2; j <= 23; j++)
			if (j <= 2 * i + 1)
				fact *= float(j);
		sin_c += sign * pow(c, vec2(2.0 * float(i) + 1.0)) / fact;
		sign *= -1.0;
	}
	color = vec4(0.5 * sin_c + 0.5, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

float lerp(float a, float b, float s)
{
  return (a + ((b - a) * s));
}

void main()
{
  float sinValues[17];
  sinValues[0] = 0.0;
  sinValues[1] = 0.382683;
  sinValues[2] = 0.707107;
  sinValues[3] = 0.92388;
  sinValues[4] = 1.0;
  sinValues[5] = 0.92388;
  sinValues[6] = 0.707107;
  sinValues[7] = 0.382683;
  sinValues[8] = 0.0;
  sinValues[9] = -0.382683;
  sinValues[10] = -0.707107;
  sinValues[11] = -0.92388;
  sinValues[12] = -1.0;
  sinValues[13] = -0.923879;
  sinValues[14] = -0.707107;
  sinValues[15] = -0.382683;
  sinValues[16] = 0.0;
  const float M_PI = 3.141592653589793;
  vec2 c = ((2.0 * M_PI) * gtf_Color.rg);
  float sign = 1.0;
  vec2 sin_c = vec2(0.0);
  float fact;
  float fact_of;
  for (int i = 0; (i < 12); i++)
  {
    fact = 1.0;
    for (int j = 2; (j <= 23); j++)
    if ((j <= ((2 * i) + 1)))
      (fact *= float(j));
    (sin_c += ((sign * pow(c, vec2(((2.0 * float(i)) + 1.0)))) / fact));
    (sign *= -1.0);
  }
  color = vec4(((0.5 * sin_c) + 0.5), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/sin_vec2_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/int_empty_empty_int_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=1))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
int function(int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main ()
{
	int par[3];
	int ret = 0;
	float gray = 0.0;
	set_all(par, 1);
	ret = function(par);
	if(is_all(par, 1) && (ret == 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
int function(int par[3])
{
	if(is_all(par, 1))
	{
		set_all(par, 0);
		return 1;
	}
	else
		return 0;
}
bool is_all(const in int array[3], const in int value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out int array[3], const in int value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

int function(int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main()
{
  int par[3];
  int ret = 0;
  float gray = 0.0;
  set_all(par, 1);
  ret = function(par);
  if ((is_all(par, 1) && (ret == 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

int function(int par[3])
{
  if (is_all(par, 1))
  {
    set_all(par, 0);
    return 1;
  }
  else
    return 0;
}

bool is_all(const in int array[3], const in int value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out int array[3], const in int value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/int_empty_empty_int_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/step_vec3_frag_xvary_edgeconsthalf_ref.frag
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=0.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='edge'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=1.0)
e.left: IndexExpr(base=Identifier(name='c'), index=IntLiteral(value=2))
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const vec3 edge = vec3(0.5, 0.5, 0.5);
	vec3 c = color.rgb;
	if(c[0] >= edge[0])
	{
		c[0] = 1.0;
	}
	else
	{
		c[0] = 0.0;
	}
	if(c[1] >= edge[1])
	{
		c[1] = 1.0;
	}
	else
	{
		c[1] = 0.0;
	}
	if(c[2] >= edge[2])
	{
		c[2] = 1.0;
	}
	else
	{
		c[2] = 0.0;
	}
	gl_FragColor = vec4(c, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const vec3 edge = vec3(0.5, 0.5, 0.5);
  vec3 c = color.rgb;
  if ((c[0] >= edge[0]))
  {
    c[0] = 1.0;
  }
  else
  {
    c[0] = 0.0;
  }
  if ((c[1] >= edge[1]))
  {
    c[1] = 1.0;
  }
  else
  {
    c[1] = 0.0;
  }
  if ((c[2] >= edge[2]))
  {
    c[2] = 1.0;
  }
  else
  {
    c[2] = 0.0;
  }
  gl_FragColor = vec4(c, 1.0);
}


Filename: /home/oof/webgl_cleaned/step_vec3_frag_xvary_edgeconsthalf_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/smoothstep_vec2_vert_xvary_edgeconstquarter.vert
filename /home/oof/webgl_cleaned/smoothstep_vec2_vert_xvary_edgeconstquarter.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='smoothstep'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='edge0'), right=Identifier(name='edge1')), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const vec2 edge0 = vec2(0.25, 0.25);
	const vec2 edge1 = vec2(0.75, 0.75);
	color = vec4(smoothstep(edge0, edge1, gtf_Color.rg), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const vec2 edge0 = vec2(0.25, 0.25);
  const vec2 edge1 = vec2(0.75, 0.75);
  color = vec4(smoothstep(edge0, edge1, gtf_Color.rg), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/smoothstep_vec2_vert_xvary_edgeconstquarter.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/asin_vec2_frag_xvary.frag
e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rg'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='color'), member='rg')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')]), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='asin'), args=[Identifier(name='c')])
e.right: Identifier(name='M_PI')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec2 c = 2.0 * (color.rg - 0.5);
	gl_FragColor = vec4(asin(c) / M_PI + 0.5, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec2 c = (2.0 * (color.rg - 0.5));
  gl_FragColor = vec4(((asin(c) / M_PI) + 0.5), 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/asin_vec2_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/tan_vec3_frag_xvary.frag
e.left: BinaryExpr(op='*', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='M_PI')), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=Identifier(name='M_PI'))
e.right: FloatLiteral(value=2.0)
e.left: FloatLiteral(value=0.5)
e.right: Identifier(name='M_PI')
e.left: MemberExpr(base=Identifier(name='color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='c'), member='r')])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='o'), member='r')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])
e.left: MemberExpr(base=Identifier(name='o'), member='r')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='r')])
e.left: CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='c'), member='g')])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='o'), member='g')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])
e.left: MemberExpr(base=Identifier(name='o'), member='g')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='g')])
e.left: CallExpr(callee=Identifier(name='abs'), args=[MemberExpr(base=Identifier(name='c'), member='b')])
e.right: FloatLiteral(value=0.5)
e.left: MemberExpr(base=Identifier(name='o'), member='b')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='*', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])
e.left: MemberExpr(base=Identifier(name='o'), member='b')
e.right: BinaryExpr(op='+', left=BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])), right=FloatLiteral(value=0.5))
e.left: BinaryExpr(op='/', left=FloatLiteral(value=0.5), right=CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')]))
e.right: FloatLiteral(value=0.5)
e.left: FloatLiteral(value=0.5)
e.right: CallExpr(callee=Identifier(name='tan'), args=[MemberExpr(base=Identifier(name='c'), member='b')])
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='o'), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 0.5 * M_PI * 2.0 * (color.rgb - 0.5);
	vec3 o;
	if(abs(c.r) < 0.5)
		o.r = 0.5 * tan(c.r) + 0.5;
	else
		o.r = 0.5 / tan(c.r) + 0.5;
	if(abs(c.g) < 0.5)
		o.g = 0.5 * tan(c.g) + 0.5;
	else
		o.g = 0.5 / tan(c.g) + 0.5;
	if(abs(c.b) < 0.5)
		o.b = 0.5 * tan(c.b) + 0.5;
	else
		o.b = 0.5 / tan(c.b) + 0.5;
	gl_FragColor = vec4(o, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = (((0.5 * M_PI) * 2.0) * (color.rgb - 0.5));
  vec3 o;
  if ((abs(c.r) < 0.5))
    o.r = ((0.5 * tan(c.r)) + 0.5);
  else
    o.r = ((0.5 / tan(c.r)) + 0.5);
  if ((abs(c.g) < 0.5))
    o.g = ((0.5 * tan(c.g)) + 0.5);
  else
    o.g = ((0.5 / tan(c.g)) + 0.5);
  if ((abs(c.b) < 0.5))
    o.b = ((0.5 * tan(c.b)) + 0.5);
  else
    o.b = ((0.5 / tan(c.b)) + 0.5);
  gl_FragColor = vec4(o, 1.0);
}


Filename: /home/oof/webgl_cleaned/tan_vec3_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/varying1_frag.frag
filename /home/oof/webgl_cleaned/varying1_frag.frag errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:8: 'assign' : l-value required (can't modify a varying "foo")

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='foo')
e.right: FloatLiteral(value=5.0)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying float foo;
void main()
{
    foo = 5.0;
}





New source code: precision mediump float;
precision mediump int;

varying float foo;

void main()
{
  foo = 5.0;
}


Filename: /home/oof/webgl_cleaned/varying1_frag.frag passed with orig: False and new: False
Running /home/oof/webgl_cleaned/structnest_float_frag.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[BinaryExpr(op='/', left=BinaryExpr(op='+', left=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), right=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b')), right=FloatLiteral(value=3.0))]), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a'), right=MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b'))
e.right: FloatLiteral(value=3.0)
e.left: MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='a')
e.right: MemberExpr(base=MemberExpr(base=MemberExpr(base=Identifier(name='s'), member='nest_a'), member='nest_b'), member='b')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
struct nestb
{
	float b;
};
struct nesta
{
	float a;
	nestb nest_b;
};
struct nest
{
	nesta nest_a;
};
void main ()
{
	nest s = nest(nesta(1.0, nestb(2.0)));
	gl_FragColor = vec4(vec3((s.nest_a.a + s.nest_a.nest_b.b) / 3.0), 1.0);
}





New source code: precision mediump float;
precision mediump int;

struct nestb {
  float b;
};

struct nesta {
  float a;
  nestb nest_b;
};

struct nest {
  nesta nest_a;
};

void main()
{
  nest s = nest(nesta(1.0, nestb(2.0)));
  gl_FragColor = vec4(vec3(((s.nest_a.a + s.nest_a.nest_b.b) / 3.0)), 1.0);
}


Filename: /home/oof/webgl_cleaned/structnest_float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp2_float_frag_xvary.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))]), right=FloatLiteral(value=32.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))])
e.right: FloatLiteral(value=32.0)
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = color.r;
	gl_FragColor = vec4(exp2(5.0 * c) / 32.0, 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = color.r;
  gl_FragColor = vec4((exp2((5.0 * c)) / 32.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/exp2_float_frag_xvary.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/int_empty_out_int_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=IntLiteral(value=0))])
e.right: BinaryExpr(op='==', left=Identifier(name='ret'), right=IntLiteral(value=1))
e.left: Identifier(name='ret')
e.right: IntLiteral(value=1)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
int function(out int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main ()
{
	int par[3];
	int ret = 0;
	float gray = 0.0;
	set_all(par, 1);
	ret = function(par);
	if(is_all(par, 0) && (ret == 1))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
int function(out int par[3])
{
	set_all(par, 0);
	return 1;
}
bool is_all(const in int array[3], const in int value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	if(array[2] != value)
		ret = false;
	return ret;
}
void set_all(out int array[3], const in int value)
{
	array[0] = value;
	array[1] = value;
	array[2] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

int function(out int par[3]);
bool is_all(const in int array[3], const in int value);
void set_all(out int array[3], const in int value);
void main()
{
  int par[3];
  int ret = 0;
  float gray = 0.0;
  set_all(par, 1);
  ret = function(par);
  if ((is_all(par, 0) && (ret == 1)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

int function(out int par[3])
{
  set_all(par, 0);
  return 1;
}

bool is_all(const in int array[3], const in int value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  if ((array[2] != value))
    ret = false;
  return ret;
}

void set_all(out int array[3], const in int value)
{
  array[0] = value;
  array[1] = value;
  array[2] = value;
}


Filename: /home/oof/webgl_cleaned/int_empty_out_int_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bool_empty_in_bool_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: Identifier(name='par')
e.right: Identifier(name='ret')
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='par')
e.right: BoolLiteral(value=False)
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
bool function(in bool par);
void main ()
{
	bool par = true;
	bool ret = false;
	float gray = 0.0;
	ret = function(par);
	if(par && ret)
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
bool function(in bool par)
{
	if(par)
	{
		par = false;
		return true;
	}
	else
		return false;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

bool function(in bool par);
void main()
{
  bool par = true;
  bool ret = false;
  float gray = 0.0;
  ret = function(par);
  if ((par && ret))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

bool function(in bool par)
{
  if (par)
  {
    par = false;
    return true;
  }
  else
    return false;
}


Filename: /home/oof/webgl_cleaned/bool_empty_in_bool_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/pow_float_vert_xconst2_yvary.vert
filename /home/oof/webgl_cleaned/pow_float_vert_xconst2_yvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=FloatLiteral(value=2.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=FloatLiteral(value=2.0), right=BinaryExpr(op='*', left=FloatLiteral(value=2.0), right=Identifier(name='c')))])
e.right: FloatLiteral(value=4.0)
e.left: FloatLiteral(value=2.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 2.0 * (gtf_Color.r - 0.5);
	color = vec4(pow(2.0, 2.0 * c) / 4.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = (2.0 * (gtf_Color.r - 0.5));
  color = vec4((pow(2.0, (2.0 * c)) / 4.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_float_vert_xconst2_yvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat4_empty_out_mat4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=Identifier(name='mat_zeros'))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0);
const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
mat4 function(out mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main ()
{
	mat4 par[2];
	mat4 ret = mat_zeros;
	float gray = 0.0;
	set_all(par, mat_ones);
	ret = function(par);
	if(is_all(par, mat_zeros) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
mat4 function(out mat4 par[2])
{
	set_all(par, mat_zeros);
	return mat_ones;
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
bool is_all(const in mat4 array[2], const in mat4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 array[2], const in mat4 value)
{
	array[0] = value;
	array[1] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);

const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);

mat4 function(out mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main()
{
  mat4 par[2];
  mat4 ret = mat_zeros;
  float gray = 0.0;
  set_all(par, mat_ones);
  ret = function(par);
  if ((is_all(par, mat_zeros) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

mat4 function(out mat4 par[2])
{
  set_all(par, mat_zeros);
  return mat_ones;
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

bool is_all(const in mat4 array[2], const in mat4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 array[2], const in mat4 value)
{
  array[0] = value;
  array[1] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_out_mat4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/mod_float_frag_xvary_yconst1.frag
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='mod'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	float c = 10.0 * 2.0 * (color.r - 0.5);
	gl_FragColor = vec4(mod(c, 1.0), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  float c = ((10.0 * 2.0) * (color.r - 0.5));
  gl_FragColor = vec4(mod(c, 1.0), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/mod_float_frag_xvary_yconst1.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/vec4_empty_empty_vec4_empty_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=FloatLiteral(value=1.0))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
vec4 function(vec4 par);
bool is_all(const in vec4 par, const in float value);
void set_all(out vec4 par, const in float value);
void main ()
{
	vec4 par = vec4(1.0, 1.0, 1.0, 1.0);
	vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
	float gray = 0.0;
	ret = function(par);
	if(is_all(par, 1.0) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
vec4 function(vec4 par)
{
	if(is_all(par, 1.0))
	{
		set_all(par, 0.0);
		return vec4(1.0, 1.0, 1.0, 1.0);
	}
	else
		return vec4(0.0, 0.0, 0.0, 0.0);
}
bool is_all(const in vec4 par, const in float value)
{
	bool ret = true;
	if(par[0] != value)
		ret = false;
	if(par[1] != value)
		ret = false;
	if(par[2] != value)
		ret = false;
	if(par[3] != value)
		ret = false;
	return ret;
}
void set_all(out vec4 par, const in float value)
{
	par[0] = value;
	par[1] = value;
	par[2] = value;
	par[3] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

vec4 function(vec4 par);
bool is_all(const in vec4 par, const in float value);
void set_all(out vec4 par, const in float value);
void main()
{
  vec4 par = vec4(1.0, 1.0, 1.0, 1.0);
  vec4 ret = vec4(0.0, 0.0, 0.0, 0.0);
  float gray = 0.0;
  ret = function(par);
  if ((is_all(par, 1.0) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

vec4 function(vec4 par)
{
  if (is_all(par, 1.0))
  {
    set_all(par, 0.0);
    return vec4(1.0, 1.0, 1.0, 1.0);
  }
  else
    return vec4(0.0, 0.0, 0.0, 0.0);
}

bool is_all(const in vec4 par, const in float value)
{
  bool ret = true;
  if ((par[0] != value))
    ret = false;
  if ((par[1] != value))
    ret = false;
  if ((par[2] != value))
    ret = false;
  if ((par[3] != value))
    ret = false;
  return ret;
}

void set_all(out vec4 par, const in float value)
{
  par[0] = value;
  par[1] = value;
  par[2] = value;
  par[3] = value;
}


Filename: /home/oof/webgl_cleaned/vec4_empty_empty_vec4_empty_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/webgl_field.vert
Original source code: precision mediump float;
precision mediump int;

struct Foo {
  int webgl_bar;
};
void main() {
  Foo foo = Foo(1);
}





New source code: precision mediump float;
precision mediump int;

struct Foo {
  int webgl_bar;
};

void main()
{
  Foo foo = Foo(1);
}


Filename: /home/oof/webgl_cleaned/webgl_field.vert passed with orig: True and new: True
Running /home/oof/webgl_cleaned/bvec4_2int_2float_frag.frag
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=BoolLiteral(value=False)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=BoolLiteral(value=True))), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=BoolLiteral(value=False)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3)), right=BoolLiteral(value=True))
e.left: BinaryExpr(op='&&', left=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=BoolLiteral(value=False)), right=BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=BoolLiteral(value=True)))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2)), right=BoolLiteral(value=False))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0)), right=BoolLiteral(value=False))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1)), right=BoolLiteral(value=True))
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=3))
e.right: BoolLiteral(value=True)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	bvec4 a = bvec4(0, 23, 0.0, 23.0);
	float gray;
	if( (a[0] == false) && (a[1] == true) && (a[2] == false) && (a[3] == true) )
	gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  bvec4 a = bvec4(0, 23, 0.0, 23.0);
  float gray;
  if (((((a[0] == false) && (a[1] == true)) && (a[2] == false)) && (a[3] == true)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/bvec4_2int_2float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/exp2_vec2_vert_xvaryneg.vert
filename /home/oof/webgl_cleaned/exp2_vec2_vert_xvaryneg.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='exp2'), args=[BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = -gtf_Color.rg;
	color = vec4(exp2(5.0 * c), 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = -gtf_Color.rg;
  color = vec4(exp2((5.0 * c)), 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/exp2_vec2_vert_xvaryneg.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/equal_vec3_vert_ref.vert
filename /home/oof/webgl_cleaned/equal_vec3_vert_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:23: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:24: 'gl_Position' : undeclared identifier
ERROR: 0:24: 'assign' : l-value required (can't modify a const)
ERROR: 0:24: '=' : dimension mismatch
ERROR: 0:24: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=0))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=1))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=1))
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='a'), index=IntLiteral(value=2))
e.right: IndexExpr(base=Identifier(name='b'), index=IntLiteral(value=2))
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=True)
e.left: IndexExpr(base=Identifier(name='result'), index=IntLiteral(value=2))
e.right: BoolLiteral(value=False)
e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
bvec3 eq(in vec3 a, in vec3 b)
{
	bvec3 result;
	if(a[0] == b[0]) result[0] = true;
	else result[0] = false;
	if(a[1] == b[1]) result[1] = true;
	else result[1] = false;
	if(a[2] == b[2]) result[2] = true;
	else result[2] = false;
	return result;
}
void main ()
{
	vec3 c = floor(10.0 * gtf_Color.rgb - 4.5);
	vec3 result = vec3(eq(c, vec3(0.0)));
	color = vec4(result, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

bvec3 eq(in vec3 a, in vec3 b)
{
  bvec3 result;
  if ((a[0] == b[0]))
    result[0] = true;
  else
    result[0] = false;
  if ((a[1] == b[1]))
    result[1] = true;
  else
    result[1] = false;
  if ((a[2] == b[2]))
    result[2] = true;
  else
    result[2] = false;
  return result;
}

void main()
{
  vec3 c = floor(((10.0 * gtf_Color.rgb) - 4.5));
  vec3 result = vec3(eq(c, vec3(0.0)));
  color = vec4(result, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/equal_vec3_vert_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/max_float_frag_xvary_yconsthalf.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='max'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=Identifier(name='max_c'))]), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	const float max_c = 0.5;
	float c = color.r;
	gl_FragColor = vec4(max(c, max_c), 0.0, 0.0, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  const float max_c = 0.5;
  float c = color.r;
  gl_FragColor = vec4(max(c, max_c), 0.0, 0.0, 1.0);
}


Filename: /home/oof/webgl_cleaned/max_float_frag_xvary_yconsthalf.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/fwidth_frag_ref_dy.vert
filename /home/oof/webgl_cleaned/fwidth_frag_ref_dy.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:9: 'assign' : l-value required (can't modify a varying "vertXY")
ERROR: 0:10: 'gl_Position' : undeclared identifier
ERROR: 0:10: 'assign' : l-value required (can't modify a const)
ERROR: 0:10: '=' : dimension mismatch
ERROR: 0:10: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: Identifier(name='vertXY')
e.right: MemberExpr(base=Identifier(name='gtf_Vertex'), member='xy')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec2 vertXY;
void main ()
{
	vertXY = gtf_Vertex.xy;
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec2 vertXY;

void main()
{
  vertXY = gtf_Vertex.xy;
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/fwidth_frag_ref_dy.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/pow_float_vert_xvary_yconst2.vert
filename /home/oof/webgl_cleaned/pow_float_vert_xvary_yconst2.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=4.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=2.0))]), right=FloatLiteral(value=4.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=2.0))])
e.right: FloatLiteral(value=4.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 4.0 * (gtf_Color.r);
	color = vec4(pow(c, 2.0) / 4.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = (4.0 * gtf_Color.r);
  color = vec4((pow(c, 2.0) / 4.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/pow_float_vert_xvary_yconst2.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mod_vec3_vert_xvary_yconst1_ref.vert
filename /home/oof/webgl_cleaned/mod_vec3_vert_xvary_yconst1_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: BinaryExpr(op='-', left=Identifier(name='c'), right=BinaryExpr(op='*', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='floor'), args=[BinaryExpr(op='/', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])))
e.left: Identifier(name='c')
e.right: BinaryExpr(op='*', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='floor'), args=[BinaryExpr(op='/', left=Identifier(name='c'), right=FloatLiteral(value=1.0))]))
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='floor'), args=[BinaryExpr(op='/', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='c')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec3 c = 10.0 * 2.0 * (gtf_Color.rgb - 0.5);
	c = c - 1.0 * floor(c / 1.0);
	color = vec4(c, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec3 c = ((10.0 * 2.0) * (gtf_Color.rgb - 0.5));
  c = (c - (1.0 * floor((c / 1.0))));
  color = vec4(c, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/mod_vec3_vert_xvary_yconst1_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/empty_uniform_array_float_frag.frag
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=0))
e.right: IndexExpr(base=Identifier(name='new_mad2'), index=IntLiteral(value=0))
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=1))
e.right: IndexExpr(base=Identifier(name='new_mad2'), index=IntLiteral(value=1))
e.left: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=0)), right=FloatLiteral(value=45.0))
e.right: BinaryExpr(op='==', left=IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=1)), right=FloatLiteral(value=14.0))
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=0))
e.right: FloatLiteral(value=45.0)
e.left: IndexExpr(base=Identifier(name='new_mad'), index=IntLiteral(value=1))
e.right: FloatLiteral(value=14.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
uniform float new_mad2[2];
void main ()
{
	int i=0;
	float new_mad[2];
	float gray = 0.0;
	new_mad[0]=new_mad2[0];
	new_mad[1]=new_mad2[1];
	if( (new_mad[0] == 45.0) && (new_mad[1] == 14.0) )
	  gray=1.0;
	else gray=0.0;
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

uniform float new_mad2[2];

void main()
{
  int i = 0;
  float new_mad[2];
  float gray = 0.0;
  new_mad[0] = new_mad2[0];
  new_mad[1] = new_mad2[1];
  if (((new_mad[0] == 45.0) && (new_mad[1] == 14.0)))
    gray = 1.0;
  else
    gray = 0.0;
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}


Filename: /home/oof/webgl_cleaned/empty_uniform_array_float_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/acos_float_vert_xvary_ref.vert
filename /home/oof/webgl_cleaned/acos_float_vert_xvary_ref.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:26: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:27: 'gl_Position' : undeclared identifier
ERROR: 0:27: 'assign' : l-value required (can't modify a const)
ERROR: 0:27: '=' : dimension mismatch
ERROR: 0:27: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: FloatLiteral(value=2.0)
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='c')
e.right: FloatLiteral(value=0.0)
e.left: Identifier(name='sign')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='c')
e.right: UnaryExpr(op='-', operand=FloatLiteral(value=1.0), postfix=False)
e.left: Identifier(name='i')
e.right: IntLiteral(value=1000)
e.left: Identifier(name='i')
e.right: IntLiteral(value=2)
e.left: Identifier(name='acos_c')
e.right: BinaryExpr(op='/', left=BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))
e.left: BinaryExpr(op='*', left=Identifier(name='scale'), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))]))
e.right: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.left: Identifier(name='scale')
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=Identifier(name='c'), right=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]))])
e.left: Identifier(name='scale')
e.right: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')]), right=CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))]))
e.left: CallExpr(callee=Identifier(name='float'), args=[Identifier(name='i')])
e.right: CallExpr(callee=Identifier(name='float'), args=[BinaryExpr(op='+', left=Identifier(name='i'), right=IntLiteral(value=1))])
e.left: Identifier(name='i')
e.right: IntLiteral(value=1)
e.left: Identifier(name='acos_c')
e.right: BinaryExpr(op='-', left=BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0)), right=BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='acos_c')))
e.left: BinaryExpr(op='/', left=Identifier(name='M_PI'), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='*', left=Identifier(name='sign'), right=Identifier(name='acos_c'))
e.left: Identifier(name='M_PI')
e.right: FloatLiteral(value=2.0)
e.left: Identifier(name='sign')
e.right: Identifier(name='acos_c')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=Identifier(name='acos_c'), right=Identifier(name='M_PI')), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='acos_c')
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Vertex;
attribute vec4 gtf_Color;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	float c = 2.0 * (gtf_Color.r - 0.5);
	float acos_c = 0.0;
	float scale = 1.0;
	float sign = 1.0;
	if(c < 0.0)
	{
		sign = -1.0;
		c *= -1.0;
	}
	for(int i = 1; i < 1000; i += 2)
	{
		acos_c += scale * pow(c, float(i)) / float(i);
		scale *= float(i) / float(i + 1);
	}
	acos_c = M_PI / 2.0 - sign * acos_c;
	color = vec4(acos_c / M_PI, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Vertex;

vec4 gtf_Color;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  float c = (2.0 * (gtf_Color.r - 0.5));
  float acos_c = 0.0;
  float scale = 1.0;
  float sign = 1.0;
  if ((c < 0.0))
  {
    sign = -1.0;
    (c *= -1.0);
  }
  for (int i = 1; (i < 1000); (i += 2))
  {
    (acos_c += ((scale * pow(c, float(i))) / float(i)));
    (scale *= (float(i) / float((i + 1))));
  }
  acos_c = ((M_PI / 2.0) - (sign * acos_c));
  color = vec4((acos_c / M_PI), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/acos_float_vert_xvary_ref.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/radians_vec3_vert_xvary.vert
filename /home/oof/webgl_cleaned/radians_vec3_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=360.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='rgb'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=360.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='rgb')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='+', left=BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='radians'), args=[Identifier(name='c')]), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI'))), right=FloatLiteral(value=0.5)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='/', left=CallExpr(callee=Identifier(name='radians'), args=[Identifier(name='c')]), right=BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI')))
e.right: FloatLiteral(value=0.5)
e.left: CallExpr(callee=Identifier(name='radians'), args=[Identifier(name='c')])
e.right: BinaryExpr(op='*', left=FloatLiteral(value=4.0), right=Identifier(name='M_PI'))
e.left: FloatLiteral(value=4.0)
e.right: Identifier(name='M_PI')
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	const float M_PI = 3.14159265358979323846;
	vec3 c = 360.0 * 2.0 * (gtf_Color.rgb - 0.5);
	color = vec4(radians(c) / (4.0 * M_PI) + 0.5, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  const float M_PI = 3.141592653589793;
  vec3 c = ((360.0 * 2.0) * (gtf_Color.rgb - 0.5));
  color = vec4(((radians(c) / (4.0 * M_PI)) + 0.5), 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/radians_vec3_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/exp2_vec3_frag_xvaryneg_ref.frag
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op='/', left=FloatLiteral(value=1.0), right=CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])), right=FloatLiteral(value=1.0))])
e.left: FloatLiteral(value=1.0)
e.right: CallExpr(callee=Identifier(name='pow'), args=[BinaryExpr(op=',', left=CallExpr(callee=Identifier(name='vec3'), args=[FloatLiteral(value=2.0)]), right=BinaryExpr(op='*', left=FloatLiteral(value=5.0), right=Identifier(name='c')))])
e.left: FloatLiteral(value=5.0)
e.right: Identifier(name='c')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
void main ()
{
	vec3 c = color.rgb;
	gl_FragColor = vec4(1.0 / pow(vec3(2.0), 5.0 * c), 1.0);
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

void main()
{
  vec3 c = color.rgb;
  gl_FragColor = vec4((1.0 / pow(vec3(2.0), (5.0 * c))), 1.0);
}


Filename: /home/oof/webgl_cleaned/exp2_vec3_frag_xvaryneg_ref.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/greaterThanEqual_ivec2_vert.vert
filename /home/oof/webgl_cleaned/greaterThanEqual_ivec2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:12: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:13: 'gl_Position' : undeclared identifier
ERROR: 0:13: 'assign' : l-value required (can't modify a const)
ERROR: 0:13: '=' : dimension mismatch
ERROR: 0:13: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=MemberExpr(base=Identifier(name='gtf_Color'), member='rg'))
e.right: FloatLiteral(value=4.5)
e.left: FloatLiteral(value=10.0)
e.right: MemberExpr(base=Identifier(name='gtf_Color'), member='rg')
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='result'), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	vec2 c = floor(10.0 * gtf_Color.rg - 4.5);
	vec2 result = vec2(greaterThanEqual(ivec2(c), ivec2(0)));
	color = vec4(result, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  vec2 c = floor(((10.0 * gtf_Color.rg) - 4.5));
  vec2 result = vec2(greaterThanEqual(ivec2(c), ivec2(0)));
  color = vec4(result, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/greaterThanEqual_ivec2_vert.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/mat4_empty_in_mat4_array_frag.frag
e.left: Identifier(name='ret')
e.right: CallExpr(callee=Identifier(name='function'), args=[Identifier(name='par')])
e.left: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='par'), right=Identifier(name='mat_ones'))])
e.right: CallExpr(callee=Identifier(name='is_all'), args=[BinaryExpr(op=',', left=Identifier(name='ret'), right=FloatLiteral(value=1.0))])
e.left: Identifier(name='gray')
e.right: FloatLiteral(value=1.0)
e.left: Identifier(name='gl_FragColor')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=Identifier(name='gray'), right=Identifier(name='gray')), right=Identifier(name='gray')), right=FloatLiteral(value=1.0))])
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=0)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=1)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=2)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=2))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=IndexExpr(base=Identifier(name='par'), index=IntLiteral(value=3)), index=IntLiteral(value=3))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
e.left: Identifier(name='ret')
e.right: BoolLiteral(value=False)
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=0))
e.right: Identifier(name='value')
e.left: IndexExpr(base=Identifier(name='array'), index=IntLiteral(value=1))
e.right: Identifier(name='value')
Original source code: precision mediump float;
precision mediump int;

precision mediump float;
varying vec4 color;
const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0,
			   1.0, 1.0, 1.0, 1.0);
const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0,
			    0.0, 0.0, 0.0, 0.0);
mat4 function(in mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main ()
{
	mat4 par[2];
	mat4 ret = mat_zeros;
	float gray = 0.0;
	set_all(par, mat_ones);
	ret = function(par);
	if(is_all(par, mat_ones) && is_all(ret, 1.0))
	{
		gray = 1.0;
	}
	gl_FragColor = vec4(gray, gray, gray, 1.0);
}
mat4 function(in mat4 par[2])
{
	if(is_all(par, mat_ones))
	{
		set_all(par, mat_zeros);
		return mat_ones;
	}
	else
		return mat_zeros;
}
bool is_all(const in mat4 par, const in float value)
{
	bool ret = true;
	if(par[0][0] != value)
		ret = false;
	if(par[0][1] != value)
		ret = false;
	if(par[0][2] != value)
		ret = false;
	if(par[0][3] != value)
		ret = false;
	if(par[1][0] != value)
		ret = false;
	if(par[1][1] != value)
		ret = false;
	if(par[1][2] != value)
		ret = false;
	if(par[1][3] != value)
		ret = false;
	if(par[2][0] != value)
		ret = false;
	if(par[2][1] != value)
		ret = false;
	if(par[2][2] != value)
		ret = false;
	if(par[2][3] != value)
		ret = false;
	if(par[3][0] != value)
		ret = false;
	if(par[3][1] != value)
		ret = false;
	if(par[3][2] != value)
		ret = false;
	if(par[3][3] != value)
		ret = false;
	return ret;
}
bool is_all(const in mat4 array[2], const in mat4 value)
{
	bool ret = true;
	if(array[0] != value)
		ret = false;
	if(array[1] != value)
		ret = false;
	return ret;
}
void set_all(out mat4 array[2], const in mat4 value)
{
	array[0] = value;
	array[1] = value;
}





New source code: precision mediump float;
precision mediump int;

varying vec4 color;

const mat4 mat_ones = mat4(1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0);

const mat4 mat_zeros = mat4(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);

mat4 function(in mat4 par[2]);
bool is_all(const in mat4 par, const in float value);
bool is_all(const in mat4 array[2], const in mat4 value);
void set_all(out mat4 array[2], const in mat4 value);
void main()
{
  mat4 par[2];
  mat4 ret = mat_zeros;
  float gray = 0.0;
  set_all(par, mat_ones);
  ret = function(par);
  if ((is_all(par, mat_ones) && is_all(ret, 1.0)))
  {
    gray = 1.0;
  }
  gl_FragColor = vec4(gray, gray, gray, 1.0);
}

mat4 function(in mat4 par[2])
{
  if (is_all(par, mat_ones))
  {
    set_all(par, mat_zeros);
    return mat_ones;
  }
  else
    return mat_zeros;
}

bool is_all(const in mat4 par, const in float value)
{
  bool ret = true;
  if ((par[0][0] != value))
    ret = false;
  if ((par[0][1] != value))
    ret = false;
  if ((par[0][2] != value))
    ret = false;
  if ((par[0][3] != value))
    ret = false;
  if ((par[1][0] != value))
    ret = false;
  if ((par[1][1] != value))
    ret = false;
  if ((par[1][2] != value))
    ret = false;
  if ((par[1][3] != value))
    ret = false;
  if ((par[2][0] != value))
    ret = false;
  if ((par[2][1] != value))
    ret = false;
  if ((par[2][2] != value))
    ret = false;
  if ((par[2][3] != value))
    ret = false;
  if ((par[3][0] != value))
    ret = false;
  if ((par[3][1] != value))
    ret = false;
  if ((par[3][2] != value))
    ret = false;
  if ((par[3][3] != value))
    ret = false;
  return ret;
}

bool is_all(const in mat4 array[2], const in mat4 value)
{
  bool ret = true;
  if ((array[0] != value))
    ret = false;
  if ((array[1] != value))
    ret = false;
  return ret;
}

void set_all(out mat4 array[2], const in mat4 value)
{
  array[0] = value;
  array[1] = value;
}


Filename: /home/oof/webgl_cleaned/mat4_empty_in_mat4_array_frag.frag passed with orig: True and new: True
Running /home/oof/webgl_cleaned/ceil_float_vert_xvary.vert
filename /home/oof/webgl_cleaned/ceil_float_vert_xvary.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:4: 'attribute' :  supported in vertex shaders only
ERROR: 0:5: 'attribute' :  supported in vertex shaders only
ERROR: 0:11: 'assign' : l-value required (can't modify a varying "color")
ERROR: 0:12: 'gl_Position' : undeclared identifier
ERROR: 0:12: 'assign' : l-value required (can't modify a const)
ERROR: 0:12: '=' : dimension mismatch
ERROR: 0:12: 'assign' : cannot convert from 'mediump 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



e.left: BinaryExpr(op='*', left=FloatLiteral(value=10.0), right=FloatLiteral(value=2.0))
e.right: BinaryExpr(op='-', left=MemberExpr(base=Identifier(name='gtf_Color'), member='r'), right=FloatLiteral(value=0.5))
e.left: FloatLiteral(value=10.0)
e.right: FloatLiteral(value=2.0)
e.left: MemberExpr(base=Identifier(name='gtf_Color'), member='r')
e.right: FloatLiteral(value=0.5)
e.left: Identifier(name='color')
e.right: CallExpr(callee=Identifier(name='vec4'), args=[BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op=',', left=BinaryExpr(op='/', left=BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='ceil'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0)), right=FloatLiteral(value=20.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=0.0)), right=FloatLiteral(value=1.0))])
e.left: BinaryExpr(op='+', left=CallExpr(callee=Identifier(name='ceil'), args=[Identifier(name='c')]), right=FloatLiteral(value=10.0))
e.right: FloatLiteral(value=20.0)
e.left: CallExpr(callee=Identifier(name='ceil'), args=[Identifier(name='c')])
e.right: FloatLiteral(value=10.0)
e.left: Identifier(name='gl_Position')
e.right: BinaryExpr(op='*', left=Identifier(name='gtf_ModelViewProjectionMatrix'), right=Identifier(name='gtf_Vertex'))
e.left: Identifier(name='gtf_ModelViewProjectionMatrix')
e.right: Identifier(name='gtf_Vertex')
Original source code: precision mediump float;
precision mediump int;

attribute vec4 gtf_Color;
attribute vec4 gtf_Vertex;
uniform mat4 gtf_ModelViewProjectionMatrix;
varying vec4 color;
void main ()
{
	float c = 10.0 * 2.0 * (gtf_Color.r - 0.5);
	color = vec4((ceil(c) + 10.0) / 20.0, 0.0, 0.0, 1.0);
	gl_Position = gtf_ModelViewProjectionMatrix * gtf_Vertex;
}





New source code: precision mediump float;
precision mediump int;

vec4 gtf_Color;

vec4 gtf_Vertex;

uniform mat4 gtf_ModelViewProjectionMatrix;

varying vec4 color;

void main()
{
  float c = ((10.0 * 2.0) * (gtf_Color.r - 0.5));
  color = vec4(((ceil(c) + 10.0) / 20.0), 0.0, 0.0, 1.0);
  gl_Position = (gtf_ModelViewProjectionMatrix * gtf_Vertex);
}


Filename: /home/oof/webgl_cleaned/ceil_float_vert_xvary.vert passed with orig: False and new: False
Running /home/oof/webgl_cleaned/CorrectConstFolding2_vert.vert
filename /home/oof/webgl_cleaned/CorrectConstFolding2_vert.vert errored with: #### BEGIN COMPILER 0 INFO LOG ####
ERROR: 0:304: 'gl_Position' : undeclared identifier
ERROR: 0:304: 'assign' : l-value required (can't modify a const)
ERROR: 0:304: '=' : dimension mismatch
ERROR: 0:304: 'assign' : cannot convert from 'const 4-component vector of float' to 'const highp float'

#### END COMPILER 0 INFO LOG ####



Got failure here: s5 {
    float k;
    };
    const struct s {
        int i;
    	float j;
      s5 s55;
    } ss = 
Expected ;  at 74, got ID:s5
Filename: /home/oof/webgl_cleaned/CorrectConstFolding2_vert.verterrored... continuing anyway...
